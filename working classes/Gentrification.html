<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gentrification - MIM Language Services</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }

        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 40px;
            overflow: hidden;
            height: 100%;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .section h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        /* Discussion Slideshow Styles */
        #discussion {
            padding: 0;
            background: white;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 40px 100px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .discussion-slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .discussion-slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        /* Image-only slide (Slide 1) */
        .slide-image-only {
            padding: 0;
        }

        /* Horizontal layout slides (Slides 2-5) */
        .slide-horizontal {
            flex-direction: row !important;
            gap: 30px;
        }

        .slide-text-section-left {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-right: 20px;
            max-width: 50%;
        }

        .slide-text-section-left h3 {
            font-size: 1.6rem;
            color: #2d3748;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .slide-text-section-left p {
            font-size: 1.05rem;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .slide-text-section-left ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .slide-text-section-left li {
            font-size: 1rem;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 8px;
            padding-left: 22px;
            position: relative;
        }

        .slide-text-section-left li:before {
            content: "â€¢";
            color: #667eea;
            font-weight: bold;
            position: absolute;
            left: 8px;
        }

        .slide-image-section-right {
            width: 45%;
            max-width: 50%;
            height: 100%;
            position: relative;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 16px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide-image-section-right img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 14px;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Navigation Arrows - Outside the white box */
        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -60px;
        }

        .slide-arrow.next {
            right: -60px;
        }

        /* Slide Indicators */
        .slide-indicators {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        /* Reading Section */
        .reading-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 80px);
        }

        .reading-nav {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .reading-subnav {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 30px;
        }

        .reading-level {
            flex: 1;
            position: relative;
            height: 100%;
            min-height: 500px;
        }

        .page-btn {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(102, 126, 234, 0.3);
            color: #4c51bf;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .page-btn.active, .page-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .reading-page {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            overflow-y: auto;
            overflow-x: hidden;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            scrollbar-width: auto;
            scrollbar-color: #c1c1c1 #f1f1f1;
        }

        .reading-page.active {
            display: block !important;
        }

        /* Force scrollbar to always be visible */
        .reading-page {
            -webkit-overflow-scrolling: touch;
        }

        .reading-page * {
            box-sizing: border-box;
        }

        /* Simplified scrollbar styling for reading pages */
        .reading-page::-webkit-scrollbar {
            width: 14px;
        }

        .reading-page::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 7px;
        }

        .reading-page::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 7px;
        }

        .reading-page::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        .reading-page p {
            color: #2d3748;
            line-height: 1.8;
            margin-bottom: 25px;
            font-size: 1.15rem;
            font-weight: 400;
        }

        .reading-page h3 {
            color: #2d3748;
            margin-bottom: 20px;
            margin-top: 35px;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .vocab-link {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            padding: 3px 8px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            font-size: 1.15rem;
        }

        .vocab-link:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .popup-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 35px;
            max-width: 450px;
            margin: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .popup-word {
            color: #2d3748;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 15px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }

        .popup-definition {
            color: #4a5568;
            line-height: 1.7;
            margin-bottom: 25px;
            font-size: 1.25rem;
        }

        .popup-close {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            float: right;
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .popup-close:hover {
            transform: translateY(-2px);
        }

        /* Vocabulary Section */
        .vocab-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
        }

        .vocab-nav {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .vocab-page {
            display: none;
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .vocab-page.active {
            display: block;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            height: auto;
            padding: 20px 0;
        }

        .flashcard {
            background: transparent;
            width: 100%;
            height: 220px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .flashcard-front {
            background: rgba(255, 255, 255, 0.9);
            color: #2d3748;
        }

        .flashcard-back {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            transform: rotateY(180deg);
        }

        .flashcard-term {
            font-weight: 700;
            font-size: 2rem;
            text-align: center;
        }

        .flashcard-definition {
            font-weight: 500;
            line-height: 1.5;
            text-align: center;
            font-size: 1.5rem;
        }

        .flashcard-hint {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.1rem;
            color: #a0aec0;
            opacity: 0.8;
        }

        .flashcard:hover .flashcard-inner {
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        /* NEW QUIZ SYSTEM STYLES */
        .quiz-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .quiz-nav {
            display: flex;
            gap: 12px;
        }

        .progress-container {
            flex: 1;
            margin: 0 30px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
            width: 0%;
            border-radius: 20px;
        }

        .quiz-page {
            display: none;
            flex: 1;
        }

        .quiz-page.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .quiz-question {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .quiz-question h3 {
            color: #2d3748;
            margin-bottom: 35px;
            font-size: 2rem;
            font-weight: 600;
        }

        .quiz-input {
            width: 100%;
            max-width: 450px;
            padding: 18px 25px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 25px;
            font-size: 1.6rem;
            text-align: center;
            margin: 25px auto;
            display: block;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .quiz-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .quiz-input.correct {
            border-color: #48bb78;
            background: rgba(72, 187, 120, 0.1);
        }

        .quiz-input.incorrect {
            border-color: #f56565;
            background: rgba(245, 101, 101, 0.1);
        }

        .multiple-choice {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 35px 0;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .choice {
            padding: 25px;
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #2d3748;
            font-size: 1.25rem;
            backdrop-filter: blur(5px);
        }

        .choice:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .choice input[type="radio"] {
            display: none;
        }

        .choice.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
        }

        .choice.correct {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: #ffffff;
            border-color: transparent;
        }

        .choice.incorrect {
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
            color: #ffffff;
            border-color: transparent;
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 18px 35px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.5rem;
            font-weight: 600;
            margin: 25px auto;
            display: block;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .check-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .nav-btn {
            padding: 12px 25px;
            background: rgba(45, 55, 72, 0.9);
            color: #ffffff;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(102, 126, 234, 0.9);
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: rgba(160, 174, 192, 0.5);
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            font-weight: 500;
            text-align: center;
            font-size: 1.1rem;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
        }

        .results-summary {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            max-width: 700px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .results-summary h3 {
            color: #2d3748;
            font-size: 2.2rem;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .score {
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 25px 0;
        }

        /* Video Section */
        .video-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
            padding: 15px;
            justify-content: center;
        }

        /* Video Discussions Section */
        .video-discussions-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
            padding: 30px;
            overflow-y: auto;
        }

        /* Writing Section */
        .writing-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 100px);
            padding: 10px;
            overflow: hidden;
            justify-content: center;
            align-items: center;
        }

        .writing-content {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            max-width: 95%;
            width: 95%;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            max-height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .writing-objective {
            color: #4a5568;
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .writing-question {
            color: #2d3748;
            font-size: 1.8rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 30px;
        }

        .writing-form .form-group {
            margin-bottom: 20px;
        }

        .writing-form .form-group label {
            display: block;
            color: #2d3748;
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .writing-form .form-group input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            font-size: 1rem;
            font-family: inherit;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        .writing-form .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
            background: rgba(255, 255, 255, 1);
        }

        .writing-form .button-container {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }

        .writing-form .check-button {
            flex: 1;
            max-width: 150px;
        }

        .tips-box {
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
        }

        .tips-box h4 {
            color: #2d3748;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }

        .vocab-category {
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .vocab-category strong {
            color: #2d3748;
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
        }

        .vocab-items {
            color: #4a5568;
            font-style: italic;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                height: auto;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }

            .header {
                flex-direction: column;
                text-align: center;
                padding: 20px 15px;
                background: rgba(255, 255, 255, 0.95);
            }

            .header h1 {
                font-size: 2rem;
                margin-bottom: 15px;
            }

            .header .website a {
                font-size: 1rem;
            }

            .header-image {
                width: 80px;
                height: 60px;
                margin-top: 15px;
            }

            .container {
                flex-direction: column;
                height: auto;
            }

            .navigation {
                width: 100%;
                padding: 20px 15px;
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                background: rgba(45, 55, 72, 0.95);
            }

            .nav-item {
                flex: 1;
                min-width: 120px;
                margin: 5px;
                font-size: 0.95rem;
                padding: 12px 16px;
                border-radius: 20px;
            }

            .content {
                height: auto;
                overflow: visible;
                background: rgba(255, 255, 255, 0.95);
            }

            .section {
                padding: 25px 15px;
                height: auto;
                overflow: visible;
            }

            .section h2 {
                font-size: 1.7rem;
                text-align: center;
                margin-bottom: 15px;
            }

            .discussion-grid {
                display: flex;
                flex-direction: column;
                gap: 20px;
                height: auto;
            }

            .discussion-header {
                order: -1;
                padding: 20px;
            }

            .actual-image {
                width: 250px;
                height: 150px;
                margin: 0 auto 15px;
                border-radius: 12px;
            }

            .discussion-question {
                padding: 20px;
                border-radius: 12px;
            }

            .discussion-question h3 {
                font-size: 1.3rem;
            }

            /* Mobile styles for slideshow */
            .slideshow-container {
                padding: 20px 15px;
                height: auto;
                min-height: 100vh;
            }

            .slide-content-wrapper {
                height: auto;
                min-height: 80vh;
                max-width: 100%;
                padding: 0;
            }

            .discussion-slide {
                padding: 20px 15px;
                height: auto;
                min-height: 80vh;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            }

            .slide-horizontal {
                flex-direction: column !important;
                gap: 20px;
            }

            .slide-text-section-left {
                max-width: 100%;
                padding-right: 0;
                margin-bottom: 20px;
            }

            .slide-text-section-left h3 {
                font-size: 1.4rem;
                margin-bottom: 15px;
                text-align: center;
            }

            .slide-text-section-left p {
                font-size: 1rem;
                line-height: 1.6;
                margin-bottom: 15px;
                text-align: center;
            }

            .slide-text-section-left ul {
                margin-top: 15px;
            }

            .slide-text-section-left li {
                font-size: 0.95rem;
                margin-bottom: 10px;
                padding-left: 25px;
            }

            .slide-image-section-right {
                width: 100%;
                max-width: 100%;
                height: 250px;
                margin-top: 20px;
                border-radius: 12px;
            }

            .slide-image-section-right img {
                border-radius: 10px;
            }

            .slide-arrow {
                width: 40px;
                height: 40px;
                z-index: 1000;
            }

            .slide-arrow.prev {
                left: 10px;
            }

            .slide-arrow.next {
                right: 10px;
            }

            .slide-indicators {
                bottom: 20px;
                gap: 8px;
            }

            .indicator-dot {
                width: 10px;
                height: 10px;
            }

            .discussion-question p {
                font-size: 1rem;
            }

            .reading-container {
                height: auto;
            }

            .reading-nav, .reading-subnav {
                flex-wrap: wrap;
                gap: 8px;
            }

            .page-btn {
                font-size: 0.95rem;
                padding: 10px 16px;
                flex: 1;
                min-width: 100px;
                border-radius: 20px;
            }

            .reading-page {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                overflow-y: auto;
                overflow-x: hidden;
                padding: 25px 20px;
                border-radius: 16px;
            }

            .reading-page h3 {
                font-size: 1.5rem;
            }

            .reading-page p {
                font-size: 1rem;
                line-height: 1.7;
            }

            .vocab-container {
                height: auto;
            }

            .vocab-nav {
                gap: 8px;
            }

            .vocab-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                height: auto;
            }

            .flashcard {
                height: 200px;
            }

            .flashcard-front, .flashcard-back {
                border-radius: 16px;
            }

            .flashcard-term {
                font-size: 1.7rem;
            }

            .flashcard-definition {
                font-size: 1.3rem;
            }

            .flashcard-hint {
                font-size: 1rem;
            }

            .quiz-container {
                height: auto;
            }

            .quiz-header {
                flex-direction: column;
                gap: 20px;
            }

            .quiz-nav {
                justify-content: center;
            }

            .nav-btn {
                font-size: 1rem;
                padding: 10px 20px;
                border-radius: 20px;
            }

            .quiz-question {
                padding: 30px 20px;
                margin: 0 10px;
                border-radius: 16px;
            }

            .quiz-question h3 {
                font-size: 1.6rem;
                margin-bottom: 25px;
            }

            .multiple-choice {
                grid-template-columns: 1fr;
                gap: 15px;
                max-width: 100%;
            }

            .choice {
                font-size: 1.1rem;
                padding: 20px;
                border-radius: 12px;
            }

            .quiz-input {
                font-size: 1.3rem;
                max-width: 100%;
                padding: 15px 20px;
                border-radius: 20px;
            }

            .check-button {
                font-size: 1.3rem;
                padding: 15px 30px;
                margin: 20px auto;
                border-radius: 20px;
            }

            .feedback {
                font-size: 1rem;
                margin: 20px 10px;
                border-radius: 10px;
            }

            .results-summary {
                padding: 30px 20px;
                margin: 0 10px;
                border-radius: 16px;
            }

            .results-summary h3 {
                font-size: 1.8rem;
            }

            .score {
                font-size: 3rem;
            }

            .popup-content {
                margin: 15px;
                padding: 30px 25px;
                max-width: 90%;
                border-radius: 16px;
            }

            .popup-word {
                font-size: 1.6rem;
            }

            .popup-definition {
                font-size: 1.1rem;
            }

            .popup-close {
                border-radius: 20px;
            }

            .vocab-link {
                font-size: 1rem;
                padding: 3px 8px;
                display: inline-block;
                margin: 1px;
                border-radius: 5px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.6rem;
            }

            .nav-item {
                font-size: 0.85rem;
                padding: 10px 12px;
                min-width: 100px;
            }

            .section {
                padding: 20px 12px;
            }

            .section h2 {
                font-size: 1.4rem;
                margin-bottom: 10px;
            }

            .quiz-question h3 {
                font-size: 1.4rem;
            }

            .flashcard {
                height: 180px;
            }

            .flashcard-term {
                font-size: 1.5rem;
            }

            .flashcard-definition {
                font-size: 1.2rem;
            }

            .reading-page {
                padding: 20px 15px;
            }

            .discussion-question {
                padding: 18px;
            }

            .actual-image {
                width: 200px;
                height: 120px;
            }

            .quiz-input {
                font-size: 1.2rem;
                padding: 12px 16px;
            }

            .check-button {
                font-size: 1.2rem;
                padding: 12px 25px;
            }

            /* Writing form mobile styles */
            .writing-content {
                padding: 30px 20px;
                margin: 0 10px;
            }

            .writing-question {
                font-size: 1.5rem;
            }

            .writing-form .button-container {
                flex-direction: column;
                gap: 10px;
            }

            .writing-form .check-button {
                max-width: none;
            }

            .tips-box {
                padding: 15px;
                margin: 20px 0;
            }

            .tips-box h4 {
                font-size: 1.1rem;
            }
        }

        @media (hover: none) and (pointer: coarse) {
            .nav-item,
            .choice,
            .flashcard,
            .vocab-link,
            .check-button,
            .page-btn {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .vocab-link {
                min-height: 32px;
                line-height: 1.2;
            }
        }
    </style>
</head>
<body>
    <!-- Audio elements for sound effects -->
    <audio id="flipSound" preload="auto">
        <source src="https://static.wixstatic.com/mp3/593d03_f6267363dcfb42e49efc4d6a65189d09.mp3" type="audio/mpeg">
    </audio>
    <audio id="correctSound" preload="auto">
        <source src="https://static.wixstatic.com/mp3/593d03_4391e836785b44ddba85840f97312533.mp3" type="audio/mpeg">
    </audio>

    <div class="header">
        <div class="header-left">
            <h1>Gentrification</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">www.mimlanguageservices.com</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="MIM Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('discussion', this)">Discussion</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('video', this)">Video</div>
            <div class="nav-item" onclick="showSection('video-discussions', this)">Video Discussions</div>
            <div class="nav-item" onclick="showSection('vocabulary', this)">Vocabulary</div>
            <div class="nav-item" onclick="showSection('quiz', this)">Interactive Quiz</div>
            <div class="nav-item" onclick="openWritingForm(this)">Writing</div>
        </div>

        <div class="content">
            <!-- Discussion Section with Slideshow -->
            <div class="section active" id="discussion">
                <div class="slideshow-container">

                    <div class="slide-content-wrapper">
                        <!-- Navigation Arrows - Outside the white box -->
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <!-- Slide 1 - Image Only -->
                        <div class="discussion-slide active slide-image-only">
                            <img src="https://static.wixstatic.com/media/593d03_f462340bff96451f9012491fd11d4378~mv2.png" alt="Business Networking Event" style="width: 100%; height: 100%; object-fit: cover; border-radius: 16px;">
                        </div>

                        <!-- Slide 2 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>What is Gentrification?</h3>
                                <p>Gentrification is a process where <span class="vocab-link" onclick="showPopup('working-class neighborhoods', 'areas where people with regular jobs live')">working-class neighborhoods</span> undergo changes that attract wealthier residents, often resulting in the <span class="vocab-link" onclick="showPopup('displacement', 'forcing people to move away')">displacement</span> of original residents.</p>
                                <ul>
                                    <li><span class="vocab-link" onclick="showPopup('Property values', 'the worth or price of houses and buildings')">Property values</span> and rent increase significantly</li>
                                    <li>Local businesses change to serve higher-income residents</li>
                                    <li>Original residents may be forced to move due to cost</li>
                                    <li>Neighborhood character and <span class="vocab-link" onclick="showPopup('demographics', 'the types of people living in an area')">demographics</span> shift</li>
                                    <li>Can bring both positive improvements and negative consequences</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Urban neighborhood transformation" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 3 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Cultural & Social Aspects</h3>
                                <p>How does gentrification change the cultural identity of a neighborhood?</p>
                                <ul>
                                    <li>Loss of <span class="vocab-link" onclick="showPopup('traditional businesses', 'long-established local shops and services')">traditional businesses</span> that served the original community</li>
                                    <li>Changes in <span class="vocab-link" onclick="showPopup('cultural events', 'festivals and celebrations important to local identity')">cultural events</span> and community gatherings</li>
                                    <li><span class="vocab-link" onclick="showPopup('Language barriers', 'difficulties when new residents speak different languages')">Language barriers</span> between old and new residents</li>
                                    <li>Disappearance of <span class="vocab-link" onclick="showPopup('affordable cultural spaces', 'places where community can gather without high costs')">affordable cultural spaces</span> and community centers</li>
                                    <li>Impact on local <span class="vocab-link" onclick="showPopup('traditions', 'customs passed down through generations')">traditions</span> and social networks</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1573164713714-d95e436ab8d6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Community cultural diversity" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 4 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Business Networking Terms in Everyday Language</h3>
                                <p>How have business networking terms like <span class="vocab-link" onclick="showPopup('networking', 'building professional relationships')">networking</span>, <span class="vocab-link" onclick="showPopup('collaboration', 'working together towards common goals')">collaboration</span>, and <span class="vocab-link" onclick="showPopup('stakeholder', 'person with interest in a business or project')">stakeholder</span> become part of everyday language? What does this say about professional culture's influence?</p>
                                <ul>
                                    <li>Educational institutions adopting business terminology</li>
                                    <li><span class="vocab-link" onclick="showPopup('professional development', 'improving career-related skills and knowledge')">Professional development</span> in all sectors</li>
                                    <li>Networking metaphors in social interactions</li>
                                    <li>Evolution of workplace language and culture</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Professional Team Collaboration" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 5 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Professional Mentorship and Industry Leaders</h3>
                                <p>How have <span class="vocab-link" onclick="showPopup('mentors', 'experienced professionals who guide others')">mentors</span> and industry thought leaders transformed professional development from informal learning into structured career advancement? What impact do they have on business culture?</p>
                                <ul>
                                    <li>Professional mentorship programs and corporate training</li>
                                    <li>LinkedIn influencers and <span class="vocab-link" onclick="showPopup('thought leadership', 'sharing expertise to influence industry direction')">thought leadership</span> content</li>
                                    <li>Business leaders and their cultural impact</li>
                                    <li>The rise of professional coaching as an <span class="vocab-link" onclick="showPopup('industry', 'particular sector of economic activity')">industry</span></li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1600880292203-757bb62b4baf?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Professional Networking" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>
                    </div>

                    <!-- Slide Indicators -->
                    <div class="slide-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <h2>Reading: Understanding Gentrification</h2>
                <div class="reading-container">
                    <div class="reading-nav">
                        <button class="page-btn active" onclick="showReadingLevel('A2', this)">A2 Reading</button>
                        <button class="page-btn" onclick="showReadingLevel('B1', this)">B1 Reading</button>
                        <button class="page-btn" onclick="showReadingLevel('B2', this)">B2 Reading</button>
                    </div>

                    <!-- Sub-navigation for each level -->
                    <div class="reading-subnav" id="reading-subnav">
                        <button class="page-btn active" onclick="showReadingPage(1, this)">What is Gentrification?</button>
                        <button class="page-btn" onclick="showReadingPage(2, this)">Why Does it Happen?</button>
                        <button class="page-btn" onclick="showReadingPage(3, this)">Good and Bad Effects</button>
                        <button class="page-btn" onclick="showReadingPage(4, this)">Solutions and Examples</button>
                    </div>

                    <!-- A2 Level Reading Pages -->
                    <div class="reading-level" id="A2-level">
                        <div class="reading-page active" id="A2-page-1">
                            <h3>What is Gentrification?</h3>
                            <p>
                                Gentrification is when <span class="vocab-link" onclick="showPopup('poor areas', 'neighborhoods with low income')">poor areas</span> in a city become expensive. This happens when new people move in and old residents have to leave.
                            </p>
                            <p>
                                Maria lives in a <span class="vocab-link" onclick="showPopup('neighborhood', 'area where people live')">neighborhood</span> that is changing. Five years ago, her area was quiet and <span class="vocab-link" onclick="showPopup('cheap', 'not expensive')">cheap</span>. Now, there are many new <span class="vocab-link" onclick="showPopup('shops', 'places where you buy things')">shops</span> and <span class="vocab-link" onclick="showPopup('restaurants', 'places where you eat food')">restaurants</span>.
                            </p>
                            <p>
                                The <span class="vocab-link" onclick="showPopup('rent', 'money you pay to live in a house')">rent</span> for Maria's apartment was $800 before. Now it is $1,500. She cannot pay this much money. Many of her <span class="vocab-link" onclick="showPopup('neighbors', 'people who live near you')">neighbors</span> already moved away.
                            </p>
                            <p>
                                This is a simple example of gentrification. When areas become more popular, they become more expensive. This can be good for some people but bad for others.
                            </p>
                        </div>

                        <div class="reading-page" id="A2-page-2">
                            <h3>Why Does Gentrification Happen?</h3>
                            <p>
                                Gentrification happens for many <span class="vocab-link" onclick="showPopup('reasons', 'causes or explanations')">reasons</span>. Sometimes a city wants to make an area look <span class="vocab-link" onclick="showPopup('better', 'more attractive or improved')">better</span>. They build new <span class="vocab-link" onclick="showPopup('parks', 'green spaces for people to enjoy')">parks</span> and <span class="vocab-link" onclick="showPopup('roads', 'streets for cars and people')">roads</span>.
                            </p>
                            <p>
                                Young <span class="vocab-link" onclick="showPopup('professionals', 'people with good jobs')">professionals</span> often look for places to live that are close to the <span class="vocab-link" onclick="showPopup('city center', 'downtown area of a city')">city center</span>. They want short <span class="vocab-link" onclick="showPopup('commutes', 'trips to work')">commutes</span> to work. Old neighborhoods are perfect for this.
                            </p>
                            <p>
                                When these new people move in, they have more money to spend. <span class="vocab-link" onclick="showPopup('Property owners', 'people who own buildings')">Property owners</span> see this and increase the <span class="vocab-link" onclick="showPopup('prices', 'cost of things')">prices</span>. They want to make more <span class="vocab-link" onclick="showPopup('profit', 'extra money they earn')">profit</span>.
                            </p>
                            <p>
                                Soon, the whole area changes. Old businesses close and new expensive ones open. The <span class="vocab-link" onclick="showPopup('community', 'group of people living together')">community</span> that lived there before cannot <span class="vocab-link" onclick="showPopup('afford', 'have enough money for')">afford</span> to stay.
                            </p>
                        </div>

                        <div class="reading-page" id="A2-page-3">
                            <h3>Good and Bad Effects</h3>
                            <p>
                                Gentrification has both <span class="vocab-link" onclick="showPopup('positive', 'good')">positive</span> and <span class="vocab-link" onclick="showPopup('negative', 'bad')">negative</span> effects. Let's look at both sides.
                            </p>
                            <p>
                                The good things include: cleaner streets, better <span class="vocab-link" onclick="showPopup('safety', 'being protected from danger')">safety</span>, new jobs, and improved <span class="vocab-link" onclick="showPopup('public transport', 'buses and trains for everyone')">public transport</span>. The area becomes more <span class="vocab-link" onclick="showPopup('attractive', 'nice to look at')">attractive</span> and modern.
                            </p>
                            <p>
                                However, there are bad things too. Many <span class="vocab-link" onclick="showPopup('families', 'parents and children living together')">families</span> who lived there for many years must move away. They lose their <span class="vocab-link" onclick="showPopup('homes', 'places where people live')">homes</span> and <span class="vocab-link" onclick="showPopup('friends', 'people you like spending time with')">friends</span>.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Local businesses', 'small shops owned by people in the area')">Local businesses</span> that served the community for years often <span class="vocab-link" onclick="showPopup('close down', 'stop operating')">close down</span>. The <span class="vocab-link" onclick="showPopup('culture', 'way of life of a group of people')">culture</span> and <span class="vocab-link" onclick="showPopup('character', 'special qualities')">character</span> of the neighborhood can disappear.
                            </p>
                        </div>

                        <div class="reading-page" id="A2-page-4">
                            <h3>Solutions and Examples</h3>
                            <p>
                                Some cities try to <span class="vocab-link" onclick="showPopup('control', 'manage or limit')">control</span> gentrification. They create <span class="vocab-link" onclick="showPopup('rules', 'official guidelines')">rules</span> to protect people who already live in the area.
                            </p>
                            <p>
                                For example, they can limit how much <span class="vocab-link" onclick="showPopup('landlords', 'people who rent apartments to others')">landlords</span> can increase rent each year. They can also <span class="vocab-link" onclick="showPopup('require', 'make it necessary')">require</span> new developments to include <span class="vocab-link" onclick="showPopup('affordable housing', 'homes that are not too expensive')">affordable housing</span>.
                            </p>
                            <p>
                                Some <span class="vocab-link" onclick="showPopup('communities', 'groups of people living in the same area')">communities</span> work together to keep their <span class="vocab-link" onclick="showPopup('identity', 'special character or qualities')">identity</span>. They support local businesses and <span class="vocab-link" onclick="showPopup('fight', 'work hard against something')">fight</span> against changes that hurt their community.
                            </p>
                            <p>
                                Gentrification is a complex <span class="vocab-link" onclick="showPopup('issue', 'problem or topic')">issue</span>. Understanding it helps us think about how cities change and how we can make them better for <span class="vocab-link" onclick="showPopup('everyone', 'all people')">everyone</span>.
                            </p>
                        </div>
                    </div>

                    <!-- B1 Level Reading Pages -->
                    <div class="reading-level" id="B1-level" style="display: none;">
                        <div class="reading-page active" id="B1-page-1">
                            <h3>How Gentrification Changes Neighborhoods</h3>
                            <p>
                                Tom lived in the same neighborhood for twenty years. When he first moved there, it was a <span class="vocab-link" onclick="showPopup('working-class area', 'place where people with regular jobs live')">working-class area</span> with affordable apartments and local shops. Most of his neighbors worked in factories or had service jobs. Everyone knew each other, and children played safely in the streets.
                            </p>
                            <p>
                                About five years ago, things started to change. First, a new <span class="vocab-link" onclick="showPopup('subway station', 'underground train stop')">subway station</span> opened nearby, making it easier to travel to the city center. Then, young professionals began moving in because the rent was still <span class="vocab-link" onclick="showPopup('reasonable', 'not too expensive')">reasonable</span> compared to other areas. They liked the neighborhood's <span class="vocab-link" onclick="showPopup('character', 'special feeling or atmosphere')">character</span> and the short <span class="vocab-link" onclick="showPopup('commute', 'trip to work')">commute</span> to their offices.
                            </p>
                            <p>
                                As more wealthy people moved in, property owners realized they could charge higher rent. The old corner store closed and was replaced by an expensive <span class="vocab-link" onclick="showPopup('organic grocery store', 'shop selling natural, expensive food')">organic grocery store</span>. The local cafe became a trendy <span class="vocab-link" onclick="showPopup('coffee shop', 'modern place serving expensive coffee')">coffee shop</span> where a simple coffee cost three times more than before.
                            </p>
                            <p>
                                This is a typical example of gentrification. When wealthy people move into cheaper areas, it often <span class="vocab-link" onclick="showPopup('forces out', 'makes people leave')">forces out</span> the original residents who can no longer afford to live there.
                            </p>
                        </div>

                        <div class="reading-page" id="B1-page-2">
                            <h3>Why Investors Choose Certain Areas</h3>
                            <p>
                                Investors and <span class="vocab-link" onclick="showPopup('developers', 'companies that build new buildings')">developers</span> look for neighborhoods where they can make money. They usually choose areas that are close to the city center but still have <span class="vocab-link" onclick="showPopup('low property prices', 'cheap houses and apartments')">low property prices</span>. These areas often have good <span class="vocab-link" onclick="showPopup('transportation links', 'buses, trains, and roads')">transportation links</span> and interesting old buildings that can be <span class="vocab-link" onclick="showPopup('renovated', 'fixed up and made modern')">renovated</span>.
                            </p>
                            <p>
                                When investors buy old buildings, they often <span class="vocab-link" onclick="showPopup('convert', 'change into something else')">convert</span> them into expensive apartments or <span class="vocab-link" onclick="showPopup('condominiums', 'apartments that people can buy')">condominiums</span>. They know that young professionals want to live close to work and are willing to pay higher rent for modern apartments. This creates a <span class="vocab-link" onclick="showPopup('chain reaction', 'one thing causing another to happen')">chain reaction</span> where property values go up quickly.
                            </p>
                            <p>
                                Local business owners face difficult choices. As rent increases, small family businesses like <span class="vocab-link" onclick="showPopup('barbershops', 'places where men get haircuts')">barbershops</span>, <span class="vocab-link" onclick="showPopup('laundromats', 'places to wash clothes')">laundromats</span>, and neighborhood restaurants often cannot afford to stay. They are replaced by <span class="vocab-link" onclick="showPopup('upscale businesses', 'expensive shops and restaurants')">upscale businesses</span> that serve the new, wealthier residents.
                            </p>
                            <p>
                                This economic pressure is very strong. Even property owners who don't want to <span class="vocab-link" onclick="showPopup('displace', 'force people to move')">displace</span> their tenants may feel they have no choice but to raise rent when all the other buildings around them become more expensive.
                            </p>
                        </div>

                        <div class="reading-page" id="B1-page-3">
                            <h3>How Gentrification Affects Families and Communities</h3>
                            <p>
                                When gentrification happens, it doesn't just change the buildings - it changes people's lives. Long-time residents often feel like they no longer <span class="vocab-link" onclick="showPopup('belong', 'fit in or feel comfortable')">belong</span> in their own neighborhood. The places where they used to shop, eat, and meet friends may disappear or become too expensive for them to use.
                            </p>
                            <p>
                                Families are often <span class="vocab-link" onclick="showPopup('split up', 'separated and forced to live apart')">split up</span> when grandparents or adult children can no longer afford to live in the same area. For example, Elena's mother had to move one hour away when her rent doubled. Now Elena struggles to find <span class="vocab-link" onclick="showPopup('childcare', 'someone to look after children')">childcare</span> for her young daughter because her mother can't help every day like before.
                            </p>
                            <p>
                                Children's education can suffer too. When families move to cheaper areas further from the city, children often have to change schools and leave their friends behind. Some families <span class="vocab-link" onclick="showPopup('spend hours commuting', 'travel for a long time each day')">spend hours commuting</span> each day so their children can stay in the same school, but this creates stress for the whole family.
                            </p>
                            <p>
                                However, gentrification can also bring some positive changes. New residents may help <span class="vocab-link" onclick="showPopup('improve public services', 'make government services better')">improve public services</span> like schools, parks, and police protection. The challenge is finding ways to get these benefits without <span class="vocab-link" onclick="showPopup('pushing out', 'forcing away')">pushing out</span> the people who already live there.
                            </p>
                        </div>

                        <div class="reading-page" id="B1-page-4">
                            <h3>What Cities Can Do to Help</h3>
                            <p>
                                Many cities are trying to find ways to <span class="vocab-link" onclick="showPopup('manage', 'control or handle')">manage</span> gentrification so that neighborhoods can improve without <span class="vocab-link" onclick="showPopup('losing', 'being without')">losing</span> their original residents. Some cities have created <span class="vocab-link" onclick="showPopup('rent control laws', 'rules that limit how much rent can increase')">rent control laws</span> that prevent <span class="vocab-link" onclick="showPopup('landlords', 'people who own rental properties')">landlords</span> from raising rent too quickly or too much each year.
                            </p>
                            <p>
                                Another solution is to require new <span class="vocab-link" onclick="showPopup('developments', 'new buildings or housing projects')">developments</span> to include some <span class="vocab-link" onclick="showPopup('affordable housing', 'homes that working families can afford')">affordable housing</span>. For example, if a developer wants to build expensive apartments, the city might require that 20% of the units must be <span class="vocab-link" onclick="showPopup('priced', 'cost')">priced</span> for families with average incomes.
                            </p>
                            <p>
                                Community groups also play an important role. When residents <span class="vocab-link" onclick="showPopup('organize', 'work together in groups')">organize</span> and speak with one voice, they can <span class="vocab-link" onclick="showPopup('influence', 'have an effect on')">influence</span> city planning decisions. Some communities have successfully fought against developments that would harm their neighborhood, or <span class="vocab-link" onclick="showPopup('negotiated', 'discussed and reached agreements')">negotiated</span> to get benefits like new parks or community centers.
                            </p>
                            <p>
                                The best solutions happen when everyone works together - residents, developers, and city government. The goal is to create neighborhoods that are safe, attractive, and <span class="vocab-link" onclick="showPopup('affordable', 'not too expensive')">affordable</span> for people from all <span class="vocab-link" onclick="showPopup('income levels', 'amounts of money people earn')">income levels</span>.
                            </p>
                        </div>
                    </div>

                    <!-- B2 Level Reading Pages -->
                    <div class="reading-level" id="B2-level" style="display: none;">
                        <div class="reading-page active" id="B2-page-1">
                            <h3>Understanding Modern Gentrification</h3>
                            <p>
                                Gentrification today is more <span class="vocab-link" onclick="showPopup('complex', 'complicated and difficult to understand')">complex</span> than it was in the past. It's not simply about rich people moving into poor neighborhoods. Modern gentrification involves many different <span class="vocab-link" onclick="showPopup('factors', 'things that influence a situation')">factors</span> including government policies, business investments, and changing lifestyle preferences of young professionals.
                            </p>
                            <p>
                                Many cities actively <span class="vocab-link" onclick="showPopup('encourage', 'support or promote something')">encourage</span> gentrification through <span class="vocab-link" onclick="showPopup('urban renewal', 'improving old areas of cities')">urban renewal</span> projects. They believe that bringing wealthier residents into <span class="vocab-link" onclick="showPopup('run-down areas', 'neighborhoods in poor condition')">run-down areas</span> will increase tax revenue and reduce crime. However, this approach often <span class="vocab-link" onclick="showPopup('overlooks', 'fails to consider')">overlooks</span> the negative effects on existing communities.
                            </p>
                            <p>
                                The process has become more <span class="vocab-link" onclick="showPopup('sophisticated', 'advanced and refined')">sophisticated</span> with the rise of social media and online marketing. <span class="vocab-link" onclick="showPopup('Real estate companies', 'businesses that buy and sell property')">Real estate companies</span> now use digital platforms to <span class="vocab-link" onclick="showPopup('target', 'aim at specific groups')">target</span> specific demographics and create demand for certain neighborhoods.
                            </p>
                            <p>
                                Understanding these modern aspects of gentrification helps us see why traditional solutions may not be enough to address the challenges faced by <span class="vocab-link" onclick="showPopup('vulnerable communities', 'groups of people at risk of being harmed')">vulnerable communities</span> in changing urban environments.
                            </p>
                        </div>

                        <div class="reading-page" id="B2-page-2">
                            <h3>The Human Cost of Gentrification</h3>
                            <p>
                                While gentrification can bring improvements to neighborhoods, it often comes with serious <span class="vocab-link" onclick="showPopup('consequences', 'results or effects of something')">consequences</span> for the people who already live there. Families who have lived in an area for generations may find themselves unable to <span class="vocab-link" onclick="showPopup('cope with', 'deal successfully with')">cope with</span> rising costs and are forced to move to more distant, less expensive areas.
                            </p>
                            <p>
                                The social <span class="vocab-link" onclick="showPopup('fabric', 'the structure of relationships in a community')">fabric</span> of communities can be severely damaged. Local businesses that have served the community for decades, such as family-owned grocery stores, repair shops, and restaurants, often cannot afford the increased rent and must close down. This breaks up the network of relationships that made the neighborhood a true community.
                            </p>
                            <p>
                                Children and elderly people are particularly affected. Students may have to change schools when their families move, <span class="vocab-link" onclick="showPopup('disrupting', 'interrupting or interfering with')">disrupting</span> their education and friendships. Elderly residents lose access to familiar services and social connections they have built over many years. The <span class="vocab-link" onclick="showPopup('stress', 'mental or emotional pressure')">stress</span> of these changes can seriously impact their health and well-being.
                            </p>
                            <p>
                                Many experts argue that cities need to find ways to improve neighborhoods while protecting existing residents. This requires <span class="vocab-link" onclick="showPopup('balancing', 'finding the right combination of')">balancing</span> economic development with social responsibility and ensuring that all community members benefit from urban improvements.
                            </p>
                        </div>

                        <div class="reading-page" id="B2-page-3">
                            <h3>Gentrification Around the World</h3>
                            <p>
                                Gentrification is not just an American or British problem - it's happening in cities all over the world, but in different ways. In European cities like Berlin and Barcelona, strong <span class="vocab-link" onclick="showPopup('tenant protection laws', 'rules that help renters keep their homes')">tenant protection laws</span> have made gentrification slower and less dramatic. However, these cities still struggle with rising housing costs and changing neighborhood character.
                            </p>
                            <p>
                                In developing countries, gentrification often takes different forms. In cities like SÃ£o Paulo, Brazil, and Mumbai, India, <span class="vocab-link" onclick="showPopup('informal settlements', 'areas where people live without official permission')">informal settlements</span> may be demolished to make way for shopping centers or luxury housing. This type of gentrification can be even more <span class="vocab-link" onclick="showPopup('devastating', 'extremely damaging')">devastating</span> because displaced families have fewer legal protections.
                            </p>
                            <p>
                                Asian cities like Tokyo and Seoul have experienced unique forms of gentrification related to international investment and tourism. In some neighborhoods, local residents find themselves <span class="vocab-link" onclick="showPopup('outnumbered', 'fewer in number than')">outnumbered</span> by tourists and foreign investors, fundamentally changing the daily life and culture of their communities.
                            </p>
                            <p>
                                Despite these differences, cities worldwide are learning from each other's experiences. <span class="vocab-link" onclick="showPopup('Urban planners', 'professionals who design city development')">Urban planners</span> and community activists <span class="vocab-link" onclick="showPopup('share strategies', 'exchange ideas and methods')">share strategies</span> for managing neighborhood change while protecting existing residents and preserving community identity.
                            </p>
                        </div>

                        <div class="reading-page" id="B2-page-4">
                            <h3>Fighting Back and Finding Solutions</h3>
                            <p>
                                Many communities have found creative ways to <span class="vocab-link" onclick="showPopup('resist', 'fight against or oppose')">resist</span> harmful gentrification while still allowing positive neighborhood improvements. In some cities, community groups have successfully <span class="vocab-link" onclick="showPopup('lobbied', 'tried to influence government decisions')">lobbied</span> for <span class="vocab-link" onclick="showPopup('affordable housing requirements', 'rules that some new housing must be cheap')">affordable housing requirements</span> in new developments. This means that when developers build expensive apartments, they must also include some units that working families can afford.
                            </p>
                            <p>
                                Some neighborhoods have created <span class="vocab-link" onclick="showPopup('community gardens', 'shared spaces where residents grow food together')">community gardens</span>, cooperative businesses, and local <span class="vocab-link" onclick="showPopup('cultural centers', 'places that preserve and celebrate local culture')">cultural centers</span> to strengthen community bonds and preserve their identity. These initiatives help residents stay connected to their neighborhood even as it changes around them.
                            </p>
                            <p>
                                The COVID-19 pandemic showed how important strong communities are during difficult times. Neighborhoods with good relationships between residents were better able to support each other during <span class="vocab-link" onclick="showPopup('lockdowns', 'periods when people had to stay home')">lockdowns</span> and economic hardship. This has made many people realize that community connections are just as valuable as fancy shops or restaurants.
                            </p>
                            <p>
                                Looking toward the future, many experts believe that the best approach is "<span class="vocab-link" onclick="showPopup('inclusive development', 'growth that benefits everyone in the community')">inclusive development</span>" - making neighborhoods better while ensuring that long-term residents can stay and benefit from the improvements. This requires cooperation between residents, developers, and local government to create solutions that work for everyone.
                            </p>
                        </div>
                    </div>

                    <!-- C1 Level Reading Pages -->
                    <div class="reading-level" id="C1-level" style="display: none;">
                        <div class="reading-page active" id="C1-page-1">
                            <h3>The Metamorphosis of Professional Network Architecture</h3>
                            <p>
                                The contemporary landscape of professional networking represents a paradigmatic shift from its traditional foundations to become a sophisticated relational ecosystem that transcends conventional boundaries of industry, geography, and institutional hierarchy. This evolution reflects broader technological and societal transformations that have fundamentally altered how individuals conceptualize career development, knowledge exchange, and professional community formation in the digital age.
                            </p>
                            <p>
                                The emergence of <span class="vocab-link" onclick="showPopup('transmedia professional presence', 'professional identity that spans multiple platforms and contexts')">transmedia professional presence</span> within networking contexts has created unprecedented opportunities for personal branding complexity and stakeholder engagement. These multifaceted professional experiences challenge traditional distinctions between formal credentials and demonstrated expertise, fostering new forms of professional expression and community building.
                            </p>
                            <p>
                                Contemporary networking culture demonstrates remarkable <span class="vocab-link" onclick="showPopup('professional heterogeneity', 'diverse professional expressions within networking communities')">professional heterogeneity</span>, encompassing diverse demographic groups, educational backgrounds, and socioeconomic contexts. This diversity challenges stereotypical representations of professional networks while simultaneously creating new forms of digital stratification and social capital accumulation.
                            </p>
                            <p>
                                The phenomenon of <span class="vocab-link" onclick="showPopup('participatory professionalism', 'culture where members actively engage and contribute to professional discourse')">participatory professionalism</span> within networking environments has facilitated unprecedented levels of individual agency and collaborative innovation. Professionals increasingly function as co-creators, developing, extending, and reimagining industry practices through sophisticated platforms and methodologies that blur traditional distinctions between knowledge consumption and knowledge production.
                            </p>
                        </div>

                        <div class="reading-page" id="C1-page-2">
                            <h3>Sociological Implications of Professional Networks</h3>
                            <p>
                                The sociological implications of digital professional networks extend far beyond career advancement, offering insights into contemporary organizational behavior, professional identity formation, and collective knowledge creation patterns. These digital spaces function as laboratories for professional experimentation, where traditional hierarchies and industry norms are constantly negotiated and redefined through collaborative processes.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Professional ethnography', 'study of professional communities and their cultural practices')">Professional ethnography</span> within networking contexts reveals complex organizational structures that often mirror and sometimes subvert traditional corporate dynamics. These communities develop sophisticated systems of knowledge governance, expertise validation, and resource distribution that challenge conventional understanding of authority and influence in professional spaces.
                            </p>
                            <p>
                                The concept of <span class="vocab-link" onclick="showPopup('network capital', 'valuable relationships and reputation within professional environments')">network capital</span> has emerged as a significant factor in professional community dynamics, encompassing not only tangible resources but also social connections, professional reputation, and industry knowledge. This form of capital can translate into career opportunities and business success, blurring boundaries between personal relationships and professional economic systems.
                            </p>
                            <p>
                                Professional networks often exhibit <span class="vocab-link" onclick="showPopup('emergent collaboration', 'complex collaborative behaviors that arise from professional interactions')">emergent collaboration</span> patterns that were not anticipated by organizational designers, demonstrating the innovative potential of collective professional interaction within structured digital environments. These emergent phenomena provide valuable insights into human professional adaptability and collaborative innovation.
                            </p>
                        </div>

                        <div class="reading-page" id="C1-page-3">
                            <h3>Technological Convergence and Network Futures</h3>
                            <p>
                                The convergence of advanced technologies within professional networking platforms represents a fundamental transformation in how professional relationships are conceived, developed, and maintained. <span class="vocab-link" onclick="showPopup('Algorithmic networking', 'AI systems that facilitate strategic professional connections')">Algorithmic networking</span> through artificial intelligence is beginning to generate dynamic, personalized networking recommendations that adapt to individual career trajectories and professional objectives in real-time.
                            </p>
                            <p>
                                The integration of <span class="vocab-link" onclick="showPopup('immersive communication systems', 'technology that provides realistic virtual interaction experiences')">immersive communication systems</span> and advanced telepresence technologies promises to create increasingly authentic networking experiences that engage multiple communication modalities. These developments suggest a future where the distinction between physical and virtual professional interaction becomes increasingly indistinguishable.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Distributed networking', 'professional connections shared across multiple platforms and contexts')">Distributed networking</span> architectures are enabling new forms of collaborative professional experiences that transcend traditional limitations of centralized organizational systems. These technological frameworks support persistent professional ecosystems that can accommodate unprecedented numbers of simultaneous collaborators while maintaining complex, dynamic working relationships.
                            </p>
                            <p>
                                The emergence of <span class="vocab-link" onclick="showPopup('quantum networking', 'theoretical networking applications using quantum communication principles')">quantum networking</span> represents the theoretical frontier of professional connection technology, potentially enabling networking experiences that operate according to quantum information principles. While largely speculative, these concepts illustrate the continued expansion of technological possibilities within professional networking contexts.
                            </p>
                        </div>

                        <div class="reading-page" id="C1-page-4">
                            <h3>Critical Perspectives on Network Culture</h3>
                            <p>
                                Critical analysis of contemporary networking culture reveals complex tensions between democratizing potential and exclusionary practices, highlighting the need for nuanced understanding of how professional relationship spaces both challenge and reinforce existing social hierarchies. <span class="vocab-link" onclick="showPopup('Algorithmic bias', 'unfair discrimination built into automated networking systems')">Algorithmic bias</span> within networking platforms can perpetuate professional inequalities while simultaneously creating new forms of career discrimination.
                            </p>
                            <p>
                                The commodification of networking culture through <span class="vocab-link" onclick="showPopup('monetization strategies', 'methods for generating revenue from professional connections')">monetization strategies</span> raises significant questions about the relationship between authentic relationship building and commercial exploitation. These practices often create tension between genuine professional development and profit maximization, potentially compromising the integrity of professional networking experiences.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Professional appropriation', 'adopting professional practices without understanding or permission')">Professional appropriation</span> within networking content represents an ongoing challenge as individuals draw inspiration from diverse professional traditions without adequate understanding or representation from source communities. This issue highlights broader questions about professional authenticity and genuine expertise representation in digital networking spaces.
                            </p>
                            <p>
                                The environmental impact of digital networking technology and infrastructure presents an increasingly urgent concern as the industry's energy consumption continues to grow. <span class="vocab-link" onclick="showPopup('Sustainable networking', 'environmentally responsible approaches to digital professional connection')">Sustainable networking</span> initiatives seek to balance technological connectivity with environmental responsibility, though comprehensive solutions remain elusive.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Section -->
            <div class="section" id="video">
                <h2>Video: Business Networking Explained</h2>
                <div class="video-container">
                    <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
                        <div style="width: 98%; max-width: 1400px; position: relative; padding-bottom: 52%; height: 0;">
                            <iframe
                                src="https://www.youtube.com/embed/Q41b3OBcE0c?start=163&end=345"
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 3px solid #34495E; border-radius: 10px; box-shadow: 0 4px 8px rgba(52, 73, 94, 0.2);"
                                frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Discussions Section -->
            <div class="section" id="video-discussions">
                <div class="slideshow-container">

                    <div class="slide-content-wrapper">
                        <!-- Navigation Arrows - Outside the white box -->
                        <button class="slide-arrow prev" onclick="changeVideoSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeVideoSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <!-- Slide 1 -->
                        <div class="discussion-slide active slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Two Types of Networking</h3>
                                <p>The video explains two types of networking: <span class="vocab-link" onclick="showPopup('peer networking', 'connecting with someone at your level for mutual benefit')">peer networking</span> and <span class="vocab-link" onclick="showPopup('reach networking', 'networking with someone above you who has something you want')">reach networking</span>. Which type do you think is more effective and why?</p>
                                <ul>
                                    <li>What are examples of peer networking in your experience?</li>
                                    <li>When might reach networking be necessary?</li>
                                    <li>How can you balance both types in your networking strategy?</li>
                                    <li>Which type feels more comfortable to you personally?</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1559136555-9303baea8ebd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Peer to Peer Networking" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 2 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>"Always Be Networking" (ABN)</h3>
                                <p>The speaker's number one tip is <span class="vocab-link" onclick="showPopup('ABN', 'Always Be Networking - network before you need it')">ABN - Always Be Networking</span>. What does "network before you need it" mean to you?</p>
                                <ul>
                                    <li>Why is it important to build relationships before asking for favors?</li>
                                    <li>How can you practice networking without being "cringe"?</li>
                                    <li>What's the difference between networking and using people?</li>
                                    <li>How can you give value to others when networking?</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1517048676732-d65bc937f952?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Always Be Networking" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 3 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>LinkedIn Networking Strategy</h3>
                                <p>The video suggests connecting with 10-20 people daily on LinkedIn with genuine <span class="vocab-link" onclick="showPopup('compliments', 'positive, authentic comments about someone\'s work or achievements')">compliments</span>, not requests. How do you approach online networking?</p>
                                <ul>
                                    <li>What makes a LinkedIn connection request genuine vs. generic?</li>
                                    <li>How do you find common ground with new <span class="vocab-link" onclick="showPopup('connections', 'professional relationships or contacts')">connections</span>?</li>
                                    <li>What are the benefits of the Connect vs. Follow options?</li>
                                    <li>How can you maintain relationships after the initial connection?</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://static.wixstatic.com/media/593d03_653a52e2d850447196afbbfa5e0e10c4~mv2.jpg" alt="LinkedIn Networking Strategy" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 4 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Power Dynamics in Networking</h3>
                                <p>The video discusses <span class="vocab-link" onclick="showPopup('unbalanced dynamics', 'when one person has more power or resources than the other')">unbalanced dynamics</span> in reach networking. How can you approach senior professionals respectfully?</p>
                                <ul>
                                    <li>What can you offer to someone more senior than you?</li>
                                    <li>How do you show respect while still being confident?</li>
                                    <li>What's the difference between networking with recruiters vs. executives?</li>
                                    <li>How can you build relationships without seeming transactional?</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://static.wixstatic.com/media/593d03_5afc9244c65b41c3a9573a7920746dda~mv2.jpg" alt="Power Dynamics in Business" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                    </div>

                    <!-- Slide Indicators -->
                    <div class="slide-indicators">
                        <span class="indicator-dot active" onclick="goToVideoSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToVideoSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToVideoSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToVideoSlide(4)"></span>
                    </div>
                </div>
            </div>

            <!-- Vocabulary Section -->
            <div class="section" id="vocabulary">
                <h2>Business Networking Vocabulary</h2>
                <div class="vocab-container">
                    <div class="vocab-nav">
                        <button class="page-btn active" onclick="showVocabPage(1, this)">Basic Terms</button>
                        <button class="page-btn" onclick="showVocabPage(2, this)">Professional</button>
                        <button class="page-btn" onclick="showVocabPage(3, this)">Business & Events</button>
                    </div>

                    <div class="vocab-page active" id="vocab-page-1">
                        <div class="vocab-grid">
                        </div>
                    </div>

                    <div class="vocab-page" id="vocab-page-2">
                        <div class="vocab-grid">
                        </div>
                    </div>

                    <div class="vocab-page" id="vocab-page-3">
                        <div class="vocab-grid">
                        </div>
                    </div>
                </div>
            </div>

            <!-- NEW VOCABULARY-BASED QUIZ SECTION -->
            <div class="section" id="quiz">
                <h2>Business Networking Vocabulary Quiz</h2>
                <div class="quiz-container">
                    <div class="quiz-header" id="quiz-header">
                        <div class="quiz-nav">
                            <button class="nav-btn" onclick="previousQuizQuestion()" id="prevQuizBtn">Previous</button>
                        </div>
                        <div class="progress-container">
                            <div id="quiz-counter">Question 1 of 10</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="quizProgressFill"></div>
                            </div>
                        </div>
                        <div class="quiz-nav">
                            <button class="nav-btn" onclick="nextQuizQuestion()" id="nextQuizBtn">Next</button>
                        </div>
                    </div>

                    <!-- Dynamic Quiz Questions Container -->
                    <div id="quiz-questions-container">
                        <!-- Questions will be generated dynamically -->
                    </div>

                    <div class="quiz-page" id="quiz-results-page" style="display: none;">
                        <div style="text-align: center;">
                            <h3>Quiz Complete!</h3>
                            <div class="score" id="finalQuizScore">0/10</div>
                            <p>Well done! You've completed the Business Networking Vocabulary quiz.</p>
                            <button class="check-button" onclick="restartVocabQuiz()">Try Again</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <h2>Networking</h2>
                <div class="writing-container">
                    <div class="writing-content">
                        <h3 class="writing-question">Professional Networking Experience</h3>

                        <p class="writing-objective">
                            Write an email to your tutor. Imagine your tutor is not a tutor but a professional in your field. Introduce yourself and explain how you can be of use to that person. Don't forget to sell yourself!                       </p>

                        <form id="dogfightForm" class="writing-form">
                            <div class="form-group">
                                <label for="studentName">Student Name</label>
                                <input type="text" id="studentName" name="studentName" required>
                            </div>

                            <div class="form-group">
                                <label for="teacherEmail">Teacher's Email</label>
                                <input type="email" id="teacherEmail" name="teacherEmail" required>
                            </div>

                            <div class="button-container">
                                <button type="button" class="check-button" id="beginBtn" onclick="openMailto()">Begin!</button>
                            </div>

                            <div class="tips-box">
                                <h4>ðŸ’¡ Key Vocabulary</h4>
                                <div class="tips-content">
                                    <span class="vocab-items">
                                        networking, collaboration, mentoring, partnership, referral, stakeholder, expertise, professional development, industry connections
                                    </span>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <!-- Vocabulary Popup -->
            <div class="popup-overlay" id="vocabPopup" style="display: none;">
                <div class="popup-content">
                    <div class="popup-word" id="popupWord"></div>
                    <div class="popup-definition" id="popupDefinition"></div>
                    <button class="popup-close" onclick="closePopup()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Slideshow variables
        let currentSlide = 1;
        let totalSlides = 5;

        // Business networking vocabulary database
        const vocabularyDatabase = [
            {
                term: "Networking",
                definition: "Building professional relationships to exchange information and develop contacts",
                category: "basic",
                sentences: [
                    "Effective _____ can open doors to new career opportunities.",
                    "I learned about the job through professional _____.",
                    "Social media has transformed how we approach business _____."
                ]
            },
            {
                term: "Connection",
                definition: "A professional relationship or contact in your network",
                category: "basic",
                sentences: [
                    "My LinkedIn _____ helped me find this position.",
                    "She's a valuable _____ in the tech industry.",
                    "Making one good _____ at the conference was worth attending."
                ]
            },
            {
                term: "Referral",
                definition: "A recommendation from someone in your network",
                category: "professional",
                sentences: [
                    "I got the job through a _____ from my former colleague.",
                    "Employee _____ programs are very effective for hiring.",
                    "A strong _____ can make all the difference in your application."
                ]
            },
            {
                term: "Mentor",
                definition: "An experienced person who guides and advises others in their career",
                category: "professional",
                sentences: [
                    "Having a good _____ accelerated my career development.",
                    "She served as my _____ when I started in the industry.",
                    "The company pairs new employees with a senior _____."
                ]
            },
            {
                term: "Industry",
                definition: "A particular sector of economic activity or commerce",
                category: "basic",
                sentences: [
                    "The tech _____ is constantly evolving.",
                    "She has 15 years of experience in the finance _____.",
                    "Networking within your _____ is crucial for career growth."
                ]
            },
            {
                term: "Collaboration",
                definition: "Working together with others to achieve common goals",
                category: "professional",
                sentences: [
                    "Cross-departmental _____ improved our project outcomes.",
                    "The _____ between our teams was seamless.",
                    "Building trust is essential for effective _____."
                ]
            },
            {
                term: "Partnership",
                definition: "A cooperative relationship between businesses or professionals",
                category: "professional",
                sentences: [
                    "The strategic _____ benefited both companies.",
                    "Our _____ with the consulting firm was very successful.",
                    "They formed a _____ to bid on the major contract."
                ]
            },
            {
                term: "Platform",
                definition: "A digital space or service for professional networking and communication",
                category: "digital",
                sentences: [
                    "LinkedIn is the most popular professional networking _____.",
                    "The conference used a special _____ for attendee connections.",
                    "Social media _____ have revolutionized business networking."
                ]
            },
            {
                term: "Conference",
                definition: "A formal meeting of people with shared professional interests",
                category: "events",
                sentences: [
                    "The annual _____ brings together industry leaders.",
                    "I made several valuable contacts at the technology _____.",
                    "Attending the _____ helped me stay current with industry trends."
                ]
            },
            {
                term: "Client",
                definition: "A person or organization that uses professional services",
                category: "business",
                sentences: [
                    "Building long-term relationships with each _____ is important.",
                    "The _____ was impressed with our proposal.",
                    "Good _____ management leads to repeat business."
                ]
            },
            {
                term: "Stakeholder",
                definition: "A person or group with an interest in a business or project",
                category: "business",
                sentences: [
                    "All project _____ attended the quarterly review meeting.",
                    "We need to consider every _____ when making this decision.",
                    "The CEO met with key _____ to discuss the merger."
                ]
            },
            {
                term: "Expertise",
                definition: "Specialized knowledge or skill in a particular area",
                category: "professional",
                sentences: [
                    "Her _____ in cybersecurity made her a valuable team member.",
                    "The consultant brought _____ we didn't have in-house.",
                    "Building _____ in your field increases your professional value."
                ]
            },
            {
                term: "Opportunity",
                definition: "A favorable circumstance for career or business advancement",
                category: "basic",
                sentences: [
                    "Networking often reveals hidden job _____.",
                    "The business _____ emerged from an informal conversation.",
                    "He recognized the _____ and acted quickly to secure the deal."
                ]
            },
            {
                term: "Professional",
                definition: "Relating to or suitable for a work environment",
                category: "basic",
                sentences: [
                    "Maintaining a _____ image is important for networking.",
                    "The _____ development workshop improved my skills.",
                    "Her _____ demeanor impressed potential employers."
                ]
            },
            {
                term: "Contact",
                definition: "A person you know professionally who can provide information or assistance",
                category: "basic",
                sentences: [
                    "I'll reach out to my _____ at the company.",
                    "Having the right _____ can open many doors.",
                    "Exchange business cards to maintain _____ information."
                ]
            }
        ];

        // Initialize vocabulary flashcards
        function initializeVocabularyCards() {
            // Clear existing cards
            document.querySelectorAll('.vocab-grid').forEach(grid => {
                grid.innerHTML = '';
            });

            // Group vocabulary by category
            const basicTerms = vocabularyDatabase.filter(item => item.category === 'basic');
            const professionalTerms = vocabularyDatabase.filter(item => item.category === 'professional');
            const businessTerms = vocabularyDatabase.filter(item => item.category === 'business' || item.category === 'events' || item.category === 'digital');

            // Populate page 1 (Basic Terms)
            const page1Grid = document.querySelector('#vocab-page-1 .vocab-grid');
            basicTerms.forEach(item => {
                const flashcard = createFlashcard(item.term, item.definition);
                page1Grid.appendChild(flashcard);
            });

            // Populate page 2 (Professional)
            const page2Grid = document.querySelector('#vocab-page-2 .vocab-grid');
            professionalTerms.forEach(item => {
                const flashcard = createFlashcard(item.term, item.definition);
                page2Grid.appendChild(flashcard);
            });

            // Populate page 3 (Business & Events)
            const page3Grid = document.querySelector('#vocab-page-3 .vocab-grid');
            businessTerms.forEach(item => {
                const flashcard = createFlashcard(item.term, item.definition);
                page3Grid.appendChild(flashcard);
            });
        }

        // Create a flashcard element
        function createFlashcard(term, definition) {
            const flashcard = document.createElement('div');
            flashcard.className = 'flashcard';
            flashcard.onclick = function() { flipCard(this); };

            flashcard.innerHTML = `
                <div class="flashcard-inner">
                    <div class="flashcard-front">
                        <div class="flashcard-term">${term}</div>
                        <div class="flashcard-hint">Click to see definition</div>
                    </div>
                    <div class="flashcard-back">
                        <div class="flashcard-definition">${definition}</div>
                    </div>
                </div>
            `;

            return flashcard;
        }

        // Section switching
        function showSection(sectionId, navItem) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            // Remove active class from all nav items
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));


            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            navItem.classList.add('active');
        }

        // Slideshow functionality
        function changeSlide(direction) {
            const slides = document.querySelectorAll('.discussion-slide');
            const dots = document.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > totalSlides) {
                currentSlide = 1;
            }
            if (currentSlide < 1) {
                currentSlide = totalSlides;
            }

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        function goToSlide(slideNum) {
            const slides = document.querySelectorAll('.discussion-slide');
            const dots = document.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide = slideNum;

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        // Video slideshow variables
        let currentVideoSlide = 1;
        let totalVideoSlides = 4;

        // Video slideshow navigation functions
        function changeVideoSlide(direction) {
            const slides = document.querySelectorAll('#video-discussions .discussion-slide');
            const dots = document.querySelectorAll('#video-discussions .indicator-dot');

            slides[currentVideoSlide - 1].classList.remove('active');
            dots[currentVideoSlide - 1].classList.remove('active');

            currentVideoSlide += direction;

            if (currentVideoSlide > totalVideoSlides) {
                currentVideoSlide = 1;
            }
            if (currentVideoSlide < 1) {
                currentVideoSlide = totalVideoSlides;
            }

            slides[currentVideoSlide - 1].classList.add('active');
            dots[currentVideoSlide - 1].classList.add('active');
        }

        function goToVideoSlide(slideNum) {
            const slides = document.querySelectorAll('#video-discussions .discussion-slide');
            const dots = document.querySelectorAll('#video-discussions .indicator-dot');

            slides[currentVideoSlide - 1].classList.remove('active');
            dots[currentVideoSlide - 1].classList.remove('active');

            currentVideoSlide = slideNum;

            slides[currentVideoSlide - 1].classList.add('active');
            dots[currentVideoSlide - 1].classList.add('active');
        }

        // Keyboard navigation for slideshow
        document.addEventListener('keydown', function(e) {
            const discussionSection = document.getElementById('discussion');
            const videoDiscussionSection = document.getElementById('video-discussions');

            if (discussionSection && discussionSection.classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    changeSlide(-1);
                } else if (e.key === 'ArrowRight') {
                    changeSlide(1);
                }
            } else if (videoDiscussionSection && videoDiscussionSection.classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    changeVideoSlide(-1);
                } else if (e.key === 'ArrowRight') {
                    changeVideoSlide(1);
                }
            }
        });

        // Reading section management
        let currentReadingLevel = 'A2';
        let currentReadingPage = 1;

        function showReadingLevel(level, button) {
            // Update level
            currentReadingLevel = level;
            currentReadingPage = 1;

            // Update button states
            const buttons = document.querySelectorAll('.reading-nav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            // Hide all levels
            const levels = document.querySelectorAll('.reading-level');
            levels.forEach(level => level.style.display = 'none');

            // Show selected level
            document.getElementById(level + '-level').style.display = 'block';

            // Update subnav based on level
            updateReadingSubnav(level);

            // Show first page of new level
            showReadingPage(1, document.querySelector('.reading-subnav .page-btn'));
        }

        function updateReadingSubnav(level) {
            const subnav = document.getElementById('reading-subnav');
            let pages = [];

            switch (level) {
                case 'A2':
                    pages = [
                        { num: 1, title: 'What is Gentrification?' },
                        { num: 2, title: 'Why Does it Happen?' },
                        { num: 3, title: 'Good and Bad Effects' },
                        { num: 4, title: 'Solutions and Examples' }
                    ];
                    break;
                case 'B1':
                    pages = [
                        { num: 1, title: 'How Neighborhoods Change' },
                        { num: 2, title: 'Why Investors Come' },
                        { num: 3, title: 'Effects on Families' },
                        { num: 4, title: 'What Cities Can Do' }
                    ];
                    break;
                case 'B2':
                    pages = [
                        { num: 1, title: 'Modern Gentrification' },
                        { num: 2, title: 'Human Cost' },
                        { num: 3, title: 'Around the World' },
                        { num: 4, title: 'Solutions & Resistance' }
                    ];
                    break;
                case 'C1':
                    pages = [
                        { num: 1, title: 'Network Architecture' },
                        { num: 2, title: 'Professional Networks' },
                        { num: 3, title: 'Network Futures' },
                        { num: 4, title: 'Critical Perspectives' }
                    ];
                    break;
            }

            subnav.innerHTML = pages.map((page, index) =>
                `<button class="page-btn ${index === 0 ? 'active' : ''}" onclick="showReadingPage(${page.num}, this)">${page.title}</button>`
            ).join('');
        }

        function showReadingPage(pageNum, button) {
            currentReadingPage = pageNum;

            // Update button states
            const buttons = document.querySelectorAll('.reading-subnav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            if (button) button.classList.add('active');

            // Hide all pages in current level
            const pages = document.querySelectorAll(`#${currentReadingLevel}-level .reading-page`);
            pages.forEach(page => page.classList.remove('active'));

            // Show selected page
            const targetPage = document.getElementById(`${currentReadingLevel}-page-${pageNum}`);
            if (targetPage) targetPage.classList.add('active');
        }

        // Vocabulary section management
        function showVocabPage(pageNum, element) {
            // Hide all vocab pages
            const pages = document.querySelectorAll('.vocab-page');
            pages.forEach(page => page.classList.remove('active'));

            // Remove active class from all page buttons
            const buttons = document.querySelectorAll('.vocab-nav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected page
            document.getElementById('vocab-page-' + pageNum).classList.add('active');

            // Add active class to clicked button
            if (element) {
                element.classList.add('active');
            }
        }

        function flipCard(card) {
            card.classList.toggle('flipped');

            // Play sound effect
            const flipSound = document.getElementById('flipSound');
            if (flipSound) {
                flipSound.currentTime = 0;
                flipSound.play().catch(e => {
                    console.log('Audio playback failed:', e);
                });
            }
        }

        // Vocabulary popup system
        function showPopup(word, definition) {
            document.getElementById('popupWord').textContent = word.charAt(0).toUpperCase() + word.slice(1);
            document.getElementById('popupDefinition').textContent = definition;
            document.getElementById('vocabPopup').style.display = 'flex';
        }

        function closePopup() {
            document.getElementById('vocabPopup').style.display = 'none';
        }

        // Quiz System Variables
        let currentQuizQuestion = 1;
        let totalQuizQuestions = 10;
        let quizQuestions = [];
        let userQuizAnswers = {};
        let quizScore = 0;

        // Initialize new quiz system
        function initializeVocabQuiz() {
            currentQuizQuestion = 1;
            userQuizAnswers = {};
            quizScore = 0;
            quizQuestions = [];

            // Filter vocabulary to only include single words (no spaces or hyphens)
            const singleWordVocab = vocabularyDatabase.filter(item =>
                !item.term.includes(' ') && !item.term.includes('-')
            );

            // Shuffle the vocabulary array to ensure randomness
            const shuffledVocab = [...singleWordVocab].sort(() => Math.random() - 0.5);

            // Generate 10 unique questions
            for (let i = 0; i < Math.min(totalQuizQuestions, shuffledVocab.length); i++) {
                const vocabItem = shuffledVocab[i];
                const sentence = vocabItem.sentences[Math.floor(Math.random() * vocabItem.sentences.length)];
                const maxHintLength = vocabItem.term.length === 3 ? 2 : Math.min(3, vocabItem.term.length);
                const hint = vocabItem.term.toLowerCase().substring(0, maxHintLength) + '...';

                quizQuestions.push({
                    type: 'fill-blank',
                    question: `Complete the sentence: "${sentence}"`,
                    correctAnswer: vocabItem.term.toLowerCase(),
                    hint: hint,
                    correctTerm: vocabItem.term
                });
            }

            // Create HTML for all questions
            generateQuizHTML();
            showQuizQuestion(1);
            updateQuizProgress();
        }

        // Generate HTML for quiz questions (text input only)
        function generateQuizHTML() {
            const container = document.getElementById('quiz-questions-container');
            container.innerHTML = '';

            quizQuestions.forEach((q, index) => {
                const questionNum = index + 1;
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-page';
                questionDiv.id = `quiz-question-${questionNum}`;
                if (questionNum === 1) questionDiv.classList.add('active');

                questionDiv.innerHTML = `
                    <div class="quiz-question">
                        <h3>${q.question}</h3>
                        <input type="text" class="quiz-input" id="quiz-answer-${questionNum}" placeholder="${q.hint}" onkeypress="handleQuizKeyPress(event, ${questionNum})">
                        <button class="check-button" onclick="checkQuizAnswer(${questionNum})">Check Answer</button>
                        <div class="feedback" id="quiz-feedback-${questionNum}" style="display: none;"></div>
                    </div>
                `;

                container.appendChild(questionDiv);
            });
        }


        // Handle Enter key press in quiz inputs
        function handleQuizKeyPress(event, questionNum) {
            if (event.key === 'Enter') {
                event.preventDefault();
                const checkButton = document.querySelector(`#quiz-question-${questionNum} .check-button`);
                if (!checkButton.disabled) {
                    checkQuizAnswer(questionNum);
                }
            }
        }

        // Check quiz answer (text input only)
        function checkQuizAnswer(questionNum) {
            const question = quizQuestions[questionNum - 1];
            const feedback = document.getElementById(`quiz-feedback-${questionNum}`);
            const checkButton = document.querySelector(`#quiz-question-${questionNum} .check-button`);

            let isCorrect = false;

            // Text input validation
            const userInput = document.getElementById(`quiz-answer-${questionNum}`);
            const userAnswer = userInput.value.trim().toLowerCase();

            if (!userAnswer) {
                alert('Please enter an answer first!');
                return;
            }

            // Check for multiple acceptable answers (singular, plural, verb forms, variations)
            const correctAnswers = [
                question.correctAnswer,
                question.correctAnswer + 's',  // plural or third person singular
                question.correctAnswer + 'es', // plural for words ending in 's', 'x', 'z', 'ch', 'sh'
                question.correctAnswer.replace(/y$/, 'ies'), // plural for words ending in 'y'
                question.correctAnswer.replace(/f$/, 'ves'), // plural for words ending in 'f'
                question.correctAnswer.replace(/fe$/, 'ves'), // plural for words ending in 'fe'
                question.correctAnswer + 'ing', // present participle/gerund
                question.correctAnswer + 'ed',  // past tense
                question.correctAnswer.replace(/e$/, 'ing'), // -ing for words ending in 'e'
                question.correctAnswer.replace(/e$/, 'ed'),  // -ed for words ending in 'e'
                question.correctAnswer.replace(/([^aeiou])y$/, '$1ied'), // -ed for words ending in consonant+y
                question.correctAnswer.replace(/([^aeiou])y$/, '$1ying'), // -ing for words ending in consonant+y
                question.correctAnswer.replace(/([bcdfghjklmnpqrstvwxz])([bcdfghjklmnpqrstvwxz])$/, '$1$2$2ed'), // doubling final consonant + ed
                question.correctAnswer.replace(/([bcdfghjklmnpqrstvwxz])([bcdfghjklmnpqrstvwxz])$/, '$1$2$2ing') // doubling final consonant + ing
            ];

            // Remove duplicates and filter out invalid plurals
            const validAnswers = [...new Set(correctAnswers)].filter(answer =>
                answer !== question.correctAnswer + 'ys' || question.correctAnswer.endsWith('y')
            );

            isCorrect = validAnswers.includes(userAnswer);

            userInput.classList.add(isCorrect ? 'correct' : 'incorrect');

            // Show feedback
            feedback.style.display = 'block';
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.textContent = isCorrect ? 'Correct! Well done!' :
                `Incorrect. The correct answer is: ${question.correctTerm}`;

            // Store answer
            userQuizAnswers[questionNum] = isCorrect;
            if (isCorrect) quizScore++;

            // Disable button
            checkButton.disabled = true;
            checkButton.style.opacity = '0.6';

            // Play sound effect if correct
            if (isCorrect) {
                const correctSound = new Audio('https://static.wixstatic.com/mp3/593d03_4391e836785b44ddba85840f97312533.mp3');
                correctSound.play().catch(e => console.log('Audio playbook failed:', e));
            }

            updateQuizProgress();

            // Auto-advance after 2 seconds
            setTimeout(() => {
                if (currentQuizQuestion < totalQuizQuestions) {
                    nextQuizQuestion();
                } else {
                    showQuizResults();
                }
            }, 2000);
        }

        // Show specific quiz question
        function showQuizQuestion(questionNum) {
            const questions = document.querySelectorAll('#quiz-questions-container .quiz-page');
            questions.forEach(q => q.classList.remove('active'));

            const currentQ = document.getElementById(`quiz-question-${questionNum}`);
            if (currentQ) {
                currentQ.classList.add('active');

                // Auto-focus on the input field for rapid typing
                const inputField = document.getElementById(`quiz-answer-${questionNum}`);
                if (inputField && !inputField.disabled) {
                    setTimeout(() => inputField.focus(), 100);
                }
            }

            currentQuizQuestion = questionNum;
            updateQuizProgress();
            updateQuizNavButtons();
        }

        // Next question
        function nextQuizQuestion() {
            if (currentQuizQuestion < totalQuizQuestions) {
                showQuizQuestion(currentQuizQuestion + 1);
            }
        }

        // Previous question
        function previousQuizQuestion() {
            if (currentQuizQuestion > 1) {
                showQuizQuestion(currentQuizQuestion - 1);
            }
        }

        // Update quiz progress
        function updateQuizProgress() {
            const counter = document.getElementById('quiz-counter');
            const progressBar = document.getElementById('quizProgressFill');

            if (counter) {
                counter.textContent = `Question ${currentQuizQuestion} of ${totalQuizQuestions}`;
            }

            if (progressBar) {
                const progressPercent = ((currentQuizQuestion - 1) / totalQuizQuestions) * 100;
                progressBar.style.width = progressPercent + '%';
            }
        }

        function updateQuizNavButtons() {
            const prevBtn = document.getElementById('prevQuizBtn');
            const nextBtn = document.getElementById('nextQuizBtn');

            if (prevBtn) prevBtn.disabled = (currentQuizQuestion === 1);
            if (nextBtn) nextBtn.disabled = (currentQuizQuestion === totalQuizQuestions);
        }

        // Show quiz results
        function showQuizResults() {
            const questionsContainer = document.getElementById('quiz-questions-container');
            const resultsPage = document.getElementById('quiz-results-page');
            const finalScore = document.getElementById('finalQuizScore');
            const quizHeader = document.getElementById('quiz-header');

            questionsContainer.style.display = 'none';
            quizHeader.style.display = 'none';
            resultsPage.style.display = 'block';

            if (finalScore) {
                finalScore.textContent = `${quizScore}/${totalQuizQuestions}`;
            }
        }

        // Restart quiz
        function restartVocabQuiz() {
            const questionsContainer = document.getElementById('quiz-questions-container');
            const resultsPage = document.getElementById('quiz-results-page');
            const quizHeader = document.getElementById('quiz-header');

            resultsPage.style.display = 'none';
            questionsContainer.style.display = 'block';
            quizHeader.style.display = 'flex';

            // Reinitialize quiz
            initializeVocabQuiz();
        }

        // Writing section management
        function openWritingForm(element) {
            showSection('writing', element);
        }

        // Dogfight form functions
        function openMailto() {
            const studentName = document.getElementById('studentName').value.trim();
            const teacherEmail = document.getElementById('teacherEmail').value.trim();

            if (!studentName) {
                alert('Please enter your name first!');
                document.getElementById('studentName').focus();
                return;
            }

            if (!teacherEmail) {
                alert('Please enter the teacher\'s email first!');
                document.getElementById('teacherEmail').focus();
                return;
            }

            // Get the writing objective text
            const objectiveElement = document.querySelector('.writing-objective');
            const objective = objectiveElement ? objectiveElement.textContent.trim() : 'Create a Review for a video game. Use as many terms you have learned in todays lesson.';

            // Create mailto link
            const subject = encodeURIComponent('Game Review Assignment - ' + studentName);
            const body = encodeURIComponent('Student Name: ' + studentName + '\n\nAssignment: ' + objective + '\n\nReady to begin the assignment!');
            const mailtoLink = `mailto:${teacherEmail}?subject=${subject}&body=${body}`;

            // Open mailto
            window.location.href = mailtoLink;
        }

        // Form validation for writing section
        function validateWritingForm() {
            const studentName = document.getElementById('studentName').value.trim();
            const teacherEmail = document.getElementById('teacherEmail').value.trim();
            const beginBtn = document.getElementById('beginBtn');

            if (studentName && teacherEmail) {
                beginBtn.disabled = false;
                beginBtn.style.opacity = '1';
            } else {
                beginBtn.disabled = true;
                beginBtn.style.opacity = '0.6';
            }
        }


        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeVocabQuiz(); // Initialize the new vocabulary-based quiz

            // Close popup when clicking outside
            document.getElementById('vocabPopup').addEventListener('click', function(e) {
                if (e.target === this) {
                    closePopup();
                }
            });

            // Writing form event listeners
            const dogfightForm = document.getElementById('dogfightForm');
            if (dogfightForm) {
                // Form submission
                dogfightForm.addEventListener('submit', function(e) {
                    e.preventDefault();

                    const studentName = document.getElementById('studentName').value.trim();
                    const teacherEmail = document.getElementById('teacherEmail').value.trim();

                    if (!studentName || !teacherEmail) {
                        alert('Please fill in all fields!');
                        return;
                    }

                    alert('Form submitted successfully!');
                });

                // Real-time validation for Begin button
                document.getElementById('studentName').addEventListener('input', validateWritingForm);
                document.getElementById('teacherEmail').addEventListener('input', validateWritingForm);

                // Initialize validation on load
                validateWritingForm();
            }
        });

        // Initialize reading section
        updateReadingSubnav('A2');

        // Initialize vocabulary section
        initializeVocabularyCards();
    </script>
</body>
</html>