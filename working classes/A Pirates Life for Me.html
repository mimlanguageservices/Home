<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Streaming Wars - MIM Language Services</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }

        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 40px;
            overflow: hidden;
            height: 100%;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .section h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        /* Discussion Slideshow Styles */
        #discussion {
            padding: 0;
            background: white;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 40px 100px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .discussion-slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .discussion-slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        /* Image-only slide (Slide 1) */
        .slide-image-only {
            padding: 0;
        }

        /* Horizontal layout slides (Slides 2-5) */
        .slide-horizontal {
            flex-direction: row !important;
            gap: 30px;
        }

        .slide-text-section-left {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-right: 20px;
            max-width: 50%;
        }

        .slide-text-section-left h3 {
            font-size: 1.6rem;
            color: #2d3748;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .slide-text-section-left p {
            font-size: 1.05rem;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .slide-text-section-left ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .slide-text-section-left li {
            font-size: 1rem;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 8px;
            padding-left: 22px;
            position: relative;
        }

        .slide-text-section-left li:before {
            content: "â€¢";
            color: #667eea;
            font-weight: bold;
            position: absolute;
            left: 8px;
        }

        .slide-image-section-right {
            width: 45%;
            max-width: 50%;
            height: 100%;
            position: relative;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 16px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide-image-section-right img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 14px;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Navigation Arrows - Outside the white box */
        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -60px;
        }

        .slide-arrow.next {
            right: -60px;
        }

        /* Slide Indicators */
        .slide-indicators {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        /* Reading Section */
        .reading-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 80px);
        }

        .reading-nav {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .reading-subnav {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 30px;
        }

        .reading-level {
            flex: 1;
            position: relative;
            height: 100%;
            min-height: 500px;
        }

        .page-btn {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(102, 126, 234, 0.3);
            color: #4c51bf;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .page-btn.active, .page-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .reading-page {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            overflow-y: auto;
            overflow-x: hidden;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            scrollbar-width: auto;
            scrollbar-color: #c1c1c1 #f1f1f1;
        }

        .reading-page.active {
            display: block !important;
        }

        /* Force scrollbar to always be visible */
        .reading-page {
            -webkit-overflow-scrolling: touch;
        }

        .reading-page * {
            box-sizing: border-box;
        }

        /* Simplified scrollbar styling for reading pages */
        .reading-page::-webkit-scrollbar {
            width: 14px;
        }

        .reading-page::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 7px;
        }

        .reading-page::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 7px;
        }

        .reading-page::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        .reading-page p {
            color: #2d3748;
            line-height: 1.8;
            margin-bottom: 25px;
            font-size: 1.15rem;
            font-weight: 400;
        }

        .reading-page h3 {
            color: #2d3748;
            margin-bottom: 20px;
            margin-top: 35px;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .vocab-link {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            padding: 3px 8px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            font-size: 1.15rem;
        }

        .vocab-link:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .popup-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 35px;
            max-width: 450px;
            margin: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .popup-word {
            color: #2d3748;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 15px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }

        .popup-definition {
            color: #4a5568;
            line-height: 1.7;
            margin-bottom: 25px;
            font-size: 1.25rem;
        }

        .popup-close {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            float: right;
            font-size: 1.1rem;
            transition: transform 0.3s ease;
        }

        .popup-close:hover {
            transform: translateY(-2px);
        }

        /* Vocabulary Section */
        .vocab-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
        }

        .vocab-nav {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .vocab-page {
            display: none;
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .vocab-page.active {
            display: block;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            height: auto;
            padding: 20px 0;
        }

        .flashcard {
            background: transparent;
            width: 100%;
            height: 220px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .flashcard-front {
            background: rgba(255, 255, 255, 0.9);
            color: #2d3748;
        }

        .flashcard-back {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            transform: rotateY(180deg);
        }

        .flashcard-term {
            font-weight: 700;
            font-size: 2rem;
            text-align: center;
        }

        .flashcard-definition {
            font-weight: 500;
            line-height: 1.5;
            text-align: center;
            font-size: 1.5rem;
        }

        .flashcard-hint {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.1rem;
            color: #a0aec0;
            opacity: 0.8;
        }

        .flashcard:hover .flashcard-inner {
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        /* NEW QUIZ SYSTEM STYLES */
        .quiz-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .quiz-nav {
            display: flex;
            gap: 12px;
        }

        .progress-container {
            flex: 1;
            margin: 0 30px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
            width: 0%;
            border-radius: 20px;
        }

        .quiz-page {
            display: none;
            flex: 1;
        }

        .quiz-page.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .quiz-question {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .quiz-question h3 {
            color: #2d3748;
            margin-bottom: 35px;
            font-size: 2rem;
            font-weight: 600;
        }

        .quiz-input {
            width: 100%;
            max-width: 450px;
            padding: 18px 25px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 25px;
            font-size: 1.6rem;
            text-align: center;
            margin: 25px auto;
            display: block;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }

        .quiz-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .quiz-input.correct {
            border-color: #48bb78;
            background: rgba(72, 187, 120, 0.1);
        }

        .quiz-input.incorrect {
            border-color: #f56565;
            background: rgba(245, 101, 101, 0.1);
        }

        .multiple-choice {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 35px 0;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .choice {
            padding: 25px;
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #2d3748;
            font-size: 1.25rem;
            backdrop-filter: blur(5px);
        }

        .choice:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .choice input[type="radio"] {
            display: none;
        }

        .choice.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
        }

        .choice.correct {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: #ffffff;
            border-color: transparent;
        }

        .choice.incorrect {
            background: linear-gradient(135deg, #f56565 0%, #e53e3e 100%);
            color: #ffffff;
            border-color: transparent;
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 18px 35px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.5rem;
            font-weight: 600;
            margin: 25px auto;
            display: block;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .check-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .nav-btn {
            padding: 12px 25px;
            background: rgba(45, 55, 72, 0.9);
            color: #ffffff;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(102, 126, 234, 0.9);
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: rgba(160, 174, 192, 0.5);
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            font-weight: 500;
            text-align: center;
            font-size: 1.1rem;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
        }

        .results-summary {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            max-width: 700px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .results-summary h3 {
            color: #2d3748;
            font-size: 2.2rem;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .score {
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 25px 0;
        }

        /* Video Section */
        .video-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
            padding: 15px;
            justify-content: center;
        }

        /* Video Discussions Section */
        .video-discussions-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
            padding: 30px;
            overflow-y: auto;
        }

        /* Writing Section */
        .writing-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 100px);
            padding: 10px;
            overflow: hidden;
            justify-content: center;
            align-items: center;
        }

        .writing-content {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            max-width: 95%;
            width: 95%;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            max-height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .writing-objective {
            color: #4a5568;
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .writing-question {
            color: #2d3748;
            font-size: 1.8rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 30px;
        }

        .writing-form .form-group {
            margin-bottom: 20px;
        }

        .writing-form .form-group label {
            display: block;
            color: #2d3748;
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .writing-form .form-group input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            font-size: 1rem;
            font-family: inherit;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        .writing-form .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
            background: rgba(255, 255, 255, 1);
        }

        .writing-form .button-container {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }

        .writing-form .check-button {
            flex: 1;
            max-width: 150px;
        }

        .tips-box {
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
        }

        .tips-box h4 {
            color: #2d3748;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }

        .vocab-category {
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .vocab-category strong {
            color: #2d3748;
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
        }

        .vocab-items {
            color: #4a5568;
            font-style: italic;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                height: auto;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }

            .header {
                flex-direction: column;
                text-align: center;
                padding: 20px 15px;
                background: rgba(255, 255, 255, 0.95);
            }

            .header h1 {
                font-size: 2rem;
                margin-bottom: 15px;
            }

            .header .website a {
                font-size: 1rem;
            }

            .header-image {
                width: 80px;
                height: 60px;
                margin-top: 15px;
            }

            .container {
                flex-direction: column;
                height: auto;
            }

            .navigation {
                width: 100%;
                padding: 20px 15px;
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                background: rgba(45, 55, 72, 0.95);
            }

            .nav-item {
                flex: 1;
                min-width: 120px;
                margin: 5px;
                font-size: 0.95rem;
                padding: 12px 16px;
                border-radius: 20px;
            }

            .content {
                height: auto;
                overflow: visible;
                background: rgba(255, 255, 255, 0.95);
            }

            .section {
                padding: 25px 15px;
                height: auto;
                overflow: visible;
            }

            .section h2 {
                font-size: 1.7rem;
                text-align: center;
                margin-bottom: 15px;
            }

            .discussion-grid {
                display: flex;
                flex-direction: column;
                gap: 20px;
                height: auto;
            }

            .discussion-header {
                order: -1;
                padding: 20px;
            }

            .actual-image {
                width: 250px;
                height: 150px;
                margin: 0 auto 15px;
                border-radius: 12px;
            }

            .discussion-question {
                padding: 20px;
                border-radius: 12px;
            }

            .discussion-question h3 {
                font-size: 1.3rem;
            }

            /* Mobile styles for slideshow */
            .slideshow-container {
                padding: 20px 15px;
                height: auto;
                min-height: 100vh;
            }

            .slide-content-wrapper {
                height: auto;
                min-height: 80vh;
                max-width: 100%;
                padding: 0;
            }

            .discussion-slide {
                padding: 20px 15px;
                height: auto;
                min-height: 80vh;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            }

            .slide-horizontal {
                flex-direction: column !important;
                gap: 20px;
            }

            .slide-text-section-left {
                max-width: 100%;
                padding-right: 0;
                margin-bottom: 20px;
            }

            .slide-text-section-left h3 {
                font-size: 1.4rem;
                margin-bottom: 15px;
                text-align: center;
            }

            .slide-text-section-left p {
                font-size: 1rem;
                line-height: 1.6;
                margin-bottom: 15px;
                text-align: center;
            }

            .slide-text-section-left ul {
                margin-top: 15px;
            }

            .slide-text-section-left li {
                font-size: 0.95rem;
                margin-bottom: 10px;
                padding-left: 25px;
            }

            .slide-image-section-right {
                width: 100%;
                max-width: 100%;
                height: 250px;
                margin-top: 20px;
                border-radius: 12px;
            }

            .slide-image-section-right img {
                border-radius: 10px;
            }

            .slide-arrow {
                width: 40px;
                height: 40px;
                z-index: 1000;
            }

            .slide-arrow.prev {
                left: 10px;
            }

            .slide-arrow.next {
                right: 10px;
            }

            .slide-indicators {
                bottom: 20px;
                gap: 8px;
            }

            .indicator-dot {
                width: 10px;
                height: 10px;
            }

            .discussion-question p {
                font-size: 1rem;
            }

            .reading-container {
                height: auto;
            }

            .reading-nav, .reading-subnav {
                flex-wrap: wrap;
                gap: 8px;
            }

            .page-btn {
                font-size: 0.95rem;
                padding: 10px 16px;
                flex: 1;
                min-width: 100px;
                border-radius: 20px;
            }

            .reading-page {
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                overflow-y: auto;
                overflow-x: hidden;
                padding: 25px 20px;
                border-radius: 16px;
            }

            .reading-page h3 {
                font-size: 1.5rem;
            }

            .reading-page p {
                font-size: 1rem;
                line-height: 1.7;
            }

            .vocab-container {
                height: auto;
            }

            .vocab-nav {
                gap: 8px;
            }

            .vocab-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                height: auto;
            }

            .flashcard {
                height: 200px;
            }

            .flashcard-front, .flashcard-back {
                border-radius: 16px;
            }

            .flashcard-term {
                font-size: 1.7rem;
            }

            .flashcard-definition {
                font-size: 1.3rem;
            }

            .flashcard-hint {
                font-size: 1rem;
            }

            .quiz-container {
                height: auto;
            }

            .quiz-header {
                flex-direction: column;
                gap: 20px;
            }

            .quiz-nav {
                justify-content: center;
            }

            .nav-btn {
                font-size: 1rem;
                padding: 10px 20px;
                border-radius: 20px;
            }

            .quiz-question {
                padding: 30px 20px;
                margin: 0 10px;
                border-radius: 16px;
            }

            .quiz-question h3 {
                font-size: 1.6rem;
                margin-bottom: 25px;
            }

            .multiple-choice {
                grid-template-columns: 1fr;
                gap: 15px;
                max-width: 100%;
            }

            .choice {
                font-size: 1.1rem;
                padding: 20px;
                border-radius: 12px;
            }

            .quiz-input {
                font-size: 1.3rem;
                max-width: 100%;
                padding: 15px 20px;
                border-radius: 20px;
            }

            .check-button {
                font-size: 1.3rem;
                padding: 15px 30px;
                margin: 20px auto;
                border-radius: 20px;
            }

            .feedback {
                font-size: 1rem;
                margin: 20px 10px;
                border-radius: 10px;
            }

            .results-summary {
                padding: 30px 20px;
                margin: 0 10px;
                border-radius: 16px;
            }

            .results-summary h3 {
                font-size: 1.8rem;
            }

            .score {
                font-size: 3rem;
            }

            .popup-content {
                margin: 15px;
                padding: 30px 25px;
                max-width: 90%;
                border-radius: 16px;
            }

            .popup-word {
                font-size: 1.6rem;
            }

            .popup-definition {
                font-size: 1.1rem;
            }

            .popup-close {
                border-radius: 20px;
            }

            .vocab-link {
                font-size: 1rem;
                padding: 3px 8px;
                display: inline-block;
                margin: 1px;
                border-radius: 5px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.6rem;
            }

            .nav-item {
                font-size: 0.85rem;
                padding: 10px 12px;
                min-width: 100px;
            }

            .section {
                padding: 20px 12px;
            }

            .section h2 {
                font-size: 1.4rem;
                margin-bottom: 10px;
            }

            .quiz-question h3 {
                font-size: 1.4rem;
            }

            .flashcard {
                height: 180px;
            }

            .flashcard-term {
                font-size: 1.5rem;
            }

            .flashcard-definition {
                font-size: 1.2rem;
            }

            .reading-page {
                padding: 20px 15px;
            }

            .discussion-question {
                padding: 18px;
            }

            .actual-image {
                width: 200px;
                height: 120px;
            }

            .quiz-input {
                font-size: 1.2rem;
                padding: 12px 16px;
            }

            .check-button {
                font-size: 1.2rem;
                padding: 12px 25px;
            }

            /* Writing form mobile styles */
            .writing-content {
                padding: 30px 20px;
                margin: 0 10px;
            }

            .writing-question {
                font-size: 1.5rem;
            }

            .writing-form .button-container {
                flex-direction: column;
                gap: 10px;
            }

            .writing-form .check-button {
                max-width: none;
            }

            .tips-box {
                padding: 15px;
                margin: 20px 0;
            }

            .tips-box h4 {
                font-size: 1.1rem;
            }
        }

        @media (hover: none) and (pointer: coarse) {
            .nav-item,
            .choice,
            .flashcard,
            .vocab-link,
            .check-button,
            .page-btn {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .vocab-link {
                min-height: 32px;
                line-height: 1.2;
            }
        }
    </style>
</head>
<body>
    <!-- Audio elements for sound effects -->
    <audio id="flipSound" preload="auto">
        <source src="https://static.wixstatic.com/mp3/593d03_f6267363dcfb42e49efc4d6a65189d09.mp3" type="audio/mpeg">
    </audio>
    <audio id="correctSound" preload="auto">
        <source src="https://static.wixstatic.com/mp3/593d03_4391e836785b44ddba85840f97312533.mp3" type="audio/mpeg">
    </audio>

    <div class="header">
        <div class="header-left">
            <h1>Streaming Wars</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">www.mimlanguageservices.com</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="MIM Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('discussion', this)">Discussion</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('video', this)">Video</div>
            <div class="nav-item" onclick="showSection('video-discussions', this)">Video Discussions</div>
            <div class="nav-item" onclick="showSection('vocabulary', this)">Vocabulary</div>
            <div class="nav-item" onclick="showSection('quiz', this)">Interactive Quiz</div>
            <div class="nav-item" onclick="openWritingForm(this)">Writing</div>
        </div>

        <div class="content">
            <!-- Discussion Section with Slideshow -->
            <div class="section active" id="discussion">
                <div class="slideshow-container">

                    <div class="slide-content-wrapper">
                        <!-- Navigation Arrows - Outside the white box -->
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <!-- Slide 1 - Image Only -->
                        <div class="discussion-slide active slide-image-only">
                            <img src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Streaming Services" style="width: 100%; height: 100%; object-fit: cover; border-radius: 16px;">
                        </div>

                        <!-- Slide 2 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>The Rise and Fall of Streaming Convenience</h3>
                                <p>Do you prefer to watch movies at home or at the movie theater? How have streaming services changed your viewing habits over the past decade?</p>
                                <ul>
                                    <li>The promise of <span class="vocab-link" onclick="showPopup('all-in-one', 'a single service that provides everything you need')">all-in-one</span> entertainment platforms</li>
                                    <li>Convenience vs. cost: what's the <span class="vocab-link" onclick="showPopup('trade-off', 'a balance between two opposing things')">trade-off</span>?</li>
                                    <li>The <span class="vocab-link" onclick="showPopup('fragmentation', 'breaking something into smaller, separate parts')">fragmentation</span> of content across multiple services</li>
                                    <li>Monthly <span class="vocab-link" onclick="showPopup('subscriptions', 'regular payments for ongoing access to a service')">subscriptions</span> adding up</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Multiple Streaming Apps" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 3 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Economic Factors Behind the Return to Piracy</h3>
                                <p>Do you know anybody who downloads movies or TV series illegally? What economic factors might drive people back to <span class="vocab-link" onclick="showPopup('piracy', 'illegally copying and distributing copyrighted content')">piracy</span>?</p>
                                <ul>
                                    <li><span class="vocab-link" onclick="showPopup('spiraling costs', 'rapidly increasing prices')">Spiraling costs</span> of multiple streaming subscriptions</li>
                                    <li>Average household spending: $800+ per year on streaming</li>
                                    <li>Netflix price increase: from $8 (2012) to $17+ today</li>
                                    <li><span class="vocab-link" onclick="showPopup('ad-free experience', 'content without commercial interruptions')">Ad-free experience</span> now costs extra</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Money and Streaming" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 4 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>How Streaming Services Became User-Unfriendly</h3>
                                <p>What other kinds of things might people download illegally? How have streaming services become less <span class="vocab-link" onclick="showPopup('user-friendly', 'easy and pleasant to use')">user-friendly</span> over time?</p>
                                <ul>
                                    <li><span class="vocab-link" onclick="showPopup('cancellation', 'ending or stopping something, especially a TV show')">Cancellation</span> of popular series after 1-2 seasons</li>
                                    <li>Content <span class="vocab-link" onclick="showPopup('degradation', 'becoming worse in quality')">degradation</span> and fewer original shows</li>
                                    <li>Forced advertisements despite paying for service</li>
                                    <li>Geographic restrictions and <span class="vocab-link" onclick="showPopup('licensing issues', 'legal problems with who can show content where')">licensing issues</span></li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Frustrated Viewer" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 5 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>The Ethics of Digital Piracy</h3>
                                <p>Do you consider illegal streams or downloads of online media to be stealing? Why or why not? How do we balance protecting creators with consumer rights?</p>
                                <ul>
                                    <li>The moral debate: <span class="vocab-link" onclick="showPopup('theft', 'taking someone elses property without permission')">theft</span> vs. <span class="vocab-link" onclick="showPopup('sharing', 'giving access to others')">sharing</span></li>
                                    <li>Impact on content creators and artists</li>
                                    <li><span class="vocab-link" onclick="showPopup('copyright law', 'legal protection for creative works')">Copyright law</span> in the digital age</li>
                                    <li>Alternative solutions: better pricing, accessibility, quality</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1450101499163-c8848c66ca85?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Digital Ethics" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>
                    </div>

                    <!-- Slide Indicators -->
                    <div class="slide-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <h2>Reading: The Streaming Revolution</h2>
                <div class="reading-container">
                    <div class="reading-nav">
                        <button class="page-btn active" onclick="showReadingLevel('A2', this)">A2 Reading</button>
                        <button class="page-btn" onclick="showReadingLevel('B1', this)">B1 Reading</button>
                        <button class="page-btn" onclick="showReadingLevel('B2', this)">B2 Reading</button>
                    </div>

                    <!-- Sub-navigation for each level -->
                    <div class="reading-subnav" id="reading-subnav" style="display: flex; margin-bottom: 20px;">
                        <button class="page-btn active" onclick="showReadingPage(1, this)">The Early Days</button>
                        <button class="page-btn" onclick="showReadingPage(2, this)">Streaming Wars</button>
                        <button class="page-btn" onclick="showReadingPage(3, this)">Return to Piracy</button>
                        <button class="page-btn" onclick="showReadingPage(4, this)">Future Solutions</button>
                    </div>

                    <!-- A2 Level Reading Pages -->
                    <div class="reading-level" id="A2-level">
                        <div class="reading-page active" id="A2-page-1">
                            <h3>The Early Days</h3>
                            <p>
                                My name is Sarah. I want to tell you about <span class="vocab-link" onclick="showPopup('streaming', 'watching movies online')">streaming</span> movies. I remember when Netflix started in 2007. Netflix sent DVDs to your house by mail. It was great!
                            </p>
                            <p>
                                Before Netflix, you had to go to a video store to rent movies. Or you had to wait for movies on TV. Netflix was different. You paid $8 every month. Then you could watch many movies and TV shows. It was easy and cheap.
                            </p>
                            <p>
                                People stopped <span class="vocab-link" onclick="showPopup('downloading illegally', 'taking movies from the internet without paying')">downloading movies illegally</span>. Why steal movies when Netflix was so good? Netflix was <span class="vocab-link" onclick="showPopup('convenient', 'easy to use')">convenient</span> and not expensive.
                            </p>
                            <p>
                                In 2020, not many people were stealing movies online. Netflix had many happy <span class="vocab-link" onclick="showPopup('customers', 'people who pay for a service')">customers</span>. But then things started to change. It got worse for customers.
                            </p>
                        </div>

                        <div class="reading-page" id="A2-page-2">
                            <h3>Too Many Services</h3>
                            <p>
                                Then many companies started their own <span class="vocab-link" onclick="showPopup('streaming services', 'websites where you watch movies')">streaming services</span>. Disney made Disney+. Apple made Apple TV+. HBO made HBO Max. Every company wanted to make money from movies and TV shows.
                            </p>
                            <p>
                                This was a problem for customers. Before, you could watch everything on Netflix. Now, your favorite show was on Disney+. The movie you wanted was on Amazon Prime. To watch everything, you needed to pay for many services.
                            </p>
                            <p>
                                Families now spend $800 every year on streaming! Netflix costs $17 per month now. In 2012, it was only $8. The price went up a lot. People were not happy about this.
                            </p>
                            <p>
                                Then something worse happened. Streaming companies added <span class="vocab-link" onclick="showPopup('ads', 'commercials during movies')">ads</span> to their shows. Even when you paid money! If you wanted no ads, you had to pay more money. People felt angry about this.
                            </p>
                        </div>

                        <div class="reading-page" id="A2-page-3">
                            <h3>People Go Back to Stealing</h3>
                            <p>
                                In 2024, people visited <span class="vocab-link" onclick="showPopup('illegal websites', 'websites that steal movies')">illegal websites</span> 216 billion times! This number was very high. During COVID-19, not many people were stealing movies. But now, many people were doing it again.
                            </p>
                            <p>
                                People started going to <span class="vocab-link" onclick="showPopup('pirate sites', 'websites with free stolen movies')">pirate sites</span> again. They watched movies without paying. Most people don't download movies to their computer now. They just watch them on the website.
                            </p>
                            <p>
                                Streaming companies also did bad things. They stopped TV shows after one or two seasons. Even good shows! People watched a show for many months. Then the show stopped with no ending. People were very angry.
                            </p>
                            <p>
                                Sports fans had problems too. Their favorite team's game was not on their streaming service. So they went to illegal websites to watch the game. They felt they had no choice.
                            </p>
                        </div>

                        <div class="reading-page" id="A2-page-4">
                            <h3>What Can We Do?</h3>
                            <p>
                                How can we fix this problem? <span class="vocab-link" onclick="showPopup('Experts', 'smart people who know about this topic')">Experts</span> think streaming services need to be <span class="vocab-link" onclick="showPopup('cheaper', 'cost less money')">cheaper</span> and easier to use. Having many expensive services is not good for families.
                            </p>
                            <p>
                                Some good things are happening. Music streaming like Spotify works well. Most people don't steal music anymore because Spotify is cheap and has all the songs. Maybe movie streaming can learn from this.
                            </p>
                            <p>
                                In the future, maybe you can buy many streaming services together for less money. Or maybe governments will make rules to help customers. We need better <span class="vocab-link" onclick="showPopup('solutions', 'ways to fix the problem')">solutions</span>.
                            </p>
                            <p>
                                Right now, streaming companies and movie stealers are fighting. Companies that listen to customers and give <span class="vocab-link" onclick="showPopup('good value', 'fair price for what you get')">good value</span> will win. Bad companies will lose their customers.
                            </p>
                        </div>
                    </div>

                    <!-- B1 Level Reading Pages -->
                    <div class="reading-level" id="B1-level" style="display: none;">
                        <div class="reading-page active" id="B1-page-1">
                            <h3>The Early Days</h3>
                            <p>
                                My name is Sarah, and I want to tell you about how I watched the <span class="vocab-link" onclick="showPopup('streaming revolution', 'the major change from physical media to online content')">streaming revolution</span> happen. I remember when Netflix first started sending DVDs by mail in 2007. Everyone thought it was amazing!
                            </p>
                            <p>
                                Back then, if you wanted to watch a movie, you had to go to a video store or wait for it on TV. Netflix changed everything. For just $8 per month, you could watch thousands of movies and TV shows. No more late fees, no more trips to the store. It seemed too good to be true.
                            </p>
                            <p>
                                I remember thinking that <span class="vocab-link" onclick="showPopup('piracy', 'illegally copying and sharing copyrighted content')">piracy</span> would disappear. Why would anyone download movies illegally when Netflix was so cheap and easy? The <span class="vocab-link" onclick="showPopup('convenience', 'being easy and comfortable to use')">convenience</span> was incredible.
                            </p>
                            <p>
                                By 2020, online piracy had reached its lowest point in years. Netflix had millions of happy <span class="vocab-link" onclick="showPopup('subscribers', 'people who pay regularly for a service')">subscribers</span> worldwide. But then something unexpected happened - everything started to change, and not for the better.
                            </p>
                        </div>

                        <div class="reading-page" id="B1-page-2">
                            <h3>Streaming Wars</h3>
                            <p>
                                Suddenly, every major company wanted to create their own streaming service. Disney launched Disney+, Apple created Apple TV+, and HBO started HBO Max. Each company wanted their own <span class="vocab-link" onclick="showPopup('exclusive content', 'shows and movies available on only one platform')">exclusive content</span> to attract customers.
                            </p>
                            <p>
                                This created a big problem. Before, you could watch almost everything on Netflix. Now, your favorite show might be on Disney+, while the movie you want to see is only on Amazon Prime. If you wanted to watch everything, you needed to pay for multiple <span class="vocab-link" onclick="showPopup('subscriptions', 'regular monthly payments for services')">subscriptions</span>.
                            </p>
                            <p>
                                The average European household now spends over $800 per year on streaming services. Netflix costs around $17 per month in many countries - more than double the original $8 price from 2012. People started to feel like they were being <span class="vocab-link" onclick="showPopup('nickel and dimed', 'charged small amounts repeatedly until it adds up')">nickel and dimed</span>.
                            </p>
                            <p>
                                To make things worse, streaming companies started adding <span class="vocab-link" onclick="showPopup('advertisements', 'commercials that interrupt your viewing')">advertisements</span> even to paid subscriptions. If you wanted an ad-free experience, you had to pay even more money. Many people felt betrayed by this change.
                            </p>
                        </div>

                        <div class="reading-page" id="B1-page-3">
                            <h3>Return to Piracy</h3>
                            <p>
                                According to recent research, there were 216 billion visits to <span class="vocab-link" onclick="showPopup('pirate websites', 'illegal sites that offer copyrighted content for free')">pirate websites</span> in 2024. This number shocked many industry experts. During the COVID-19 pandemic, piracy had dropped to its lowest levels in years, but now it was <span class="vocab-link" onclick="showPopup('skyrocketing', 'increasing very rapidly')">skyrocketing</span> again.
                            </p>
                            <p>
                                People began returning to <span class="vocab-link" onclick="showPopup('illegal streaming sites', 'websites that show copyrighted content without permission')">illegal streaming sites</span> and <span class="vocab-link" onclick="showPopup('torrent downloads', 'sharing files through peer-to-peer networks')">torrent downloads</span>. Unlike the early 2000s, when people downloaded files to their computers, most modern piracy happens through live streaming - people watch content directly in their browsers.
                            </p>
                            <p>
                                Many streaming services also started <span class="vocab-link" onclick="showPopup('canceling shows', 'ending TV series before completing the story')">canceling shows</span> after just one or two seasons, even if they were popular. This frustrated viewers who invested time in following a story, only to have it end on a <span class="vocab-link" onclick="showPopup('cliffhanger', 'an unresolved ending that leaves you wanting more')">cliffhanger</span> with no resolution.
                            </p>
                            <p>
                                Sports fans were particularly affected. Around one-third of all sports <span class="vocab-link" onclick="showPopup('feeds', 'live broadcasts of events')">feeds</span> are now watched through illegal websites. When your favorite team's game isn't available on your streaming service, some people feel they have no choice but to find alternative sources.
                            </p>
                        </div>

                        <div class="reading-page" id="B1-page-4">
                            <h3>Future Solutions</h3>
                            <p>
                                So what can be done to solve this problem? Many experts believe that streaming services need to return to their original promise: affordable, convenient, and <span class="vocab-link" onclick="showPopup('comprehensive', 'including everything you need')">comprehensive</span> entertainment. The current system of multiple expensive subscriptions isn't sustainable for most families.
                            </p>
                            <p>
                                Some positive changes are already happening. Music streaming services like Spotify and YouTube Music have largely eliminated music piracy by offering reasonable prices and easy access to almost all songs. The same <span class="vocab-link" onclick="showPopup('approach', 'way of dealing with a problem')">approach</span> could work for video content.
                            </p>
                            <p>
                                The future might include better <span class="vocab-link" onclick="showPopup('bundling', 'combining multiple services into one package')">bundling</span> options, where you can get several streaming services together at a discount. Others suggest that governments need to regulate the industry to prevent monopolistic practices.
                            </p>
                            <p>
                                Until then, the battle between streaming services and piracy will continue. Companies that listen to their customers and provide <span class="vocab-link" onclick="showPopup('fair value', 'reasonable price for what you get')">fair value</span> will win, while those that focus only on profits might find their customers sailing back to pirate waters.
                            </p>
                        </div>
                    </div>

                    <!-- B2 Level Reading Pages -->
                    <div class="reading-level" id="B2-level" style="display: none;">
                        <div class="reading-page active" id="B2-page-1">
                            <h3>The Digital Content Revolution and Its Discontents</h3>
                            <p>
                                The digital entertainment landscape has undergone a profound transformation over the past two decades, fundamentally altering consumer behavior and industry dynamics. What began as a promising solution to traditional media distribution challenges has evolved into a complex ecosystem characterized by increasing <span class="vocab-link" onclick="showPopup('fragmentation', 'division into separate, incompatible parts')">fragmentation</span> and escalating costs. The initial <span class="vocab-link" onclick="showPopup('consolidation', 'combining multiple services into fewer options')">consolidation</span> of content under platforms like Netflix has given way to an era of fierce competition and market segmentation.
                            </p>
                            <p>
                                This <span class="vocab-link" onclick="showPopup('paradigm shift', 'fundamental change in approach or underlying assumptions')">paradigm shift</span> has created significant tensions between content creators, distributors, and consumers. The promise of affordable, comprehensive entertainment has been gradually eroded by corporate strategies focused on maximizing revenue streams rather than consumer satisfaction. <span class="vocab-link" onclick="showPopup('Market forces', 'economic factors that influence prices and availability')">Market forces</span> have driven each major corporation to establish exclusive content libraries, effectively recreating the monopolistic practices that streaming services initially sought to disrupt.
                            </p>
                            <p>
                                The psychological impact of this transformation cannot be understated. Consumers who initially embraced streaming as a liberation from traditional media constraints now find themselves navigating an increasingly complex and expensive <span class="vocab-link" onclick="showPopup('ecosystem', 'interconnected system of services and content')">ecosystem</span>. This sense of betrayal has contributed to growing consumer resentment and a corresponding increase in alternative content acquisition methods.
                            </p>
                            <p>
                                The phenomenon reflects broader issues within digital capitalism, where initial consumer benefits are gradually eroded as platforms achieve market dominance. The streaming industry's evolution exemplifies how <span class="vocab-link" onclick="showPopup('disruptive technologies', 'innovations that significantly alter existing markets')">disruptive technologies</span> can ultimately reproduce the very problems they were designed to solve.
                            </p>
                        </div>

                        <div class="reading-page" id="B2-page-2">
                            <h3>Economic Drivers and Consumer Behavior Analysis</h3>
                            <p>
                                The resurgence of digital piracy represents a fascinating case study in consumer behavior and market dynamics. Despite significant legal and technological <span class="vocab-link" onclick="showPopup('deterrents', 'factors designed to discourage certain behavior')">deterrents</span>, the practice has demonstrated remarkable resilience in response to changing market conditions. The 216 billion visits to piracy websites in 2024 represent not merely a statistical anomaly, but rather a systematic response to perceived market failures within the legitimate streaming ecosystem.
                            </p>
                            <p>
                                Economic analysis reveals that consumer tolerance for subscription costs has been systematically tested and exceeded. The <span class="vocab-link" onclick="showPopup('price elasticity', 'how demand changes in response to price changes')">price elasticity</span> of streaming services appears to have reached a critical threshold, where additional cost increases drive consumers toward alternative acquisition methods. This phenomenon is particularly pronounced among demographic groups with limited disposable income, where entertainment expenses compete directly with essential living costs.
                            </p>
                            <p>
                                The fragmentation of content across multiple platforms has created what economists term <span class="vocab-link" onclick="showPopup('transaction costs', 'the effort and expense required to access desired content')">transaction costs</span> that extend beyond mere financial considerations. Consumers must now navigate complex subscription management, content discovery across multiple platforms, and the cognitive burden of determining which services offer desired content. These cumulative costs have measurably diminished the value proposition of legitimate streaming services.
                            </p>
                            <p>
                                The psychological concept of <span class="vocab-link" onclick="showPopup('perceived fairness', 'consumer assessment of whether prices and practices are reasonable')">perceived fairness</span> plays a crucial role in consumer decision-making regarding content acquisition. Industry practices such as implementing advertisement tiers for previously ad-free services, canceling popular series without resolution, and implementing geographical content restrictions have created a sense of consumer exploitation that undermines the moral authority of copyright enforcement efforts.
                            </p>
                        </div>

                        <div class="reading-page" id="B2-page-3">
                            <h3>Technological Infrastructure and Piracy Evolution</h3>
                            <p>
                                The technological landscape underpinning modern digital piracy has evolved significantly from its early peer-to-peer origins. Contemporary piracy operations leverage sophisticated <span class="vocab-link" onclick="showPopup('content delivery networks', 'distributed systems that efficiently deliver online content')">content delivery networks</span>, cloud computing resources, and advanced encryption technologies to provide user experiences that often rival or exceed those offered by legitimate streaming platforms. This technological sophistication has fundamentally altered the risk-reward calculus for both operators and consumers of pirated content.
                            </p>
                            <p>
                                The shift from download-based to streaming-based piracy represents a strategic adaptation to both legal enforcement patterns and consumer preferences. Modern piracy platforms prioritize immediate access and convenience, eliminating the storage requirements and technical barriers that historically limited piracy adoption. This evolution has democratized access to pirated content, extending its appeal to demographics previously deterred by technical complexity.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Cybersecurity implications', 'risks and security concerns related to illegal streaming')">Cybersecurity implications</span> of contemporary piracy extend beyond traditional copyright concerns to encompass broader digital security risks. Malvertising, cryptocurrency mining exploits, and data harvesting operations frequently accompany piracy platforms, creating substantial security vulnerabilities for users. These risks highlight the hidden costs associated with "free" content access through illicit channels.
                            </p>
                            <p>
                                The <span class="vocab-link" onclick="showPopup('technological arms race', 'ongoing competition between content protection and piracy methods')">technological arms race</span> between content protection measures and piracy circumvention techniques continues to escalate. Digital rights management systems become increasingly sophisticated, while piracy operations develop correspondingly advanced countermeasures. This dynamic creates substantial ongoing costs for legitimate content providers while potentially incentivizing innovation in both protective and circumvention technologies.
                            </p>
                        </div>

                        <div class="reading-page" id="B2-page-4">
                            <h3>Future Paradigms and Industry Reform</h3>
                            <p>
                                The contemporary crisis in digital content distribution necessitates a fundamental reconsideration of industry business models and consumer relationship management strategies. Sustainable solutions must address the underlying <span class="vocab-link" onclick="showPopup('structural imbalances', 'fundamental problems in how the industry is organized')">structural imbalances</span> that have contributed to current market dysfunction, rather than merely implementing superficial adjustments to existing frameworks. This requires acknowledging that consumer behavior reflects rational responses to market conditions rather than moral failures.
                            </p>
                            <p>
                                Successful precedents exist within adjacent industries, particularly in music streaming, where comprehensive content libraries, reasonable pricing structures, and user-centric design have largely <span class="vocab-link" onclick="showPopup('marginalized piracy', 'made illegal alternatives less attractive or necessary')">marginalized piracy</span> as a mainstream consumer option. The key factors in this transformation include industry-wide cooperation, regulatory intervention to prevent anti-competitive practices, and genuine commitment to consumer value propositions over short-term profit maximization.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Regulatory frameworks', 'government rules and oversight mechanisms')">Regulatory frameworks</span> may prove essential in addressing market failures within the streaming industry. Potential interventions could include requirements for content portability across platforms, restrictions on exclusive licensing arrangements that fragment content libraries, and standardized pricing transparency measures. Such interventions would need to balance consumer protection interests with legitimate business innovation incentives.
                            </p>
                            <p>
                                The ultimate resolution of current tensions will likely require industry stakeholders to prioritize long-term market sustainability over short-term revenue optimization. This paradigm shift toward <span class="vocab-link" onclick="showPopup('consumer-centric models', 'business approaches that prioritize customer satisfaction and value')">consumer-centric models</span> represents not merely an economic necessity but also a moral imperative in an industry that has gradually eroded the very consumer benefits it initially promised to deliver. The alternativeâ€”continued escalation of the current adversarial dynamicâ€”threatens to undermine the legitimate digital content ecosystem entirely.
                            </p>
                        </div>
                    </div>

                    <!-- C1 Level Reading Pages -->
                    <div class="reading-level" id="C1-level" style="display: none;">
                        <div class="reading-page active" id="C1-page-1">
                            <h3>The Metamorphosis of Digital Interactive Entertainment</h3>
                            <p>
                                The contemporary landscape of digital interactive entertainment represents a paradigmatic shift from its rudimentary origins to become a sophisticated cultural ecosystem that transcends traditional boundaries of entertainment, education, and social interaction. This evolution reflects broader technological and societal transformations that have fundamentally altered how individuals conceptualize leisure, competition, and community formation in the digital age.
                            </p>
                            <p>
                                The emergence of <span class="vocab-link" onclick="showPopup('transmedia storytelling', 'narrative experiences that span multiple platforms and media')">transmedia storytelling</span> within gaming contexts has created unprecedented opportunities for narrative complexity and audience engagement. These multifaceted entertainment experiences challenge traditional distinctions between passive consumption and active participation, fostering new forms of cultural expression and community building.
                            </p>
                            <p>
                                Contemporary gaming culture demonstrates remarkable <span class="vocab-link" onclick="showPopup('cultural heterogeneity', 'diverse cultural expressions within gaming communities')">cultural heterogeneity</span>, encompassing diverse demographic groups, cultural backgrounds, and socioeconomic strata. This diversity challenges stereotypical representations of gaming communities while simultaneously creating new forms of digital stratification and cultural capital accumulation.
                            </p>
                            <p>
                                The phenomenon of <span class="vocab-link" onclick="showPopup('participatory culture', 'culture where members actively engage and contribute content')">participatory culture</span> within gaming environments has facilitated unprecedented levels of user agency and creative expression. Players increasingly function as co-creators, modifying, extending, and reimagining gaming experiences through sophisticated tools and platforms that blur traditional distinctions between consumption and production.
                            </p>
                        </div>

                        <div class="reading-page" id="C1-page-2">
                            <h3>Sociological Implications of Virtual Communities</h3>
                            <p>
                                The sociological implications of virtual gaming communities extend far beyond entertainment, offering insights into contemporary social organization, identity formation, and collective behavior patterns. These digital spaces function as laboratories for social experimentation, where traditional hierarchies and social norms are constantly negotiated and redefined through interactive processes.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Digital ethnography', 'study of online communities and their cultural practices')">Digital ethnography</span> within gaming contexts reveals complex social structures that often mirror and sometimes subvert real-world social dynamics. These communities develop sophisticated systems of governance, conflict resolution, and resource distribution that challenge conventional understanding of leadership and authority in digital spaces.
                            </p>
                            <p>
                                The concept of <span class="vocab-link" onclick="showPopup('virtual capital', 'valuable resources and status within digital environments')">virtual capital</span> has emerged as a significant factor in gaming community dynamics, encompassing not only in-game resources but also social connections, reputation, and cultural knowledge. This form of capital can sometimes translate into real-world opportunities and recognition, blurring boundaries between virtual and physical economic systems.
                            </p>
                            <p>
                                Gaming communities often exhibit <span class="vocab-link" onclick="showPopup('emergent behaviors', 'complex behaviors that arise from simple interactions')">emergent behaviors</span> that were not anticipated by game designers, demonstrating the creative potential of collective human interaction within structured digital environments. These emergent phenomena provide valuable insights into human adaptability and social innovation.
                            </p>
                        </div>

                        <div class="reading-page" id="C1-page-3">
                            <h3>Technological Convergence and Gaming Futures</h3>
                            <p>
                                The convergence of advanced technologies within gaming platforms represents a fundamental transformation in how interactive entertainment is conceived, developed, and experienced. <span class="vocab-link" onclick="showPopup('Computational creativity', 'AI systems that exhibit creative behaviors')">Computational creativity</span> through artificial intelligence is beginning to generate dynamic, personalized content that adapts to individual player preferences and behaviors in real-time.
                            </p>
                            <p>
                                The integration of <span class="vocab-link" onclick="showPopup('haptic feedback systems', 'technology that provides tactile sensations to users')">haptic feedback systems</span> and advanced sensory technologies promises to create increasingly immersive gaming experiences that engage multiple sensory modalities. These developments suggest a future where the distinction between physical and virtual experience becomes increasingly ambiguous.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Distributed computing', 'processing power shared across multiple devices')">Distributed computing</span> architectures are enabling new forms of collaborative gaming experiences that transcend traditional limitations of centralized server systems. These technological frameworks support persistent virtual worlds that can accommodate unprecedented numbers of simultaneous participants while maintaining complex, dynamic environments.
                            </p>
                            <p>
                                The emergence of <span class="vocab-link" onclick="showPopup('quantum gaming', 'theoretical gaming applications using quantum computing principles')">quantum gaming</span> represents the theoretical frontier of interactive entertainment, potentially enabling gaming experiences that operate according to quantum mechanical principles. While largely speculative, these concepts illustrate the continued expansion of technological possibilities within gaming contexts.
                            </p>
                        </div>

                        <div class="reading-page" id="C1-page-4">
                            <h3>Critical Perspectives on Gaming Culture</h3>
                            <p>
                                Critical analysis of contemporary gaming culture reveals complex tensions between democratizing potential and exclusionary practices, highlighting the need for nuanced understanding of how digital entertainment spaces both challenge and reinforce existing social hierarchies. <span class="vocab-link" onclick="showPopup('Algorithmic bias', 'unfair discrimination built into automated systems')">Algorithmic bias</span> within gaming systems can perpetuate social inequalities while simultaneously creating new forms of digital discrimination.
                            </p>
                            <p>
                                The commodification of gaming culture through <span class="vocab-link" onclick="showPopup('monetization strategies', 'methods for generating revenue from games')">monetization strategies</span> raises significant questions about the relationship between cultural expression and commercial exploitation. These practices often create tension between creative innovation and profit maximization, potentially compromising the integrity of gaming experiences.
                            </p>
                            <p>
                                <span class="vocab-link" onclick="showPopup('Cultural appropriation', 'adopting elements from cultures without permission or understanding')">Cultural appropriation</span> within gaming content represents an ongoing challenge as developers draw inspiration from diverse cultural traditions without adequate consultation or representation from source communities. This issue highlights broader questions about cultural sensitivity and authentic representation in digital media.
                            </p>
                            <p>
                                The environmental impact of gaming technology and infrastructure presents an increasingly urgent concern as the industry's energy consumption continues to grow. <span class="vocab-link" onclick="showPopup('Sustainable gaming', 'environmentally responsible approaches to gaming technology')">Sustainable gaming</span> initiatives seek to balance technological advancement with environmental responsibility, though comprehensive solutions remain elusive.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Section -->
            <div class="section" id="video">
                <h2>Video: Gaming Culture Explained</h2>
                <div class="video-container">
                    <div style="width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
                        <div style="width: 98%; max-width: 1400px; position: relative; padding-bottom: 52%; height: 0;">
                            <iframe
                                src="https://www.youtube.com/embed/OwuXF1AyKak?start=369&end=792"
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 3px solid #34495E; border-radius: 10px; box-shadow: 0 4px 8px rgba(52, 73, 94, 0.2);"
                                frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Discussions Section -->
            <div class="section" id="video-discussions">
                <div class="slideshow-container">

                    <div class="slide-content-wrapper">
                        <!-- Navigation Arrows - Outside the white box -->
                        <button class="slide-arrow prev" onclick="changeVideoSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeVideoSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <!-- Slide 1 -->
                        <div class="discussion-slide active slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Netflix's Business Strategy</h3>
                                <p>According to the video, why doesn't Netflix really care about piracy? Discuss the following points:</p>
                                <ul>
                                    <li>Netflix has over <span class="vocab-link" onclick="showPopup('300 million subscribers', 'paying customers worldwide')">300 million subscribers</span> and is profitable</li>
                                    <li>Piracy hurts their <span class="vocab-link" onclick="showPopup('competition', 'other streaming companies')">competition</span> more than Netflix itself</li>
                                    <li>When content leaves Netflix for other platforms, <span class="vocab-link" onclick="showPopup('piracy increases', 'illegal downloading goes up by 20%')">piracy increases</span> by 20%</li>
                                    <li>Netflix even used <span class="vocab-link" onclick="showPopup('piracy data', 'information from illegal sites')">piracy data</span> to see what shows were popular</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1611162617474-5b21e879e113?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Netflix Strategy" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 2 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Hollywood's Dilemma</h3>
                                <p>The video explains why movie studios are in a "no-win situation." Discuss these challenges:</p>
                                <ul>
                                    <li>Movie <span class="vocab-link" onclick="showPopup('production costs', 'money spent making films')">production costs</span> have increased dramatically</li>
                                    <li>Of the 20 most expensive movies ever made, <span class="vocab-link" onclick="showPopup('19 came out', 'were released')">19 came out</span> in the last 10 years</li>
                                    <li>Only about half of these <span class="vocab-link" onclick="showPopup('made their money back', 'earned more than they cost')">made their money back</span></li>
                                    <li>Studios could stop piracy by putting content on <span class="vocab-link" onclick="showPopup('one platform', 'a single streaming service')">one platform</span>, but nobody wants Netflix to win</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1489599763144-3c0c6f5e3e8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Hollywood Studios" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                    </div>

                    <!-- Slide Indicators -->
                    <div class="slide-indicators">
                        <span class="indicator-dot active" onclick="goToVideoSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToVideoSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Vocabulary Section -->
            <div class="section" id="vocabulary">
                <h2>Streaming & Piracy Vocabulary</h2>
                <div class="vocab-container">
                    <div class="vocab-nav">
                        <button class="page-btn active" onclick="showVocabPage(1, this)">Streaming Terms</button>
                        <button class="page-btn" onclick="showVocabPage(2, this)">Economic Terms</button>
                        <button class="page-btn" onclick="showVocabPage(3, this)">Legal & Ethics</button>
                    </div>

                    <div class="vocab-page active" id="vocab-page-1">
                        <div class="vocab-grid">
                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">Streaming</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Watching video content online in real-time without downloading</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">Lag</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Delay between player input and game response</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">GG</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Good Game - said at the end of matches</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">AFK</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Away From Keyboard - temporarily not playing</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">PvP</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Player versus Player - combat between real players</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">NPC</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Non-Player Character - computer-controlled character</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">FPS</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">First-Person Shooter or Frames Per Second</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">DPS</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Damage Per Second - measure of attack strength</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">Speedrun</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Completing a game as quickly as possible</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">Grind</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Repetitive gameplay to gain experience or items</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">Pwned</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Dominated or completely defeated an opponent</div>
                                </div>
                            </div>
                        </div>

                        <div class="flashcard" onclick="flipCard(this)">
                            <div class="flashcard-inner">
                                <div class="flashcard-front">
                                    <div class="flashcard-term">Camping</div>
                                    <div class="flashcard-hint">Click to see definition</div>
                                </div>
                                <div class="flashcard-back">
                                    <div class="flashcard-definition">Staying in one spot for tactical advantage</div>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>

                    <div class="vocab-page" id="vocab-page-2">
                        <div class="vocab-grid">
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Frag</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">To kill an opponent in a competitive game</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Clutch</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Winning a difficult situation when outnumbered</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Ace</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Eliminating an entire enemy team alone</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Meta</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Most effective tactics or strategies currently</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="vocab-page" id="vocab-page-3">
                        <div class="vocab-grid">
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Guild</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Group of players who team up regularly</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Trolling</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Deliberately annoying other players</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Streaming</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Broadcasting gameplay live to an audience</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Modding</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Modifying games to add new content or features</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- NEW VOCABULARY-BASED QUIZ SECTION -->
            <div class="section" id="quiz">
                <h2>Gaming Vocabulary Quiz</h2>
                <div class="quiz-container">
                    <div class="quiz-header" id="quiz-header">
                        <div class="quiz-nav">
                            <button class="nav-btn" onclick="previousQuizQuestion()" id="prevQuizBtn">Previous</button>
                        </div>
                        <div class="progress-container">
                            <div id="quiz-counter">Question 1 of 10</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="quizProgressFill"></div>
                            </div>
                        </div>
                        <div class="quiz-nav">
                            <button class="nav-btn" onclick="nextQuizQuestion()" id="nextQuizBtn">Next</button>
                        </div>
                    </div>

                    <!-- Dynamic Quiz Questions Container -->
                    <div id="quiz-questions-container">
                        <!-- Questions will be generated dynamically -->
                    </div>

                    <div class="quiz-page" id="quiz-results-page" style="display: none;">
                        <div style="text-align: center;">
                            <h3>Quiz Complete!</h3>
                            <div class="score" id="finalQuizScore">0/10</div>
                            <p>Well done! You've completed the Gaming Vocabulary quiz.</p>
                            <button class="check-button" onclick="restartVocabQuiz()">Try Again</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <h2>Gamer Speak</h2>
                <div class="writing-container">
                    <div class="writing-content">
                        <h3 class="writing-question">Game Review</h3>

                        <p class="writing-objective">
                            Create a Review for a video game. Use as many terms you have learned in today's lesson.
                        </p>

                        <form id="dogfightForm" class="writing-form">
                            <div class="form-group">
                                <label for="studentName">Student Name</label>
                                <input type="text" id="studentName" name="studentName" required>
                            </div>

                            <div class="form-group">
                                <label for="teacherEmail">Teacher's Email</label>
                                <input type="email" id="teacherEmail" name="teacherEmail" required>
                            </div>

                            <div class="button-container">
                                <button type="button" class="check-button" id="beginBtn" onclick="openMailto()">Begin!</button>
                            </div>

                            <div class="tips-box">
                                <h4>ðŸ’¡ Key Vocabulary</h4>
                                <div class="tips-content">
                                    <span class="vocab-items">
                                        level up, respawn, grinding, esports, streaming, toxic behavior, content creation, escapism, cloud gaming
                                    </span>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <!-- Vocabulary Popup -->
            <div class="popup-overlay" id="vocabPopup" style="display: none;">
                <div class="popup-content">
                    <div class="popup-word" id="popupWord"></div>
                    <div class="popup-definition" id="popupDefinition"></div>
                    <button class="popup-close" onclick="closePopup()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Slideshow variables
        let currentSlide = 1;
        let totalSlides = 5;

        // Gaming vocabulary database
        const vocabularyDatabase = [
            {
                term: "Noob",
                definition: "A beginner or inexperienced player",
                category: "basic",
                sentences: [
                    "Every pro gamer was once a _____ learning the basics.",
                    "Don't laugh at the _____ - help them improve their skills.",
                    "I was such a _____ when I first started playing this game."
                ]
            },
            {
                term: "Lag",
                definition: "Delay between player input and game response due to network issues",
                category: "technical",
                sentences: [
                    "The _____ was so bad I couldn't hit any of my shots.",
                    "High ping causes terrible _____ in online games.",
                    "I lost the match because of internet _____."
                ]
            },
            {
                term: "GG",
                definition: "Good Game - commonly said at the end of matches",
                category: "basic",
                sentences: [
                    "Everyone types _____ at the end of the match.",
                    "It's polite to say _____ even when you lose.",
                    "The chat was filled with _____ messages after the tournament."
                ]
            },
            {
                term: "AFK",
                definition: "Away From Keyboard - temporarily not playing",
                category: "basic",
                sentences: [
                    "I need to go _____ for five minutes.",
                    "The player has been _____ for too long.",
                    "Don't go _____ during an important team fight."
                ]
            },
            {
                term: "Guild",
                definition: "Organized group of players who play together regularly",
                category: "community",
                sentences: [
                    "Our _____ meets every Tuesday for raid night.",
                    "Joining a friendly _____ improved my gaming experience.",
                    "The _____ leader organizes all our group activities."
                ]
            },
            {
                term: "Grinding",
                definition: "Repetitive gameplay to achieve goals or level up",
                category: "basic",
                sentences: [
                    "I spent hours _____ for experience points.",
                    "The _____ for this achievement is really tedious.",
                    "Some players enjoy _____ while others find it boring."
                ]
            },
            {
                term: "Meta",
                definition: "Most effective tactics or strategies currently popular",
                category: "competitive",
                sentences: [
                    "The current _____ favors aggressive playstyles.",
                    "You need to understand the _____ to compete at high levels.",
                    "The game update completely changed the _____."
                ]
            },
            {
                term: "Streaming",
                definition: "Broadcasting your gameplay live on the internet",
                category: "community",
                sentences: [
                    "Many gamers make money through _____ their gameplay.",
                    "I enjoy watching _____ to learn new strategies.",
                    "The _____ platform has millions of gaming channels."
                ]
            },
            {
                term: "Esports",
                definition: "Competitive video gaming at a professional level",
                category: "competitive",
                sentences: [
                    "The _____ industry is worth billions of dollars.",
                    "Many universities now offer _____ scholarships.",
                    "Professional _____ players train for hours every day."
                ]
            },
            {
                term: "Carry",
                definition: "Perform exceptionally well to help the team win",
                category: "competitive",
                sentences: [
                    "The star player managed to _____ the entire team to victory.",
                    "I need someone who can _____ me through this difficult level.",
                    "She always _____ us in ranked matches."
                ]
            },
            {
                term: "Toxicity",
                definition: "Harmful behavior that creates negative gaming experiences",
                category: "community",
                sentences: [
                    "The community is working hard to reduce _____ in online games.",
                    "Report players who show _____ towards other gamers.",
                    "_____ ruins the fun for everyone involved."
                ]
            },
            {
                term: "FPS",
                definition: "First-Person Shooter games",
                category: "basic",
                sentences: [
                    "I prefer _____ games over strategy games.",
                    "The new _____ has amazing graphics and gameplay.",
                    "_____ games require good reflexes and aim."
                ]
            },
            {
                term: "RPG",
                definition: "Role-Playing Games where you control a character",
                category: "basic",
                sentences: [
                    "Fantasy _____ games let you create magical characters.",
                    "I love the storytelling in _____ games.",
                    "This _____ has over 100 hours of content."
                ]
            },
            {
                term: "Squad",
                definition: "Regular group of friends who play together",
                category: "community",
                sentences: [
                    "My gaming _____ meets online every weekend.",
                    "We formed a _____ to compete in tournaments.",
                    "The best part of gaming is playing with your _____."
                ]
            },
            {
                term: "Aim",
                definition: "Accuracy in targeting enemies or objects in games",
                category: "competitive",
                sentences: [
                    "Professional players spend hours practicing their _____.",
                    "Good _____ is essential for FPS games.",
                    "My _____ improves when I use a gaming mouse."
                ]
            }
        ];

        // Section switching
        function showSection(sectionId, navItem) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            // Remove active class from all nav items
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));


            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            navItem.classList.add('active');
        }

        // Slideshow functionality
        function changeSlide(direction) {
            const slides = document.querySelectorAll('.discussion-slide');
            const dots = document.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > totalSlides) {
                currentSlide = 1;
            }
            if (currentSlide < 1) {
                currentSlide = totalSlides;
            }

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        function goToSlide(slideNum) {
            const slides = document.querySelectorAll('.discussion-slide');
            const dots = document.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide = slideNum;

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        // Video slideshow variables
        let currentVideoSlide = 1;
        let totalVideoSlides = 4;

        // Video slideshow navigation functions
        function changeVideoSlide(direction) {
            const slides = document.querySelectorAll('#video-discussions .discussion-slide');
            const dots = document.querySelectorAll('#video-discussions .indicator-dot');

            slides[currentVideoSlide - 1].classList.remove('active');
            dots[currentVideoSlide - 1].classList.remove('active');

            currentVideoSlide += direction;

            if (currentVideoSlide > totalVideoSlides) {
                currentVideoSlide = 1;
            }
            if (currentVideoSlide < 1) {
                currentVideoSlide = totalVideoSlides;
            }

            slides[currentVideoSlide - 1].classList.add('active');
            dots[currentVideoSlide - 1].classList.add('active');
        }

        function goToVideoSlide(slideNum) {
            const slides = document.querySelectorAll('#video-discussions .discussion-slide');
            const dots = document.querySelectorAll('#video-discussions .indicator-dot');

            slides[currentVideoSlide - 1].classList.remove('active');
            dots[currentVideoSlide - 1].classList.remove('active');

            currentVideoSlide = slideNum;

            slides[currentVideoSlide - 1].classList.add('active');
            dots[currentVideoSlide - 1].classList.add('active');
        }

        // Keyboard navigation for slideshow
        document.addEventListener('keydown', function(e) {
            const discussionSection = document.getElementById('discussion');
            const videoDiscussionSection = document.getElementById('video-discussions');

            if (discussionSection && discussionSection.classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    changeSlide(-1);
                } else if (e.key === 'ArrowRight') {
                    changeSlide(1);
                }
            } else if (videoDiscussionSection && videoDiscussionSection.classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    changeVideoSlide(-1);
                } else if (e.key === 'ArrowRight') {
                    changeVideoSlide(1);
                }
            }
        });

        // Reading section management
        let currentReadingLevel = 'B1';
        let currentReadingPage = 1;

        function showReadingLevel(level, button) {
            // Update level
            currentReadingLevel = level;
            currentReadingPage = 1;

            // Update button states
            const buttons = document.querySelectorAll('.reading-nav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            // Hide all levels
            const levels = document.querySelectorAll('.reading-level');
            levels.forEach(level => level.style.display = 'none');

            // Show selected level
            document.getElementById(level + '-level').style.display = 'block';

            // Update subnav based on level
            updateReadingSubnav(level);

            // Show first page of new level
            showReadingPage(1, document.querySelector('.reading-subnav .page-btn'));
        }

        function updateReadingSubnav(level) {
            const subnav = document.getElementById('reading-subnav');
            let pages = [];

            switch (level) {
                case 'A2':
                    pages = [
                        { num: 1, title: 'The Early Days' },
                        { num: 2, title: 'Too Many Services' },
                        { num: 3, title: 'People Go Back to Stealing' },
                        { num: 4, title: 'What Can We Do?' }
                    ];
                    break;
                case 'B1':
                    pages = [
                        { num: 1, title: 'The Early Days' },
                        { num: 2, title: 'Streaming Wars' },
                        { num: 3, title: 'Return to Piracy' },
                        { num: 4, title: 'Future Solutions' }
                    ];
                    break;
                case 'B2':
                    pages = [
                        { num: 1, title: 'Digital Content Revolution' },
                        { num: 2, title: 'Economic Drivers Analysis' },
                        { num: 3, title: 'Technological Infrastructure' },
                        { num: 4, title: 'Future Paradigms' }
                    ];
                    break;
                case 'C1':
                    pages = [
                        { num: 1, title: 'Digital Entertainment' },
                        { num: 2, title: 'Virtual Communities' },
                        { num: 3, title: 'Tech Convergence' },
                        { num: 4, title: 'Critical Perspectives' }
                    ];
                    break;
            }

            subnav.innerHTML = pages.map((page, index) =>
                `<button class="page-btn ${index === 0 ? 'active' : ''}" onclick="showReadingPage(${page.num}, this)">${page.title}</button>`
            ).join('');
        }

        function showReadingPage(pageNum, button) {
            currentReadingPage = pageNum;

            // Update button states
            const buttons = document.querySelectorAll('.reading-subnav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            if (button) button.classList.add('active');

            // Hide all pages in current level
            const pages = document.querySelectorAll(`#${currentReadingLevel}-level .reading-page`);
            pages.forEach(page => page.classList.remove('active'));

            // Show selected page
            const targetPage = document.getElementById(`${currentReadingLevel}-page-${pageNum}`);
            if (targetPage) targetPage.classList.add('active');
        }

        // Vocabulary section management
        function showVocabPage(pageNum, element) {
            // Hide all vocab pages
            const pages = document.querySelectorAll('.vocab-page');
            pages.forEach(page => page.classList.remove('active'));

            // Remove active class from all page buttons
            const buttons = document.querySelectorAll('.vocab-nav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected page
            document.getElementById('vocab-page-' + pageNum).classList.add('active');

            // Add active class to clicked button
            if (element) {
                element.classList.add('active');
            }
        }

        function flipCard(card) {
            card.classList.toggle('flipped');

            // Play sound effect
            const flipSound = document.getElementById('flipSound');
            if (flipSound) {
                flipSound.currentTime = 0;
                flipSound.play().catch(e => {
                    console.log('Audio playback failed:', e);
                });
            }
        }

        // Vocabulary popup system
        function showPopup(word, definition) {
            document.getElementById('popupWord').textContent = word.charAt(0).toUpperCase() + word.slice(1);
            document.getElementById('popupDefinition').textContent = definition;
            document.getElementById('vocabPopup').style.display = 'flex';
        }

        function closePopup() {
            document.getElementById('vocabPopup').style.display = 'none';
        }

        // Quiz System Variables
        let currentQuizQuestion = 1;
        let totalQuizQuestions = 10;
        let quizQuestions = [];
        let userQuizAnswers = {};
        let quizScore = 0;

        // Initialize new quiz system
        function initializeVocabQuiz() {
            currentQuizQuestion = 1;
            userQuizAnswers = {};
            quizScore = 0;
            quizQuestions = [];

            // Filter vocabulary to only include single words (no spaces or hyphens)
            const singleWordVocab = vocabularyDatabase.filter(item =>
                !item.term.includes(' ') && !item.term.includes('-')
            );

            // Shuffle the vocabulary array to ensure randomness
            const shuffledVocab = [...singleWordVocab].sort(() => Math.random() - 0.5);

            // Generate 10 unique questions
            for (let i = 0; i < Math.min(totalQuizQuestions, shuffledVocab.length); i++) {
                const vocabItem = shuffledVocab[i];
                const sentence = vocabItem.sentences[Math.floor(Math.random() * vocabItem.sentences.length)];
                const maxHintLength = vocabItem.term.length === 3 ? 2 : Math.min(3, vocabItem.term.length);
                const hint = vocabItem.term.toLowerCase().substring(0, maxHintLength) + '...';

                quizQuestions.push({
                    type: 'fill-blank',
                    question: `Complete the sentence: "${sentence}"`,
                    correctAnswer: vocabItem.term.toLowerCase(),
                    hint: hint,
                    correctTerm: vocabItem.term
                });
            }

            // Create HTML for all questions
            generateQuizHTML();
            showQuizQuestion(1);
            updateQuizProgress();
        }

        // Generate HTML for quiz questions (text input only)
        function generateQuizHTML() {
            const container = document.getElementById('quiz-questions-container');
            container.innerHTML = '';

            quizQuestions.forEach((q, index) => {
                const questionNum = index + 1;
                const questionDiv = document.createElement('div');
                questionDiv.className = 'quiz-page';
                questionDiv.id = `quiz-question-${questionNum}`;
                if (questionNum === 1) questionDiv.classList.add('active');

                questionDiv.innerHTML = `
                    <div class="quiz-question">
                        <h3>${q.question}</h3>
                        <input type="text" class="quiz-input" id="quiz-answer-${questionNum}" placeholder="${q.hint}" onkeypress="handleQuizKeyPress(event, ${questionNum})">
                        <button class="check-button" onclick="checkQuizAnswer(${questionNum})">Check Answer</button>
                        <div class="feedback" id="quiz-feedback-${questionNum}" style="display: none;"></div>
                    </div>
                `;

                container.appendChild(questionDiv);
            });
        }


        // Handle Enter key press in quiz inputs
        function handleQuizKeyPress(event, questionNum) {
            if (event.key === 'Enter') {
                event.preventDefault();
                const checkButton = document.querySelector(`#quiz-question-${questionNum} .check-button`);
                if (!checkButton.disabled) {
                    checkQuizAnswer(questionNum);
                }
            }
        }

        // Check quiz answer (text input only)
        function checkQuizAnswer(questionNum) {
            const question = quizQuestions[questionNum - 1];
            const feedback = document.getElementById(`quiz-feedback-${questionNum}`);
            const checkButton = document.querySelector(`#quiz-question-${questionNum} .check-button`);

            let isCorrect = false;

            // Text input validation
            const userInput = document.getElementById(`quiz-answer-${questionNum}`);
            const userAnswer = userInput.value.trim().toLowerCase();

            if (!userAnswer) {
                alert('Please enter an answer first!');
                return;
            }

            // Check for multiple acceptable answers (singular, plural, verb forms, variations)
            const correctAnswers = [
                question.correctAnswer,
                question.correctAnswer + 's',  // plural or third person singular
                question.correctAnswer + 'es', // plural for words ending in 's', 'x', 'z', 'ch', 'sh'
                question.correctAnswer.replace(/y$/, 'ies'), // plural for words ending in 'y'
                question.correctAnswer.replace(/f$/, 'ves'), // plural for words ending in 'f'
                question.correctAnswer.replace(/fe$/, 'ves'), // plural for words ending in 'fe'
                question.correctAnswer + 'ing', // present participle/gerund
                question.correctAnswer + 'ed',  // past tense
                question.correctAnswer.replace(/e$/, 'ing'), // -ing for words ending in 'e'
                question.correctAnswer.replace(/e$/, 'ed'),  // -ed for words ending in 'e'
                question.correctAnswer.replace(/([^aeiou])y$/, '$1ied'), // -ed for words ending in consonant+y
                question.correctAnswer.replace(/([^aeiou])y$/, '$1ying'), // -ing for words ending in consonant+y
                question.correctAnswer.replace(/([bcdfghjklmnpqrstvwxz])([bcdfghjklmnpqrstvwxz])$/, '$1$2$2ed'), // doubling final consonant + ed
                question.correctAnswer.replace(/([bcdfghjklmnpqrstvwxz])([bcdfghjklmnpqrstvwxz])$/, '$1$2$2ing') // doubling final consonant + ing
            ];

            // Remove duplicates and filter out invalid plurals
            const validAnswers = [...new Set(correctAnswers)].filter(answer =>
                answer !== question.correctAnswer + 'ys' || question.correctAnswer.endsWith('y')
            );

            isCorrect = validAnswers.includes(userAnswer);

            userInput.classList.add(isCorrect ? 'correct' : 'incorrect');

            // Show feedback
            feedback.style.display = 'block';
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.textContent = isCorrect ? 'Correct! Well done!' :
                `Incorrect. The correct answer is: ${question.correctTerm}`;

            // Store answer
            userQuizAnswers[questionNum] = isCorrect;
            if (isCorrect) quizScore++;

            // Disable button
            checkButton.disabled = true;
            checkButton.style.opacity = '0.6';

            // Play sound effect if correct
            if (isCorrect) {
                const correctSound = new Audio('https://static.wixstatic.com/mp3/593d03_4391e836785b44ddba85840f97312533.mp3');
                correctSound.play().catch(e => console.log('Audio playbook failed:', e));
            }

            updateQuizProgress();

            // Auto-advance after 2 seconds
            setTimeout(() => {
                if (currentQuizQuestion < totalQuizQuestions) {
                    nextQuizQuestion();
                } else {
                    showQuizResults();
                }
            }, 2000);
        }

        // Show specific quiz question
        function showQuizQuestion(questionNum) {
            const questions = document.querySelectorAll('#quiz-questions-container .quiz-page');
            questions.forEach(q => q.classList.remove('active'));

            const currentQ = document.getElementById(`quiz-question-${questionNum}`);
            if (currentQ) {
                currentQ.classList.add('active');

                // Auto-focus on the input field for rapid typing
                const inputField = document.getElementById(`quiz-answer-${questionNum}`);
                if (inputField && !inputField.disabled) {
                    setTimeout(() => inputField.focus(), 100);
                }
            }

            currentQuizQuestion = questionNum;
            updateQuizProgress();
            updateQuizNavButtons();
        }

        // Next question
        function nextQuizQuestion() {
            if (currentQuizQuestion < totalQuizQuestions) {
                showQuizQuestion(currentQuizQuestion + 1);
            }
        }

        // Previous question
        function previousQuizQuestion() {
            if (currentQuizQuestion > 1) {
                showQuizQuestion(currentQuizQuestion - 1);
            }
        }

        // Update quiz progress
        function updateQuizProgress() {
            const counter = document.getElementById('quiz-counter');
            const progressBar = document.getElementById('quizProgressFill');

            if (counter) {
                counter.textContent = `Question ${currentQuizQuestion} of ${totalQuizQuestions}`;
            }

            if (progressBar) {
                const progressPercent = ((currentQuizQuestion - 1) / totalQuizQuestions) * 100;
                progressBar.style.width = progressPercent + '%';
            }
        }

        function updateQuizNavButtons() {
            const prevBtn = document.getElementById('prevQuizBtn');
            const nextBtn = document.getElementById('nextQuizBtn');

            if (prevBtn) prevBtn.disabled = (currentQuizQuestion === 1);
            if (nextBtn) nextBtn.disabled = (currentQuizQuestion === totalQuizQuestions);
        }

        // Show quiz results
        function showQuizResults() {
            const questionsContainer = document.getElementById('quiz-questions-container');
            const resultsPage = document.getElementById('quiz-results-page');
            const finalScore = document.getElementById('finalQuizScore');
            const quizHeader = document.getElementById('quiz-header');

            questionsContainer.style.display = 'none';
            quizHeader.style.display = 'none';
            resultsPage.style.display = 'block';

            if (finalScore) {
                finalScore.textContent = `${quizScore}/${totalQuizQuestions}`;
            }
        }

        // Restart quiz
        function restartVocabQuiz() {
            const questionsContainer = document.getElementById('quiz-questions-container');
            const resultsPage = document.getElementById('quiz-results-page');
            const quizHeader = document.getElementById('quiz-header');

            resultsPage.style.display = 'none';
            questionsContainer.style.display = 'block';
            quizHeader.style.display = 'flex';

            // Reinitialize quiz
            initializeVocabQuiz();
        }

        // Writing section management
        function openWritingForm(element) {
            showSection('writing', element);
        }

        // Dogfight form functions
        function openMailto() {
            const studentName = document.getElementById('studentName').value.trim();
            const teacherEmail = document.getElementById('teacherEmail').value.trim();

            if (!studentName) {
                alert('Please enter your name first!');
                document.getElementById('studentName').focus();
                return;
            }

            if (!teacherEmail) {
                alert('Please enter the teacher\'s email first!');
                document.getElementById('teacherEmail').focus();
                return;
            }

            // Get the writing objective text
            const objectiveElement = document.querySelector('.writing-objective');
            const objective = objectiveElement ? objectiveElement.textContent.trim() : 'Create a Review for a video game. Use as many terms you have learned in todays lesson.';

            // Create mailto link
            const subject = encodeURIComponent('Game Review Assignment - ' + studentName);
            const body = encodeURIComponent('Student Name: ' + studentName + '\n\nAssignment: ' + objective + '\n\nReady to begin the assignment!');
            const mailtoLink = `mailto:${teacherEmail}?subject=${subject}&body=${body}`;

            // Open mailto
            window.location.href = mailtoLink;
        }

        // Form validation for writing section
        function validateWritingForm() {
            const studentName = document.getElementById('studentName').value.trim();
            const teacherEmail = document.getElementById('teacherEmail').value.trim();
            const beginBtn = document.getElementById('beginBtn');

            if (studentName && teacherEmail) {
                beginBtn.disabled = false;
                beginBtn.style.opacity = '1';
            } else {
                beginBtn.disabled = true;
                beginBtn.style.opacity = '0.6';
            }
        }


        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeVocabQuiz(); // Initialize the new vocabulary-based quiz

            // Close popup when clicking outside
            document.getElementById('vocabPopup').addEventListener('click', function(e) {
                if (e.target === this) {
                    closePopup();
                }
            });

            // Writing form event listeners
            const dogfightForm = document.getElementById('dogfightForm');
            if (dogfightForm) {
                // Form submission
                dogfightForm.addEventListener('submit', function(e) {
                    e.preventDefault();

                    const studentName = document.getElementById('studentName').value.trim();
                    const teacherEmail = document.getElementById('teacherEmail').value.trim();

                    if (!studentName || !teacherEmail) {
                        alert('Please fill in all fields!');
                        return;
                    }

                    alert('Form submitted successfully!');
                });

                // Real-time validation for Begin button
                document.getElementById('studentName').addEventListener('input', validateWritingForm);
                document.getElementById('teacherEmail').addEventListener('input', validateWritingForm);

                // Initialize validation on load
                validateWritingForm();
            }
        });

        // Initialize reading section
        updateReadingSubnav('A2');

        // Initialize vocabulary section
    </script>
</body>
</html>
