<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A1-22: Past Simple - Irregular Verbs</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }

        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 0;
            overflow: hidden;
            height: 100%;
            background: white;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 30px 80px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 25px 35px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -70px;
        }

        .slide-arrow.next {
            right: -70px;
        }

        .slide-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            z-index: 10;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        .slide h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        .explanation-box {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 0;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .explanation-box h3 {
            color: #667eea;
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .explanation-box p {
            color: #2d3748;
            line-height: 1.5;
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .rule-box {
            background: #e3f2fd;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }

        .rule-box h4 {
            color: #667eea;
            font-size: 1.2rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .rule-box p {
            font-size: 1rem;
            color: #2d3748;
            margin: 5px 0;
        }

        .yes-no {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #4299e1;
            color: white;
        }

        .auxiliary {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #48bb78;
            color: white;
        }

        .subject {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #9f7aea;
            color: white;
        }

        .verb {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #ed64a6;
            color: white;
        }

        .example-box {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
        }

        .example-box p {
            margin: 5px 0;
            font-size: 1rem;
            color: #2d3748;
        }

        .note-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
        }

        .note-box strong {
            color: #856404;
            font-size: 1rem;
        }

        .note-box p {
            color: #856404;
            margin-top: 5px;
            line-height: 1.4;
            font-size: 0.95rem;
        }

        .exercise-container {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 10px;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .exercise-container h3 {
            color: #764ba2;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .question-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 12px;
            margin: 0;
        }

        .question-box p {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 18px;
            margin: 8px 0;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            font-size: 1.05rem;
            font-family: 'Inter', sans-serif;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 15px 5px 10px 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .feedback {
            padding: 15px 20px;
            border-radius: 12px;
            margin: 15px 0;
            font-weight: 500;
            font-size: 1.05rem;
            display: none;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
            display: block;
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
            display: block;
        }

        ul {
            margin-left: 25px;
            line-height: 1.6;
        }

        li {
            margin: 6px 0;
            font-size: 1.05rem;
            color: #2d3748;
        }

        li strong {
            color: #667eea;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 10px;
            font-size: 1.05rem;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 10px;
            border: 1px solid #e2e8f0;
            font-size: 1rem;
            text-align: center;
        }

        .comparison-table tr:nth-child(even) {
            background: #f7fafc;
        }

        .explanation-box::-webkit-scrollbar {
            width: 8px;
        }

        .explanation-box::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb:hover {
            background: #5568d3;
        }

        .formula-box {
            background: #e6fffa;
            border: 2px solid #319795;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3rem;
        }

        .grid-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .grid-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .grid-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .reading-text {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            line-height: 1.9;
            margin: 15px 0;
            border: 2px solid #e2e8f0;
        }

        .reading-text p {
            margin: 12px 0;
        }

        .highlight-question {
            background: #bee3f8;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .highlight-answer {
            background: #c6f6d5;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .example-sentence {
            font-size: 1.1rem;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>A1-22: Past Simple - Irregular Verbs</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">mimlanguageservices</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="ESL Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('explanation', this)">Explanation</div>
            <div class="nav-item" onclick="showSection('examples', this)">Examples</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('media', this)">Media</div>
            <div class="nav-item" onclick="showSection('practice', this)">Practice</div>
            <div class="nav-item" onclick="showSection('writing', this)">Writing</div>
        </div>

        <div class="content">
            <!-- Explanation Section -->
            <div class="section active" id="explanation">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="explanation">
                            <h2>Welcome to Irregular Verbs!</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.2rem; text-align: center; margin: 20px 0;">
                                    Today we will learn <span class="yes-no">IRREGULAR VERBS</span> in Past Simple!
                                </p>
                                <p style="font-size: 1.1rem; text-align: center;">
                                    Irregular verbs don't follow the -ED pattern. They have their own special past forms.
                                </p>
                                <div class="formula-box">
                                    <span class="subject">Subject</span> + <span class="verb">Irregular Past Form</span>
                                </div>
                                <p style="text-align: center; font-size: 1.1rem;">
                                    Example: I <strong>went</strong> to Paris / She <strong>saw</strong> a movie / They <strong>ate</strong> dinner
                                </p>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>What are Irregular Verbs?</h2>
                            <div class="explanation-box">
                                <h3>Irregular verbs change completely in the past:</h3>

                                <div class="rule-box">
                                    <h4>Key Point:</h4>
                                    <p>• These verbs DON'T add -ED</p>
                                    <p>• They have their own special past forms</p>
                                    <p>• You must memorize them!</p>
                                </div>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Base Form</th>
                                        <th>Past Simple</th>
                                        <th>Example</th>
                                    </tr>
                                    <tr>
                                        <td>go</td>
                                        <td>went</td>
                                        <td>I went to school.</td>
                                    </tr>
                                    <tr>
                                        <td>have</td>
                                        <td>had</td>
                                        <td>She had breakfast.</td>
                                    </tr>
                                    <tr>
                                        <td>see</td>
                                        <td>saw</td>
                                        <td>We saw a movie.</td>
                                    </tr>
                                </table>

                                <div class="note-box">
                                    <strong>Remember:</strong>
                                    <p>There is NO rule for irregular verbs - you must learn them by heart!</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Common Irregular Verbs List</h2>
                            <div class="explanation-box">
                                <h3>30+ Essential Irregular Verbs:</h3>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Base</th>
                                        <th>Past</th>
                                        <th>Base</th>
                                        <th>Past</th>
                                    </tr>
                                    <tr>
                                        <td>go</td>
                                        <td>went</td>
                                        <td>have</td>
                                        <td>had</td>
                                    </tr>
                                    <tr>
                                        <td>see</td>
                                        <td>saw</td>
                                        <td>eat</td>
                                        <td>ate</td>
                                    </tr>
                                    <tr>
                                        <td>make</td>
                                        <td>made</td>
                                        <td>take</td>
                                        <td>took</td>
                                    </tr>
                                    <tr>
                                        <td>get</td>
                                        <td>got</td>
                                        <td>come</td>
                                        <td>came</td>
                                    </tr>
                                    <tr>
                                        <td>say</td>
                                        <td>said</td>
                                        <td>know</td>
                                        <td>knew</td>
                                    </tr>
                                    <tr>
                                        <td>think</td>
                                        <td>thought</td>
                                        <td>give</td>
                                        <td>gave</td>
                                    </tr>
                                    <tr>
                                        <td>find</td>
                                        <td>found</td>
                                        <td>tell</td>
                                        <td>told</td>
                                    </tr>
                                    <tr>
                                        <td>become</td>
                                        <td>became</td>
                                        <td>leave</td>
                                        <td>left</td>
                                    </tr>
                                    <tr>
                                        <td>feel</td>
                                        <td>felt</td>
                                        <td>bring</td>
                                        <td>brought</td>
                                    </tr>
                                    <tr>
                                        <td>begin</td>
                                        <td>began</td>
                                        <td>keep</td>
                                        <td>kept</td>
                                    </tr>
                                    <tr>
                                        <td>hold</td>
                                        <td>held</td>
                                        <td>write</td>
                                        <td>wrote</td>
                                    </tr>
                                    <tr>
                                        <td>stand</td>
                                        <td>stood</td>
                                        <td>hear</td>
                                        <td>heard</td>
                                    </tr>
                                    <tr>
                                        <td>let</td>
                                        <td>let</td>
                                        <td>mean</td>
                                        <td>meant</td>
                                    </tr>
                                    <tr>
                                        <td>set</td>
                                        <td>set</td>
                                        <td>meet</td>
                                        <td>met</td>
                                    </tr>
                                    <tr>
                                        <td>run</td>
                                        <td>ran</td>
                                        <td>pay</td>
                                        <td>paid</td>
                                    </tr>
                                    <tr>
                                        <td>sit</td>
                                        <td>sat</td>
                                        <td>do</td>
                                        <td>did</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Negative with DIDN'T</h2>
                            <div class="explanation-box">
                                <h3>Use DIDN'T + base verb (NOT irregular form)</h3>

                                <div class="formula-box">
                                    Negative: <span class="subject">Subject</span> + <span class="auxiliary">DIDN'T</span> + <span class="verb">base verb</span>
                                </div>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Positive</th>
                                        <th>Negative</th>
                                    </tr>
                                    <tr>
                                        <td>I went to school.</td>
                                        <td>I didn't go to school.</td>
                                    </tr>
                                    <tr>
                                        <td>She saw the movie.</td>
                                        <td>She didn't see the movie.</td>
                                    </tr>
                                    <tr>
                                        <td>They had lunch.</td>
                                        <td>They didn't have lunch.</td>
                                    </tr>
                                </table>

                                <div class="rule-box">
                                    <h4>Important:</h4>
                                    <p>Use the BASE FORM after didn't, NOT the irregular past form!</p>
                                    <p>✗ I didn't <del>went</del> → ✓ I didn't <strong>go</strong></p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Questions with DID</h2>
                            <div class="explanation-box">
                                <h3>Use DID + base verb (NOT irregular form)</h3>

                                <div class="formula-box">
                                    Question: <span class="auxiliary">DID</span> + <span class="subject">subject</span> + <span class="verb">base verb</span> ?
                                </div>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Statement</th>
                                        <th>Question</th>
                                    </tr>
                                    <tr>
                                        <td>You went to Paris.</td>
                                        <td>Did you go to Paris?</td>
                                    </tr>
                                    <tr>
                                        <td>She saw the doctor.</td>
                                        <td>Did she see the doctor?</td>
                                    </tr>
                                    <tr>
                                        <td>They ate pizza.</td>
                                        <td>Did they eat pizza?</td>
                                    </tr>
                                </table>

                                <div class="note-box">
                                    <strong>Remember:</strong>
                                    <p>After DID, always use the BASE FORM of the verb!</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Time Expressions</h2>
                            <div class="explanation-box">
                                <h3>Common time words with Past Simple:</h3>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Time Expression</th>
                                        <th>Example</th>
                                    </tr>
                                    <tr>
                                        <td><strong>yesterday</strong></td>
                                        <td>I went to the gym yesterday.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>last (week/month/year)</strong></td>
                                        <td>She saw him last week.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>ago</strong></td>
                                        <td>They came here two days ago.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>in (year)</strong></td>
                                        <td>I met her in 2020.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>when I was</strong></td>
                                        <td>I had a dog when I was young.</td>
                                    </tr>
                                </table>

                                <div class="rule-box">
                                    <h4>Examples:</h4>
                                    <p>• I <strong>went</strong> shopping <strong>yesterday</strong>.</p>
                                    <p>• She <strong>ate</strong> sushi <strong>last night</strong>.</p>
                                    <p>• We <strong>saw</strong> them <strong>three days ago</strong>.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Common Mistakes</h2>
                            <div class="explanation-box">
                                <h3>❌ Mistake 1: Adding -ED to irregular verbs</h3>
                                <div class="example-box">
                                    <p>❌ I <del>goed</del> to school. → ✅ I <strong>went</strong> to school.</p>
                                    <p>❌ She <del>eated</del> lunch. → ✅ She <strong>ate</strong> lunch.</p>
                                </div>

                                <h3>❌ Mistake 2: Using irregular form with DIDN'T</h3>
                                <div class="example-box">
                                    <p>❌ I didn't <del>went</del>. → ✅ I didn't <strong>go</strong>.</p>
                                    <p>❌ She didn't <del>saw</del>. → ✅ She didn't <strong>see</strong>.</p>
                                </div>

                                <h3>❌ Mistake 3: Using irregular form with DID</h3>
                                <div class="example-box">
                                    <p>❌ Did you <del>went</del>? → ✅ Did you <strong>go</strong>?</p>
                                    <p>❌ Did he <del>ate</del>? → ✅ Did he <strong>eat</strong>?</p>
                                </div>

                                <h3>❌ Mistake 4: Wrong irregular form</h3>
                                <div class="example-box">
                                    <p>❌ I <del>brang</del> my book. → ✅ I <strong>brought</strong> my book.</p>
                                    <p>❌ She <del>thinked</del>. → ✅ She <strong>thought</strong>.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="explanation-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                        <span class="indicator-dot" onclick="goToSlide(7)"></span>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div class="section" id="examples">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="examples">
                            <h2>Irregular Verbs - Positive Sentences</h2>
                            <div class="explanation-box">
                                <h3>Common irregular verbs in sentences:</h3>
                                <div class="grid-examples">
                                    <div class="grid-card">
                                        <strong>Daily Actions:</strong><br><br>
                                        • I <strong>went</strong> to work by bus.<br>
                                        • She <strong>had</strong> coffee this morning.<br>
                                        • They <strong>saw</strong> a great film.<br>
                                        • We <strong>ate</strong> at a restaurant.
                                    </div>
                                    <div class="grid-card">
                                        <strong>More Examples:</strong><br><br>
                                        • I <strong>took</strong> the train to London.<br>
                                        • He <strong>made</strong> a big mistake.<br>
                                        • She <strong>came</strong> home late.<br>
                                        • They <strong>got</strong> a new car.
                                    </div>
                                </div>

                                <h3>Communication & Thinking:</h3>
                                <div class="grid-examples">
                                    <div class="grid-card">
                                        <strong>Say/Tell/Think:</strong><br><br>
                                        • I <strong>said</strong> hello to her.<br>
                                        • She <strong>told</strong> me the truth.<br>
                                        • He <strong>thought</strong> about it.<br>
                                        • We <strong>knew</strong> the answer.
                                    </div>
                                    <div class="grid-card">
                                        <strong>Give/Bring/Write:</strong><br><br>
                                        • I <strong>gave</strong> him a present.<br>
                                        • She <strong>brought</strong> her laptop.<br>
                                        • He <strong>wrote</strong> a letter.<br>
                                        • They <strong>found</strong> the keys.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Negative & Questions</h2>
                            <div class="explanation-box">
                                <h3>Negative with DIDN'T:</h3>
                                <div class="example-box">
                                    <p>• I <strong>didn't go</strong> to the party.</p>
                                    <p>• She <strong>didn't see</strong> the message.</p>
                                    <p>• They <strong>didn't have</strong> breakfast.</p>
                                    <p>• We <strong>didn't take</strong> the bus.</p>
                                    <p>• He <strong>didn't make</strong> dinner.</p>
                                </div>

                                <h3>Questions with DID:</h3>
                                <div class="example-box">
                                    <p>• <strong>Did you go</strong> to the concert?</p>
                                    <p>• <strong>Did she see</strong> the email?</p>
                                    <p>• <strong>Did they eat</strong> already?</p>
                                    <p>• <strong>Did you take</strong> your medicine?</p>
                                    <p>• <strong>Did he come</strong> to class?</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Mixed Practice</h2>
                            <div class="explanation-box">
                                <h3>Complete story with irregular verbs:</h3>

                                <div class="rule-box">
                                    <h4>Yesterday's Adventure:</h4>
                                    <p>Yesterday, I <strong>woke up</strong> at 7am. I <strong>had</strong> a quick breakfast and <strong>went</strong> to the bus stop. I <strong>took</strong> the bus to town and <strong>met</strong> my friend Sarah. We <strong>saw</strong> a movie and then <strong>ate</strong> lunch at a café. She <strong>told</strong> me about her new job. We <strong>left</strong> at 3pm. I <strong>came</strong> home and <strong>felt</strong> tired, so I <strong>sat</strong> on the sofa. I <strong>thought</strong> it was a great day!</p>
                                </div>

                                <h3>All irregular verbs used:</h3>
                                <div class="example-box">
                                    <p>woke up, had, went, took, met, saw, ate, told, left, came, felt, sat, thought</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="examples-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="reading">
                            <h2>Reading: Tom's Trip to London</h2>
                            <div class="explanation-box">
                                <div class="reading-text">
                                    <p><strong>My Trip to London</strong></p>

                                    <p>Last month, I <span class="highlight-answer">went</span> to London for the first time. I <span class="highlight-answer">took</span> an early morning flight and <span class="highlight-answer">got</span> there at 10am. The weather <span class="highlight-answer">was</span> beautiful!</p>

                                    <p>I <span class="highlight-answer">met</span> my friend Jack at the airport. We <span class="highlight-answer">took</span> a taxi to the hotel and <span class="highlight-answer">left</span> our bags there. Then we <span class="highlight-answer">went</span> sightseeing immediately!</p>

                                    <p>First, we <span class="highlight-answer">saw</span> Big Ben and the London Eye. I <span class="highlight-answer">took</span> many photos! We <span class="highlight-answer">ate</span> lunch at a traditional pub. I <span class="highlight-answer">had</span> fish and chips - it <span class="highlight-answer">was</span> delicious!</p>

                                    <p>In the afternoon, we <span class="highlight-answer">visited</span> the British Museum. We <span class="highlight-answer">saw</span> amazing ancient artifacts. Jack <span class="highlight-answer">told</span> me many interesting facts about British history.</p>

                                    <p>Later, we <span class="highlight-answer">went</span> shopping on Oxford Street. I <span class="highlight-answer">bought</span> some souvenirs for my family. We <span class="highlight-answer">felt</span> tired, so we <span class="highlight-answer">sat</span> in a café and <span class="highlight-answer">had</span> tea.</p>

                                    <p>In the evening, we <span class="highlight-answer">saw</span> a musical in the West End. It <span class="highlight-answer">was</span> fantastic! After the show, we <span class="highlight-answer">came</span> back to the hotel. I <span class="highlight-answer">thought</span> it was the best day ever!</p>

                                    <p>The next morning, I <span class="highlight-answer">said</span> goodbye to Jack and <span class="highlight-answer">took</span> a taxi to the airport. I <span class="highlight-answer">knew</span> I would come back to London soon!</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="reading">
                            <h2>Reading Analysis</h2>
                            <div class="explanation-box">
                                <h3>Irregular verbs used in the story:</h3>
                                <div class="example-box">
                                    <p><strong>go → went:</strong> went (4 times)</p>
                                    <p><strong>take → took:</strong> took (4 times)</p>
                                    <p><strong>get → got:</strong> got (1 time)</p>
                                    <p><strong>meet → met:</strong> met (1 time)</p>
                                    <p><strong>see → saw:</strong> saw (4 times)</p>
                                    <p><strong>eat → ate:</strong> ate (1 time)</p>
                                    <p><strong>have → had:</strong> had (3 times)</p>
                                    <p><strong>leave → left:</strong> left (1 time)</p>
                                    <p><strong>tell → told:</strong> told (1 time)</p>
                                    <p><strong>buy → bought:</strong> bought (1 time)</p>
                                    <p><strong>feel → felt:</strong> felt (1 time)</p>
                                    <p><strong>sit → sat:</strong> sat (1 time)</p>
                                    <p><strong>come → came:</strong> came (1 time)</p>
                                    <p><strong>think → thought:</strong> thought (1 time)</p>
                                    <p><strong>say → said:</strong> said (1 time)</p>
                                    <p><strong>know → knew:</strong> knew (1 time)</p>
                                </div>

                                <h3>Regular verbs also used:</h3>
                                <div class="example-box">
                                    <p><strong>visit → visited:</strong> visited (1 time)</p>
                                </div>

                                <div class="note-box">
                                    <strong>Notice:</strong>
                                    <p>Most past actions in English use irregular verbs! That's why they're so important to learn.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="reading-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Media Section -->
            <div class="section" id="media">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="media">
                            <h2>Video: Irregular Verbs Explained</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 20px;">Watch this video about irregular verbs in Past Simple:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/AXAFVKq-74k"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p style="font-size: 1rem; color: #666; text-align: center; font-style: italic;">
                                    Learn the most common irregular verbs in English
                                </p>
                            </div>
                        </div>

                        <div class="slide" data-section="media">
                            <h2>Video: Irregular Verbs Song</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 20px;">Learn irregular verbs with a fun song:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/I1YsjJJiG0k"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p style="font-size: 1rem; color: #666; text-align: center; font-style: italic;">
                                    Memorize irregular verbs with this catchy song!
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="media-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Practice Section -->
            <div class="section" id="practice">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="practice">
                            <h2>Practice 1: Past Form of GO</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Change to past: "I (go) to the park." → "I ___ to the park."</p>
                                    <input type="text" id="q1" placeholder="Type: went" onkeypress="if(event.key==='Enter') checkAnswer1()">
                                    <button class="check-button" onclick="checkAnswer1()">Check Answer</button>
                                    <div id="feedback1" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 2: Past Form of SEE</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Change to past: "She (see) a movie." → "She ___ a movie."</p>
                                    <input type="text" id="q2" placeholder="Type: saw" onkeypress="if(event.key==='Enter') checkAnswer2()">
                                    <button class="check-button" onclick="checkAnswer2()">Check Answer</button>
                                    <div id="feedback2" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 3: Past Form of EAT</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Change to past: "We (eat) pizza." → "We ___ pizza."</p>
                                    <input type="text" id="q3" placeholder="Type: ate" onkeypress="if(event.key==='Enter') checkAnswer3()">
                                    <button class="check-button" onclick="checkAnswer3()">Check Answer</button>
                                    <div id="feedback3" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 4: Past Form of TAKE</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Change to past: "They (take) the bus." → "They ___ the bus."</p>
                                    <input type="text" id="q4" placeholder="Type: took" onkeypress="if(event.key==='Enter') checkAnswer4()">
                                    <button class="check-button" onclick="checkAnswer4()">Check Answer</button>
                                    <div id="feedback4" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 5: Make Negative</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Make negative: "I went to school." → "I ___ to school."</p>
                                    <input type="text" id="q5" placeholder="Type: didn't go" onkeypress="if(event.key==='Enter') checkAnswer5()">
                                    <button class="check-button" onclick="checkAnswer5()">Check Answer</button>
                                    <div id="feedback5" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 6: Make Question</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Make a question: "You saw the movie." → "___ the movie?"</p>
                                    <input type="text" id="q6" placeholder="Type: Did you see" onkeypress="if(event.key==='Enter') checkAnswer6()">
                                    <button class="check-button" onclick="checkAnswer6()">Check Answer</button>
                                    <div id="feedback6" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 7: Fix the Mistake</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fix: "I didn't went to the party." → "___"</p>
                                    <input type="text" id="q7" placeholder="Type the correct sentence" onkeypress="if(event.key==='Enter') checkAnswer7()">
                                    <button class="check-button" onclick="checkAnswer7()">Check Answer</button>
                                    <div id="feedback7" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 8: Past Form of THINK</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>"I (think) about you." → "I ___ about you."</p>
                                    <input type="text" id="q8" placeholder="Type: thought" onkeypress="if(event.key==='Enter') checkAnswer8()">
                                    <button class="check-button" onclick="checkAnswer8()">Check Answer</button>
                                    <div id="feedback8" class="feedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="practice-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                        <span class="indicator-dot" onclick="goToSlide(7)"></span>
                        <span class="indicator-dot" onclick="goToSlide(8)"></span>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="writing" style="overflow-y: auto;">
                            <h2>Writing Practice</h2>
                            <div class="explanation-box">
                                <h3>Write about what you did yesterday</h3>
                                <p style="margin-bottom: 15px;">Use at least 10 irregular verbs. Write at least 10 sentences.</p>
                                <div class="question-box">
                                    <textarea id="writing1" rows="8" style="width: 100%; padding: 12px; border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 8px; font-size: 1.05rem; font-family: 'Inter', sans-serif; resize: vertical;" spellcheck="true" placeholder="Yesterday, I woke up at 7am. I had breakfast and then went to work. I took the bus..."></textarea>
                                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                                        <button class="check-button" onclick="checkGrammar()">Check Grammar</button>
                                        <button id="send-teacher-btn" class="check-button" onclick="sendToTeacher()" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); opacity: 0.5; cursor: not-allowed;" disabled>Send to Teacher</button>
                                    </div>
                                    <div id="grammar-feedback" style="margin-top: 15px; padding: 15px; border-radius: 8px; display: none;"></div>
                                    <p style="font-size: 0.95rem; color: #666; margin-top: 10px;">Try to use: went, had, saw, ate, took, came, got, made, said, thought, etc.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="writing-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        let currentSection = 'explanation';

        function showSection(sectionName, element) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            document.getElementById(sectionName).classList.add('active');

            if (element) {
                element.classList.add('active');
            }

            currentSection = sectionName;
            currentSlide = 1;

            setTimeout(() => {
                const activeSection = document.querySelector('.section.active');
                const inputField = activeSection.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                }
            }, 100);
        }

        function changeSlide(direction) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            if (slides.length === 1) return;

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > slides.length) {
                currentSlide = 1;
            }
            if (currentSlide < 1) {
                currentSlide = slides.length;
            }

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');

            setTimeout(() => {
                const activeSlide = slides[currentSlide - 1];
                const inputField = activeSlide.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                    inputField.value = '';
                }
            }, 100);
        }

        function goToSlide(slideNum) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide = slideNum;

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        function checkAnswer1() {
            const answer = document.getElementById('q1').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback1');

            if (answer === 'went') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! go → went (irregular!)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ The answer is: went (NOT goed)';
            }
        }

        function checkAnswer2() {
            const answer = document.getElementById('q2').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback2');

            if (answer === 'saw') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! see → saw';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ The answer is: saw (NOT seed or sawed)';
            }
        }

        function checkAnswer3() {
            const answer = document.getElementById('q3').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback3');

            if (answer === 'ate') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Correct! eat → ate';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ The answer is: ate (NOT eated)';
            }
        }

        function checkAnswer4() {
            const answer = document.getElementById('q4').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback4');

            if (answer === 'took') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! take → took';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ The answer is: took (NOT taked)';
            }
        }

        function checkAnswer5() {
            const answer = document.getElementById('q5').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback5');

            if (answer === "didn't go" || answer === "did not go") {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Correct! Use didn\'t + base form (go, NOT went)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ The answer is: didn\'t go (use base form after didn\'t)';
            }
        }

        function checkAnswer6() {
            const answer = document.getElementById('q6').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback6');

            if (answer === 'did you see' || answer === 'did you see the movie') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! Did + subject + base form (see, NOT saw)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ The answer is: Did you see (use base form after did)';
            }
        }

        function checkAnswer7() {
            const answer = document.getElementById('q7').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback7');

            if (answer === "i didn't go to the party" || answer === "i didn't go to the party." || answer === "i did not go to the party" || answer === "i did not go to the party.") {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great! Use base form with didn\'t: I didn\'t go to the party.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use base form: I didn\'t go to the party (NOT didn\'t went)';
            }
        }

        function checkAnswer8() {
            const answer = document.getElementById('q8').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback8');

            if (answer === 'thought') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! think → thought (irregular!)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ The answer is: thought (NOT thinked)';
            }
        }

        async function checkGrammar() {
            const text = document.getElementById('writing1').value;
            const feedbackDiv = document.getElementById('grammar-feedback');
            const textarea = document.getElementById('writing1');

            if (!text.trim()) {
                feedbackDiv.style.display = 'block';
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Please write some sentences first!';
                return;
            }

            textarea.style.display = 'none';
            window.grammarCheckResult = { original: text, corrected: '' };

            feedbackDiv.style.display = 'block';
            feedbackDiv.style.background = 'rgba(102, 126, 234, 0.1)';
            feedbackDiv.style.border = '1px solid rgba(102, 126, 234, 0.3)';
            feedbackDiv.style.color = '#667eea';
            feedbackDiv.innerHTML = '⏳ Checking your grammar and spelling...';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyBTH0NmDb3cqjrY6p7YROPIJel-iCxSxzs`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `You are a strict grammar checker. Fix grammar and spelling errors. Do not change the meaning, style, or add punctuation unless absolutely necessary. Profanities are acceptable, but don't use shortened informal words like "cuz" or "wanna"\n\nText: "${text}"\n\nReturn only the corrected text with minimal changes.`
                            }]
                        }]
                    })
                });

                const data = await response.json();
                const correctedText = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || text;

                if (correctedText !== text && correctedText.toLowerCase() !== text.toLowerCase()) {
                    const originalWords = text.split(/(\s+)/);
                    const correctedWords = correctedText.split(/(\s+)/);
                    let highlightedText = '';

                    originalWords.forEach((word, i) => {
                        if (word.match(/\s+/)) {
                            highlightedText += word;
                        } else if (correctedWords[i] && word.toLowerCase() !== correctedWords[i].toLowerCase()) {
                            highlightedText += `<span style="color: #e53e3e; font-weight: 600; background: rgba(245, 101, 101, 0.15); padding: 2px 4px; border-radius: 3px;">${word}</span>`;
                        } else {
                            highlightedText += word;
                        }
                    });

                    let html = `
                        <div style="margin-bottom: 20px;">
                            <strong style="color: #c53030;">Your Text (errors highlighted):</strong>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(245, 101, 101, 0.3); line-height: 1.8;">
                                ${highlightedText}
                            </div>
                        </div>
                        <div>
                            <strong style="color: #2f855a;">Corrected Text:</strong>
                            <div style="background: rgba(72, 187, 120, 0.1); padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(72, 187, 120, 0.3); color: #2d3748; line-height: 1.8;">
                                ${correctedText}
                            </div>
                        </div>
                    `;

                    feedbackDiv.style.background = 'rgba(245, 101, 101, 0.05)';
                    feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                    feedbackDiv.style.color = '#2d3748';
                    feedbackDiv.innerHTML = html;

                    window.grammarCheckResult.corrected = correctedText;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                } else {
                    feedbackDiv.style.background = 'rgba(72, 187, 120, 0.1)';
                    feedbackDiv.style.border = '1px solid rgba(72, 187, 120, 0.3)';
                    feedbackDiv.style.color = '#2f855a';
                    feedbackDiv.innerHTML = '✓ Perfect! No grammar or spelling errors detected!';

                    window.grammarCheckResult.corrected = text;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                }
            } catch (error) {
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Unable to check grammar. Error: ' + error.message;
            }
        }

        function sendToTeacher() {
            const essayTitle = "A1-22: Past Simple - Irregular Verbs";
            const originalText = window.grammarCheckResult.original;
            const correctedText = window.grammarCheckResult.corrected;

            const emailBody = `Essay Title: ${essayTitle}\n\nOriginal Essay:\n${originalText}\n\nWe made some changes:\n\nCorrected Text:\n${correctedText}`;
            const mailtoLink = `mailto:?subject=${encodeURIComponent(essayTitle)}&body=${encodeURIComponent(emailBody)}`;
            window.location.href = mailtoLink;
        }
    </script>
</body>
</html>
