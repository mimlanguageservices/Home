<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B1-54: Relative Clauses - Defining & Non-defining</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }

        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 0;
            overflow: hidden;
            height: 100%;
            background: white;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 30px 80px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 25px 35px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -70px;
        }

        .slide-arrow.next {
            right: -70px;
        }

        .slide-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            z-index: 10;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        .slide h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        .explanation-box {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 0;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .explanation-box h3 {
            color: #667eea;
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .explanation-box p {
            color: #2d3748;
            line-height: 1.5;
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .rule-box {
            background: #e3f2fd;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }

        .rule-box h4 {
            color: #667eea;
            font-size: 1.2rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .rule-box p {
            font-size: 1rem;
            color: #2d3748;
            margin: 5px 0;
        }

        .yes-no {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #4299e1;
            color: white;
        }

        .auxiliary {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #48bb78;
            color: white;
        }

        .subject {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #9f7aea;
            color: white;
        }

        .verb {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #ed64a6;
            color: white;
        }

        .example-box {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
        }

        .example-box p {
            margin: 5px 0;
            font-size: 1rem;
            color: #2d3748;
        }

        .note-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
        }

        .note-box strong {
            color: #856404;
            font-size: 1rem;
        }

        .note-box p {
            color: #856404;
            margin-top: 5px;
            line-height: 1.4;
            font-size: 0.95rem;
        }

        .exercise-container {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 10px;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .exercise-container h3 {
            color: #764ba2;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .question-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 12px;
            margin: 0;
        }

        .question-box p {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 18px;
            margin: 8px 0;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            font-size: 1.05rem;
            font-family: 'Inter', sans-serif;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 15px 5px 10px 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .feedback {
            padding: 15px 20px;
            border-radius: 12px;
            margin: 15px 0;
            font-weight: 500;
            font-size: 1.05rem;
            display: none;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
            display: block;
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
            display: block;
        }

        ul {
            margin-left: 25px;
            line-height: 1.6;
        }

        li {
            margin: 6px 0;
            font-size: 1.05rem;
            color: #2d3748;
        }

        li strong {
            color: #667eea;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 10px;
            font-size: 1.05rem;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 10px;
            border: 1px solid #e2e8f0;
            font-size: 1rem;
            text-align: center;
        }

        .comparison-table tr:nth-child(even) {
            background: #f7fafc;
        }

        .explanation-box::-webkit-scrollbar {
            width: 8px;
        }

        .explanation-box::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb:hover {
            background: #5568d3;
        }

        .formula-box {
            background: #e6fffa;
            border: 2px solid #319795;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3rem;
        }

        .grid-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .grid-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .grid-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .reading-text {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            line-height: 1.9;
            margin: 15px 0;
            border: 2px solid #e2e8f0;
        }

        .reading-text p {
            margin: 12px 0;
        }

        .highlight-question {
            background: #bee3f8;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .highlight-answer {
            background: #c6f6d5;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .example-sentence {
            font-size: 1.1rem;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>B1-54: Relative Clauses - Defining & Non-defining</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">mimlanguageservices</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="ESL Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('explanation', this)">Explanation</div>
            <div class="nav-item" onclick="showSection('examples', this)">Examples</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('media', this)">Media</div>
            <div class="nav-item" onclick="showSection('practice', this)">Practice</div>
            <div class="nav-item" onclick="showSection('writing', this)">Writing</div>
        </div>

        <div class="content">
            <!-- Explanation Section -->
            <div class="section active" id="explanation">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="explanation">
                            <h2>Welcome to Relative Clauses!</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.2rem; text-align: center; margin: 20px 0;">
                                    Today we will learn about <span class="yes-no">RELATIVE CLAUSES</span> in English!
                                </p>
                                <p style="font-size: 1.1rem; text-align: center;">
                                    Relative clauses give extra information about a noun in a sentence.
                                </p>
                                <div class="formula-box">
                                    <span class="subject">NOUN</span> + <span class="verb">who/which/that/where/when</span> + <span class="auxiliary">extra information</span>
                                </div>
                                <p style="text-align: center; font-size: 1.1rem;">
                                    Example: The man <strong>who lives next door</strong> is a doctor. / The book <strong>which I bought</strong> is great.
                                </p>
                                <div class="rule-box">
                                    <h4>Two Types:</h4>
                                    <p>• <strong>Defining:</strong> Essential information (no commas)</p>
                                    <p>• <strong>Non-defining:</strong> Extra information (with commas)</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Defining Relative Clauses</h2>
                            <div class="explanation-box">
                                <h3>Essential Information - No Commas</h3>

                                <div class="formula-box">
                                    <span class="subject">NOUN</span> + <span class="verb">who/which/that</span> + <span class="auxiliary">essential information</span>
                                </div>

                                <div class="rule-box">
                                    <h4>Purpose:</h4>
                                    <p>• Identifies WHICH person or thing we are talking about</p>
                                    <p>• The information is ESSENTIAL to understand the meaning</p>
                                    <p>• NO commas are used</p>
                                    <p>• You CANNOT remove the clause without changing the meaning</p>
                                </div>

                                <h3>Relative Pronouns:</h3>
                                <table class="comparison-table">
                                    <tr>
                                        <th>Pronoun</th>
                                        <th>Used For</th>
                                        <th>Example</th>
                                    </tr>
                                    <tr>
                                        <td><strong>who</strong></td>
                                        <td>People</td>
                                        <td>The woman <strong>who called</strong> is my sister.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>which</strong></td>
                                        <td>Things/Animals</td>
                                        <td>The book <strong>which I read</strong> was boring.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>that</strong></td>
                                        <td>People/Things</td>
                                        <td>The car <strong>that I bought</strong> is red.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>where</strong></td>
                                        <td>Places</td>
                                        <td>The place <strong>where we met</strong> is special.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>when</strong></td>
                                        <td>Times</td>
                                        <td>The day <strong>when I arrived</strong> was sunny.</td>
                                    </tr>
                                </table>

                                <div class="example-box">
                                    <p><strong>Example:</strong> The man who stole my wallet was caught.</p>
                                    <p><strong>Why defining?</strong> We need to know WHICH man - the one who stole the wallet, not just any man.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Non-defining Relative Clauses</h2>
                            <div class="explanation-box">
                                <h3>Extra Information - With Commas</h3>

                                <div class="formula-box">
                                    <span class="subject">NOUN</span>, <span class="verb">who/which</span> + <span class="auxiliary">extra information</span>,
                                </div>

                                <div class="rule-box">
                                    <h4>Purpose:</h4>
                                    <p>• Gives EXTRA or ADDITIONAL information</p>
                                    <p>• The information is NOT essential to identify the noun</p>
                                    <p>• COMMAS are used before and after the clause</p>
                                    <p>• You CAN remove the clause and the sentence still makes sense</p>
                                    <p>• CANNOT use "that" - only who/which</p>
                                </div>

                                <h3>Relative Pronouns:</h3>
                                <table class="comparison-table">
                                    <tr>
                                        <th>Pronoun</th>
                                        <th>Used For</th>
                                        <th>Example</th>
                                    </tr>
                                    <tr>
                                        <td><strong>who</strong></td>
                                        <td>People</td>
                                        <td>My sister, <strong>who lives in Paris</strong>, is visiting.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>which</strong></td>
                                        <td>Things/Animals</td>
                                        <td>My car, <strong>which is very old</strong>, still works.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>where</strong></td>
                                        <td>Places</td>
                                        <td>London, <strong>where I was born</strong>, is huge.</td>
                                    </tr>
                                    <tr>
                                        <td><strong>when</strong></td>
                                        <td>Times</td>
                                        <td>1999, <strong>when I was born</strong>, was special.</td>
                                    </tr>
                                </table>

                                <div class="example-box">
                                    <p><strong>Example:</strong> My brother, who is a doctor, lives in London.</p>
                                    <p><strong>Why non-defining?</strong> We already know who my brother is. "Who is a doctor" is just extra information.</p>
                                </div>

                                <div class="note-box">
                                    <strong>Important!</strong>
                                    <p>NEVER use "that" in non-defining clauses! Use who or which only.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Differences Between Defining & Non-defining</h2>
                            <div class="explanation-box">
                                <h3>Key Differences:</h3>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Feature</th>
                                        <th>Defining</th>
                                        <th>Non-defining</th>
                                    </tr>
                                    <tr>
                                        <td><strong>Commas</strong></td>
                                        <td>NO commas</td>
                                        <td>YES commas (,  ,)</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Essential?</strong></td>
                                        <td>YES - essential information</td>
                                        <td>NO - extra information</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Can remove?</strong></td>
                                        <td>NO - meaning changes</td>
                                        <td>YES - sentence still makes sense</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Use "that"?</strong></td>
                                        <td>YES (who/which/that)</td>
                                        <td>NO (only who/which)</td>
                                    </tr>
                                </table>

                                <h3>Compare These Sentences:</h3>

                                <div class="example-box">
                                    <p><strong>DEFINING:</strong> The students who studied hard passed the exam.</p>
                                    <p>→ Only THOSE students (the ones who studied) passed. Others didn't.</p>
                                </div>

                                <div class="example-box">
                                    <p><strong>NON-DEFINING:</strong> The students, who studied hard, passed the exam.</p>
                                    <p>→ ALL the students passed. Extra info: they studied hard.</p>
                                </div>

                                <div class="example-box">
                                    <p><strong>DEFINING:</strong> The book which is on the table is mine.</p>
                                    <p>→ Identifies WHICH book - the one on the table (not other books).</p>
                                </div>

                                <div class="example-box">
                                    <p><strong>NON-DEFINING:</strong> The book, which is very old, is valuable.</p>
                                    <p>→ We already know which book. Extra info: it's very old.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Omitting Relative Pronouns</h2>
                            <div class="explanation-box">
                                <h3>When Can We Omit the Relative Pronoun?</h3>

                                <div class="rule-box">
                                    <h4>Rule:</h4>
                                    <p>• You can OMIT who/which/that in DEFINING clauses when it's the OBJECT</p>
                                    <p>• You CANNOT omit it when it's the SUBJECT</p>
                                    <p>• You CANNOT omit pronouns in NON-DEFINING clauses</p>
                                </div>

                                <h3>Object vs Subject:</h3>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Type</th>
                                        <th>With Pronoun</th>
                                        <th>Without Pronoun</th>
                                    </tr>
                                    <tr>
                                        <td><strong>Object (can omit)</strong></td>
                                        <td>The book <strong>which</strong> I read was good.</td>
                                        <td>The book I read was good. ✓</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Object (can omit)</strong></td>
                                        <td>The man <strong>that</strong> I met is nice.</td>
                                        <td>The man I met is nice. ✓</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Subject (cannot omit)</strong></td>
                                        <td>The man <strong>who</strong> called is my friend.</td>
                                        <td>The man called is my friend. ✗</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Subject (cannot omit)</strong></td>
                                        <td>The car <strong>which</strong> broke down is old.</td>
                                        <td>The car broke down is old. ✗</td>
                                    </tr>
                                </table>

                                <h3>How to Identify Object vs Subject:</h3>

                                <div class="example-box">
                                    <p><strong>OBJECT:</strong> The movie <strong>that</strong> I watched <em>(I is the subject, movie is object)</em></p>
                                    <p>→ Can omit: The movie I watched ✓</p>
                                </div>

                                <div class="example-box">
                                    <p><strong>SUBJECT:</strong> The movie <strong>that</strong> won the award <em>(movie is the subject)</em></p>
                                    <p>→ Cannot omit: The movie won the award ✗</p>
                                </div>

                                <div class="note-box">
                                    <strong>Remember!</strong>
                                    <p>If there's another subject after the pronoun (I, you, he, she, etc.), the pronoun is the OBJECT and can be omitted.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Common Mistakes</h2>
                            <div class="explanation-box">
                                <h3>Mistake 1: Missing commas in non-defining clauses</h3>
                                <div class="example-box">
                                    <p>✗ My sister who is a teacher lives in Boston.</p>
                                    <p>✓ My sister, who is a teacher, lives in Boston.</p>
                                    <p><strong>Note:</strong> If it's extra information, use commas!</p>
                                </div>

                                <h3>Mistake 2: Using "that" in non-defining clauses</h3>
                                <div class="example-box">
                                    <p>✗ London, that is the capital, is expensive.</p>
                                    <p>✓ London, which is the capital, is expensive.</p>
                                    <p><strong>Note:</strong> Never use "that" with commas - use who/which only.</p>
                                </div>

                                <h3>Mistake 3: Wrong relative pronoun</h3>
                                <div class="example-box">
                                    <p>✗ The woman which called is my mom.</p>
                                    <p>✓ The woman who called is my mom.</p>
                                    <p><strong>Note:</strong> Use WHO for people, not which!</p>
                                </div>

                                <h3>Mistake 4: Omitting subject pronouns</h3>
                                <div class="example-box">
                                    <p>✗ The man lives next door is friendly.</p>
                                    <p>✓ The man who lives next door is friendly.</p>
                                    <p><strong>Note:</strong> Cannot omit when the pronoun is the subject!</p>
                                </div>

                                <h3>Mistake 5: Confusing defining and non-defining meaning</h3>
                                <div class="example-box">
                                    <p><strong>Different meanings:</strong></p>
                                    <p>• My brothers who live in Spain are doctors. (Only SOME brothers live in Spain)</p>
                                    <p>• My brothers, who live in Spain, are doctors. (ALL brothers live in Spain)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="explanation-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div class="section" id="examples">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="examples">
                            <h2>Defining Relative Clause Examples</h2>
                            <div class="explanation-box">
                                <h3>Essential Information - Identifying Which One:</h3>

                                <div class="grid-examples">
                                    <div class="grid-card">
                                        <strong>People (who/that):</strong><br><br>
                                        • The woman <strong>who works here</strong> is nice.<br>
                                        • The doctor <strong>that treated me</strong> was excellent.<br>
                                        • People <strong>who exercise</strong> are healthy.<br>
                                        • The student <strong>who passed</strong> celebrated.
                                    </div>
                                    <div class="grid-card">
                                        <strong>Things (which/that):</strong><br><br>
                                        • The car <strong>which I bought</strong> is fast.<br>
                                        • The book <strong>that won the prize</strong> is great.<br>
                                        • The movie <strong>which we watched</strong> was scary.<br>
                                        • The phone <strong>that I lost</strong> was new.
                                    </div>
                                </div>

                                <div class="grid-examples">
                                    <div class="grid-card">
                                        <strong>Places (where):</strong><br><br>
                                        • The restaurant <strong>where we ate</strong> was expensive.<br>
                                        • The city <strong>where I grew up</strong> is small.<br>
                                        • The hotel <strong>where they stayed</strong> was nice.<br>
                                        • The park <strong>where we play</strong> is beautiful.
                                    </div>
                                    <div class="grid-card">
                                        <strong>Times (when):</strong><br><br>
                                        • The day <strong>when we met</strong> was special.<br>
                                        • The year <strong>when I graduated</strong> was 2020.<br>
                                        • The moment <strong>when I knew</strong> was unforgettable.<br>
                                        • The summer <strong>when we traveled</strong> was fun.
                                    </div>
                                </div>

                                <h3>With Omitted Pronouns (Object):</h3>
                                <div class="example-box">
                                    <p>• The book I read yesterday was interesting.</p>
                                    <p>• The person I met at the party was friendly.</p>
                                    <p>• The movie we watched last night was boring.</p>
                                    <p>• The food she cooked was delicious.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Non-defining Relative Clause Examples</h2>
                            <div class="explanation-box">
                                <h3>Extra Information - Already Know Which One:</h3>

                                <div class="grid-examples">
                                    <div class="grid-card">
                                        <strong>People (who):</strong><br><br>
                                        • My brother, <strong>who lives in Paris</strong>, is a chef.<br>
                                        • Sarah, <strong>who I met yesterday</strong>, is nice.<br>
                                        • The president, <strong>who arrived today</strong>, spoke.<br>
                                        • My teacher, <strong>who is from Spain</strong>, is great.
                                    </div>
                                    <div class="grid-card">
                                        <strong>Things (which):</strong><br><br>
                                        • My car, <strong>which is 10 years old</strong>, still works.<br>
                                        • This book, <strong>which I bought in London</strong>, is rare.<br>
                                        • Her house, <strong>which has a pool</strong>, is huge.<br>
                                        • My phone, <strong>which I got yesterday</strong>, is great.
                                    </div>
                                </div>

                                <div class="grid-examples">
                                    <div class="grid-card">
                                        <strong>Places (where):</strong><br><br>
                                        • Paris, <strong>where I was born</strong>, is beautiful.<br>
                                        • New York, <strong>where my sister lives</strong>, is huge.<br>
                                        • Tokyo, <strong>where we visited</strong>, was amazing.<br>
                                        • London, <strong>where I studied</strong>, is expensive.
                                    </div>
                                    <div class="grid-card">
                                        <strong>Times (when):</strong><br><br>
                                        • 2020, <strong>when the pandemic started</strong>, was hard.<br>
                                        • Monday, <strong>when I have class</strong>, is busy.<br>
                                        • Summer, <strong>when it's hot</strong>, is my favorite.<br>
                                        • December, <strong>when it snows</strong>, is cold.
                                    </div>
                                </div>

                                <div class="note-box">
                                    <strong>Notice!</strong>
                                    <p>All non-defining clauses have commas and cannot use "that"!</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Comparison Examples - Same Sentence, Different Meanings</h2>
                            <div class="explanation-box">
                                <h3>How Commas Change the Meaning:</h3>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Defining (No Commas)</th>
                                        <th>Non-defining (Commas)</th>
                                    </tr>
                                    <tr>
                                        <td>My sister who lives in London is a doctor.</td>
                                        <td>My sister, who lives in London, is a doctor.</td>
                                    </tr>
                                    <tr>
                                        <td>(I have multiple sisters. Only ONE lives in London)</td>
                                        <td>(I have ONE sister. She lives in London)</td>
                                    </tr>
                                    <tr>
                                        <td>The students who passed celebrated.</td>
                                        <td>The students, who passed, celebrated.</td>
                                    </tr>
                                    <tr>
                                        <td>(Only SOME students passed and celebrated)</td>
                                        <td>(ALL students passed and celebrated)</td>
                                    </tr>
                                    <tr>
                                        <td>The books which are on the table are mine.</td>
                                        <td>The books, which are on the table, are mine.</td>
                                    </tr>
                                    <tr>
                                        <td>(Only the books on the table are mine, not others)</td>
                                        <td>(All the books are mine. They happen to be on the table)</td>
                                    </tr>
                                </table>

                                <h3>More Comparison Examples:</h3>

                                <div class="example-box">
                                    <p><strong>DEFINING:</strong> The employees who work hard get bonuses.</p>
                                    <p>→ Only those employees (the hard workers) get bonuses. Others don't.</p>
                                </div>

                                <div class="example-box">
                                    <p><strong>NON-DEFINING:</strong> The employees, who work hard, get bonuses.</p>
                                    <p>→ All employees get bonuses. Extra info: they work hard.</p>
                                </div>

                                <div class="example-box">
                                    <p><strong>DEFINING:</strong> The phone that I bought is expensive.</p>
                                    <p>→ Identifies which phone - the one I bought (not other phones).</p>
                                </div>

                                <div class="example-box">
                                    <p><strong>NON-DEFINING:</strong> My phone, which I bought yesterday, is expensive.</p>
                                    <p>→ Already know it's my phone. Extra: bought it yesterday.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="examples-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="reading">
                            <h2>Reading: Meeting New People</h2>
                            <div class="explanation-box">
                                <div class="reading-text">
                                    <p><strong>My Trip to London</strong></p>

                                    <p>Last week I visited London, <span class="highlight-question">which is the capital of England</span>. The city, <span class="highlight-question">which I had never visited before</span>, was absolutely amazing!</p>

                                    <p>I stayed at a hotel <span class="highlight-answer">that was located near the river</span>. The room <span class="highlight-answer">that I booked</span> had a beautiful view. My friend Sarah, <span class="highlight-question">who lives in London</span>, came to meet me at the hotel.</p>

                                    <p>We visited the British Museum, <span class="highlight-question">which is one of the most famous museums in the world</span>. The artifacts <span class="highlight-answer">that we saw</span> were incredible. I was particularly interested in the Egyptian section, <span class="highlight-question">which contains ancient mummies</span>.</p>

                                    <p>Later, we went to a restaurant <span class="highlight-answer">where Sarah often eats</span>. The food <span class="highlight-answer">that we ordered</span> was delicious. We met Sarah's brother, <span class="highlight-question">who works as a chef in the restaurant</span>. He, <span class="highlight-question">who is very talented</span>, prepared a special dish for us.</p>

                                    <p>The next day was Monday, <span class="highlight-question">when most tourists visit the Tower of London</span>. The crowds <span class="highlight-answer">that we encountered</span> were huge! However, the experience was worth it. The Crown Jewels, <span class="highlight-question">which are kept in the Tower</span>, were breathtaking.</p>

                                    <p>I had an unforgettable time in London. The memories <span class="highlight-answer">that I made</span> will last forever. I definitely want to return to this city, <span class="highlight-question">which has so much history and culture</span>.</p>
                                </div>

                                <div class="note-box">
                                    <strong>Color Code:</strong>
                                    <p>Blue highlight = Defining clauses (no commas) | Green highlight = Non-defining clauses (with commas)</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="reading">
                            <h2>Reading Analysis</h2>
                            <div class="explanation-box">
                                <h3>Non-Defining Clauses (Extra Information with Commas):</h3>
                                <div class="example-box">
                                    <p>• London, <strong>which is the capital of England</strong> (we already know it's London)</p>
                                    <p>• The city, <strong>which I had never visited before</strong> (extra info about London)</p>
                                    <p>• My friend Sarah, <strong>who lives in London</strong> (we know who Sarah is)</p>
                                    <p>• The British Museum, <strong>which is one of the most famous museums</strong> (extra info)</p>
                                    <p>• The Egyptian section, <strong>which contains ancient mummies</strong> (additional details)</p>
                                    <p>• Sarah's brother, <strong>who works as a chef</strong> (we know who he is)</p>
                                    <p>• He, <strong>who is very talented</strong> (extra information about him)</p>
                                    <p>• Monday, <strong>when most tourists visit</strong> (additional info about Monday)</p>
                                    <p>• The Crown Jewels, <strong>which are kept in the Tower</strong> (extra information)</p>
                                    <p>• This city, <strong>which has so much history</strong> (additional information about London)</p>
                                </div>

                                <h3>Defining Clauses (Essential Information - No Commas):</h3>
                                <div class="example-box">
                                    <p>• A hotel <strong>that was located near the river</strong> (which hotel? the one near the river)</p>
                                    <p>• The room <strong>that I booked</strong> (which room? the one I booked)</p>
                                    <p>• The artifacts <strong>that we saw</strong> (which artifacts? the ones we saw)</p>
                                    <p>• A restaurant <strong>where Sarah often eats</strong> (which restaurant? where she eats)</p>
                                    <p>• The food <strong>that we ordered</strong> (which food? what we ordered)</p>
                                    <p>• The crowds <strong>that we encountered</strong> (which crowds? the ones we met)</p>
                                    <p>• The memories <strong>that I made</strong> (which memories? the ones I made)</p>
                                </div>

                                <h3>Key Observations:</h3>
                                <div class="rule-box">
                                    <h4>Notice:</h4>
                                    <p>• Non-defining clauses give extra details about proper nouns (London, Sarah, etc.)</p>
                                    <p>• Defining clauses identify which specific thing from many possibilities</p>
                                    <p>• "That" appears only in defining clauses, never with commas</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="reading-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Media Section -->
            <div class="section" id="media">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="media">
                            <h2>Video: Relative Clauses Explained</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 20px;">Watch this video about Relative Clauses:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/VcXGzFZugb0"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p style="font-size: 1rem; color: #666; text-align: center; font-style: italic;">
                                    Learn the basics of relative clauses with who, which, that, where, and when
                                </p>
                            </div>
                        </div>

                        <div class="slide" data-section="media">
                            <h2>Video: Defining vs Non-defining</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 20px;">Understanding Defining and Non-defining Relative Clauses:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/VnuImW1RKy4"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p style="font-size: 1rem; color: #666; text-align: center; font-style: italic;">
                                    Learn the difference between defining and non-defining relative clauses
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="media-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Practice Section -->
            <div class="section" id="practice">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="practice">
                            <h2>Practice 1: Choose the correct pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>"The woman ___ lives next door is a doctor." (who/which/that)</p>
                                    <input type="text" id="q1" placeholder="Type: who or that" onkeypress="if(event.key==='Enter') checkAnswer1()">
                                    <button class="check-button" onclick="checkAnswer1()">Check Answer</button>
                                    <div id="feedback1" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 2: Add commas if needed</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Is this correct? "My brother who is a teacher lives in Boston."</p>
                                    <p>(Type: correct OR type the corrected sentence with commas)</p>
                                    <input type="text" id="q2" placeholder="Type your answer" onkeypress="if(event.key==='Enter') checkAnswer2()">
                                    <button class="check-button" onclick="checkAnswer2()">Check Answer</button>
                                    <div id="feedback2" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 3: Complete with who/which</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>"The book ___ I bought yesterday was expensive."</p>
                                    <input type="text" id="q3" placeholder="Type: which or that" onkeypress="if(event.key==='Enter') checkAnswer3()">
                                    <button class="check-button" onclick="checkAnswer3()">Check Answer</button>
                                    <div id="feedback3" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 4: Can you omit the pronoun?</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>"The movie that I watched was good." Can you omit "that"?</p>
                                    <p>(Type: yes or no)</p>
                                    <input type="text" id="q4" placeholder="Type your answer" onkeypress="if(event.key==='Enter') checkAnswer4()">
                                    <button class="check-button" onclick="checkAnswer4()">Check Answer</button>
                                    <div id="feedback4" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 5: Fix the mistake</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fix: "London, that is the capital, is expensive."</p>
                                    <input type="text" id="q5" placeholder="Type the corrected sentence" onkeypress="if(event.key==='Enter') checkAnswer5()">
                                    <button class="check-button" onclick="checkAnswer5()">Check Answer</button>
                                    <div id="feedback5" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 6: Where or which?</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>"The restaurant ___ we ate was great."</p>
                                    <input type="text" id="q6" placeholder="Type: where" onkeypress="if(event.key==='Enter') checkAnswer6()">
                                    <button class="check-button" onclick="checkAnswer6()">Check Answer</button>
                                    <div id="feedback6" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 7: Defining or Non-defining?</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>"Students who study hard pass exams." Is this defining or non-defining?</p>
                                    <input type="text" id="q7" placeholder="Type: defining or non-defining" onkeypress="if(event.key==='Enter') checkAnswer7()">
                                    <button class="check-button" onclick="checkAnswer7()">Check Answer</button>
                                    <div id="feedback7" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 8: Complete the sentence</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>"The man ___ called is my friend." (Cannot omit the pronoun)</p>
                                    <input type="text" id="q8" placeholder="Type: who or that" onkeypress="if(event.key==='Enter') checkAnswer8()">
                                    <button class="check-button" onclick="checkAnswer8()">Check Answer</button>
                                    <div id="feedback8" class="feedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="practice-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                        <span class="indicator-dot" onclick="goToSlide(7)"></span>
                        <span class="indicator-dot" onclick="goToSlide(8)"></span>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="writing" style="overflow-y: auto;">
                            <h2>Writing Practice</h2>
                            <div class="explanation-box">
                                <h3>Write 10 sentences using relative clauses</h3>
                                <p style="margin-bottom: 15px;">Use both defining and non-defining relative clauses. Include who, which, that, where, and when.</p>
                                <div class="question-box">
                                    <textarea id="writing1" rows="8" style="width: 100%; padding: 12px; border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 8px; font-size: 1.05rem; font-family: 'Inter', sans-serif; resize: vertical;" spellcheck="true" placeholder="The woman who lives next door is a doctor. My brother, who is 25 years old, works in IT. The book that I read was interesting..."></textarea>
                                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                                        <button class="check-button" onclick="checkGrammar()">Check Grammar</button>
                                        <button id="send-teacher-btn" class="check-button" onclick="sendToTeacher()" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); opacity: 0.5; cursor: not-allowed;" disabled>Send to Teacher</button>
                                    </div>
                                    <div id="grammar-feedback" style="margin-top: 15px; padding: 15px; border-radius: 8px; display: none;"></div>
                                    <p style="font-size: 0.95rem; color: #666; margin-top: 10px;">Example: The restaurant where we ate was expensive. My sister, who lives in Paris, is visiting. The movie that I watched was scary.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="writing-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        let currentSection = 'explanation';

        function showSection(sectionName, element) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            document.getElementById(sectionName).classList.add('active');

            if (element) {
                element.classList.add('active');
            }

            currentSection = sectionName;
            currentSlide = 1;

            setTimeout(() => {
                const activeSection = document.querySelector('.section.active');
                const inputField = activeSection.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                }
            }, 100);
        }

        function changeSlide(direction) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            if (slides.length === 1) return;

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > slides.length) {
                currentSlide = 1;
            }
            if (currentSlide < 1) {
                currentSlide = slides.length;
            }

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');

            setTimeout(() => {
                const activeSlide = slides[currentSlide - 1];
                const inputField = activeSlide.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                    inputField.value = '';
                }
            }, 100);
        }

        function goToSlide(slideNum) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide = slideNum;

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        function checkAnswer1() {
            const answer = document.getElementById('q1').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback1');

            if (answer === 'who' || answer === 'that') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! Use WHO or THAT for people: The woman who/that lives next door.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use WHO or THAT for people, not which!';
            }
        }

        function checkAnswer2() {
            const answer = document.getElementById('q2').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback2');

            if (answer.includes('brother,') && answer.includes('teacher,')) {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "My brother, who is a teacher, lives in Boston." - Non-defining needs commas!';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ If "who is a teacher" is extra info, add commas: My brother, who is a teacher, lives in Boston.';
            }
        }

        function checkAnswer3() {
            const answer = document.getElementById('q3').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback3');

            if (answer === 'which' || answer === 'that') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Correct! Use WHICH or THAT for things: The book which/that I bought.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use WHICH or THAT for things (book is a thing).';
            }
        }

        function checkAnswer4() {
            const answer = document.getElementById('q4').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback4');

            if (answer === 'yes') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "That" is the object here, so you can omit it: The movie I watched was good.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Yes, you can omit "that" because it\'s the object (I is the subject of "watched").';
            }
        }

        function checkAnswer5() {
            const answer = document.getElementById('q5').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback5');

            if (answer.includes('which') && answer.includes('london,') && answer.includes('capital,')) {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great! Never use "that" with commas: London, which is the capital, is expensive.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use WHICH (not that) in non-defining clauses: London, which is the capital, is expensive.';
            }
        }

        function checkAnswer6() {
            const answer = document.getElementById('q6').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback6');

            if (answer === 'where') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! Use WHERE for places: The restaurant where we ate.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use WHERE for places: The restaurant where we ate was great.';
            }
        }

        function checkAnswer7() {
            const answer = document.getElementById('q7').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback7');

            if (answer === 'defining') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Correct! It\'s DEFINING (no commas) - identifies WHICH students pass exams.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ It\'s DEFINING - no commas, identifies which students pass (only those who study hard).';
            }
        }

        function checkAnswer8() {
            const answer = document.getElementById('q8').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback8');

            if (answer === 'who' || answer === 'that') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! Cannot omit because "who/that" is the subject: The man who called.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use WHO or THAT as the subject: The man who/that called is my friend.';
            }
        }

        async function checkGrammar() {
            const text = document.getElementById('writing1').value;
            const feedbackDiv = document.getElementById('grammar-feedback');
            const textarea = document.getElementById('writing1');

            if (!text.trim()) {
                feedbackDiv.style.display = 'block';
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Please write some sentences first!';
                return;
            }

            textarea.style.display = 'none';
            window.grammarCheckResult = { original: text, corrected: '' };

            feedbackDiv.style.display = 'block';
            feedbackDiv.style.background = 'rgba(102, 126, 234, 0.1)';
            feedbackDiv.style.border = '1px solid rgba(102, 126, 234, 0.3)';
            feedbackDiv.style.color = '#667eea';
            feedbackDiv.innerHTML = '⏳ Checking your grammar and spelling...';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyBTH0NmDb3cqjrY6p7YROPIJel-iCxSxzs`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `You are a strict grammar checker. Fix grammar and spelling errors. Do not change the meaning, style, or add punctuation unless absolutely necessary. Profanities are acceptable, but don't use shortened informal words like "cuz" or "wanna"\n\nText: "${text}"\n\nReturn only the corrected text with minimal changes.`
                            }]
                        }]
                    })
                });

                const data = await response.json();
                const correctedText = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || text;

                if (correctedText !== text && correctedText.toLowerCase() !== text.toLowerCase()) {
                    const originalWords = text.split(/(\s+)/);
                    const correctedWords = correctedText.split(/(\s+)/);
                    let highlightedText = '';

                    originalWords.forEach((word, i) => {
                        if (word.match(/\s+/)) {
                            highlightedText += word;
                        } else if (correctedWords[i] && word.toLowerCase() !== correctedWords[i].toLowerCase()) {
                            highlightedText += `<span style="color: #e53e3e; font-weight: 600; background: rgba(245, 101, 101, 0.15); padding: 2px 4px; border-radius: 3px;">${word}</span>`;
                        } else {
                            highlightedText += word;
                        }
                    });

                    let html = `
                        <div style="margin-bottom: 20px;">
                            <strong style="color: #c53030;">Your Text (errors highlighted):</strong>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(245, 101, 101, 0.3); line-height: 1.8;">
                                ${highlightedText}
                            </div>
                        </div>
                        <div>
                            <strong style="color: #2f855a;">Corrected Text:</strong>
                            <div style="background: rgba(72, 187, 120, 0.1); padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(72, 187, 120, 0.3); color: #2d3748; line-height: 1.8;">
                                ${correctedText}
                            </div>
                        </div>
                    `;

                    feedbackDiv.style.background = 'rgba(245, 101, 101, 0.05)';
                    feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                    feedbackDiv.style.color = '#2d3748';
                    feedbackDiv.innerHTML = html;

                    window.grammarCheckResult.corrected = correctedText;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                } else {
                    feedbackDiv.style.background = 'rgba(72, 187, 120, 0.1)';
                    feedbackDiv.style.border = '1px solid rgba(72, 187, 120, 0.3)';
                    feedbackDiv.style.color = '#2f855a';
                    feedbackDiv.innerHTML = '✓ Perfect! No grammar or spelling errors detected!';

                    window.grammarCheckResult.corrected = text;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                }
            } catch (error) {
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Unable to check grammar. Error: ' + error.message;
            }
        }

        function sendToTeacher() {
            const essayTitle = "B1-54: Relative Clauses - Defining & Non-defining";
            const originalText = window.grammarCheckResult.original;
            const correctedText = window.grammarCheckResult.corrected;

            const emailBody = `Essay Title: ${essayTitle}\n\nOriginal Essay:\n${originalText}\n\nWe made some changes:\n\nCorrected Text:\n${correctedText}`;
            const mailtoLink = `mailto:?subject=${encodeURIComponent(essayTitle)}&body=${encodeURIComponent(emailBody)}`;
            window.location.href = mailtoLink;
        }
    </script>
</body>
</html>
