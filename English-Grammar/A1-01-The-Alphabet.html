<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A1-01: Sentence Basics - Grammar Lesson</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }
        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 0;
            overflow: hidden;
            height: 100%;
            background: white;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 40px 100px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -70px;
        }

        .slide-arrow.next {
            right: -70px;
        }

        .slide-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            z-index: 10;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        .slide h2 {
            color: #2d3748;
            margin-bottom: 20px;
            font-size: 2.2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        .explanation-box {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 10px;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .explanation-box h3 {
            color: #667eea;
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .explanation-box p {
            color: #2d3748;
            line-height: 1.6;
            font-size: 1.05rem;
            margin-bottom: 12px;
        }

        .sentence-part {
            display: inline-block;
            padding: 5px 12px;
            margin: 0 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .subject {
            background: #2196f3;
            color: white;
        }

        .verb {
            background: #4caf50;
            color: white;
        }

        .object {
            background: #ffeb3b;
            color: #333;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .example-box {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }

        .example-box p {
            margin: 8px 0;
            font-size: 1.05rem;
            color: #2d3748;
        }

        .note-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
        }

        .note-box strong {
            color: #856404;
            font-size: 1.1rem;
        }

        .note-box p {
            color: #856404;
            margin-top: 8px;
            line-height: 1.5;
        }

        .exercise-container {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 10px;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .exercise-container h3 {
            color: #764ba2;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .question-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 12px;
            margin: 0;
        }

        .question-box p {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 18px;
            margin: 8px 0;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            font-size: 1.05rem;
            font-family: 'Inter', sans-serif;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 15px 5px 10px 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .feedback {
            padding: 15px 20px;
            border-radius: 12px;
            margin: 15px 0;
            font-weight: 500;
            font-size: 1.05rem;
            display: none;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
            display: block;
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
            display: block;
        }

        ul {
            margin-left: 25px;
            line-height: 1.6;
        }

        li {
            margin: 6px 0;
            font-size: 1.05rem;
            color: #2d3748;
        }

        li strong {
            color: #667eea;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: white;
            padding: 15px 60px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                height: auto;
            }

            .header {
                flex-direction: column;
                text-align: center;
                padding: 20px 15px;
            }

            .header h1 {
                font-size: 2rem;
                margin-bottom: 15px;
            }

            .header-image {
                width: 80px;
                height: 60px;
                margin-top: 15px;
            }

            .container {
                flex-direction: column;
                height: auto;
            }

            .navigation {
                width: 100%;
                padding: 20px 15px;
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            }

            .nav-item {
                flex: 1;
                min-width: 120px;
                margin: 5px;
                font-size: 0.95rem;
                padding: 12px 16px;
            }

            .content {
                height: auto;
                overflow: visible;
            }

            .section {
                padding: 25px 15px;
                height: auto;
                overflow: visible;
            }

            .section h2 {
                font-size: 2rem;
                margin-bottom: 25px;
            }

            .explanation-box {
                padding: 20px;
            }

            .exercise-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>A1-01: Sentence Basics</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">mimlanguageservices</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="ESL Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('explanation', this)">Explanation</div>
            <div class="nav-item" onclick="showSection('examples', this)">Examples</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('media', this)">Media</div>
            <div class="nav-item" onclick="showSection('practice', this)">Practice</div>
            <div class="nav-item" onclick="showSection('writing', this)">Writing</div>
        </div>

        <div class="content">
            <!-- Explanation Section -->
            <div class="section active" id="explanation">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="explanation">
                            <h2>Subject, Verb, Object (SVO)</h2>
                            <div class="explanation-box">
                                <h3>What is a Sentence?</h3>
                                <p>A sentence is a group of words that expresses a complete thought. In English, most basic sentences follow the <strong>Subject-Verb-Object (SVO)</strong> pattern.</p>
                                <div class="legend">
                                    <span class="sentence-part subject">Subject</span>
                                    <span class="sentence-part verb">Verb</span>
                                    <span class="sentence-part object">Object</span>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>1. Subject (Who or What)</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.3rem; margin-bottom: 25px;">The subject is the person, animal, or thing that does the action.</p>
                                <div class="example-box">
                                    <p><span class="sentence-part subject">The cat</span> sleeps on the bed.</p>
                                    <p><span class="sentence-part subject">Maria</span> reads books.</p>
                                    <p><span class="sentence-part subject">They</span> play football.</p>
                                    <p><span class="sentence-part subject">My brother</span> plays guitar.</p>
                                    <p><span class="sentence-part subject">Students</span> learn English.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>2. Verb (The Action)</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.3rem; margin-bottom: 25px;">The verb tells us what the subject does or is.</p>
                                <div class="example-box">
                                    <p>The cat <span class="sentence-part verb">sleeps</span> on the bed.</p>
                                    <p>Maria <span class="sentence-part verb">reads</span> books.</p>
                                    <p>They <span class="sentence-part verb">play</span> football.</p>
                                    <p>My brother <span class="sentence-part verb">plays</span> guitar.</p>
                                    <p>Students <span class="sentence-part verb">learn</span> English.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>3. Object (Receives the Action)</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.3rem; margin-bottom: 25px;">The object is the person or thing that receives the action of the verb.</p>
                                <div class="example-box">
                                    <p>The cat sleeps on <span class="sentence-part object">the bed</span>.</p>
                                    <p>Maria reads <span class="sentence-part object">books</span>.</p>
                                    <p>They play <span class="sentence-part object">football</span>.</p>
                                    <p>My brother plays <span class="sentence-part object">guitar</span>.</p>
                                    <p>Students learn <span class="sentence-part object">English</span>.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="explanation-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div class="section" id="examples">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="examples">
                            <h2>Complete SVO Examples</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><span class="sentence-part subject">I</span> <span class="sentence-part verb">eat</span> <span class="sentence-part object">pizza</span>.</p>
                                    <p><span class="sentence-part subject">John</span> <span class="sentence-part verb">watches</span> <span class="sentence-part object">TV</span>.</p>
                                    <p><span class="sentence-part subject">The dog</span> <span class="sentence-part verb">chases</span> <span class="sentence-part object">the ball</span>.</p>
                                    <p><span class="sentence-part subject">We</span> <span class="sentence-part verb">study</span> <span class="sentence-part object">English</span>.</p>
                                    <p><span class="sentence-part subject">She</span> <span class="sentence-part verb">loves</span> <span class="sentence-part object">music</span>.</p>
                                    <p><span class="sentence-part subject">The teacher</span> <span class="sentence-part verb">explains</span> <span class="sentence-part object">the lesson</span>.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Important Note</h2>
                            <div class="note-box">
                                <strong>Not all sentences need an object!</strong>
                                <p>Some sentences are complete with just a subject and verb:</p>
                                <div class="example-box" style="background: white; margin-top: 20px;">
                                    <p><span class="sentence-part subject">The baby</span> <span class="sentence-part verb">cries</span>.</p>
                                    <p><span class="sentence-part subject">Birds</span> <span class="sentence-part verb">fly</span>.</p>
                                    <p><span class="sentence-part subject">The sun</span> <span class="sentence-part verb">shines</span>.</p>
                                    <p><span class="sentence-part subject">Children</span> <span class="sentence-part verb">laugh</span>.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="examples-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="writing" style="overflow-y: auto;">
                            <h2>Writing Practice</h2>
                            <div class="explanation-box">
                                <h3>Write 5 Sentences About What You Do Every Day</h3>
                                <p style="margin-bottom: 20px;">Use the SVO pattern to describe your daily routine. Write complete sentences.</p>
                                <div class="question-box">
                                    <textarea id="writing1" rows="8" style="width: 100%; padding: 12px; border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 8px; font-size: 1.05rem; font-family: 'Inter', sans-serif; resize: vertical;" spellcheck="true" placeholder="Example: I play soccer"></textarea>
                                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                                        <button class="check-button" onclick="checkGrammar()">Check Grammar</button>
                                        <button id="send-teacher-btn" class="check-button" onclick="sendToTeacher()" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); opacity: 0.5; cursor: not-allowed;" disabled>Send to Teacher</button>
                                    </div>
                                    <div id="grammar-feedback" style="margin-top: 15px; padding: 15px; border-radius: 8px; display: none;"></div>
                                    <p style="font-size: 0.95rem; color: #666; margin-top: 10px;">Remember: Subject + Verb + Object</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="writing-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                    </div>
                </div>
            </div>

            <!-- Practice Section -->
            <div class="section" id="practice">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="practice">
                            <h2>Practice: Build Sentences</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Arrange these words to create a correct sentence:</p>
                                    <p><strong>play / the children / video games</strong></p>
                                    <input type="text" id="q1-sentence" placeholder="Write the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer1()">
                                    <button class="check-button" onclick="checkAnswer1()">Check Answer</button>
                                    <div id="feedback1" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Build Sentences</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Arrange these words to create a correct sentence:</p>
                                    <p><strong>dinner / cooks / my sister</strong></p>
                                    <input type="text" id="q2-sentence" placeholder="Write the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer2()">
                                    <button class="check-button" onclick="checkAnswer2()">Check Answer</button>
                                    <div id="feedback2" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Build Sentences</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Arrange these words to create a correct sentence:</p>
                                    <p><strong>beautiful songs / performs / the musician</strong></p>
                                    <input type="text" id="q3-sentence" placeholder="Write the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer3()">
                                    <button class="check-button" onclick="checkAnswer3()">Check Answer</button>
                                    <div id="feedback3" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Build Sentences</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Arrange these words to create a correct sentence:</p>
                                    <p><strong>mathematics / study / the students</strong></p>
                                    <input type="text" id="q4-sentence" placeholder="Write the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer4()">
                                    <button class="check-button" onclick="checkAnswer4()">Check Answer</button>
                                    <div id="feedback4" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Build Sentences</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Arrange these words to create a correct sentence:</p>
                                    <p><strong>vegetables / grow / the neighbors</strong></p>
                                    <input type="text" id="q5-sentence" placeholder="Write the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer5()">
                                    <button class="check-button" onclick="checkAnswer5()">Check Answer</button>
                                    <div id="feedback5" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Build Sentences</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Arrange these words to create a correct sentence:</p>
                                    <p><strong>takes / the photographer / pictures</strong></p>
                                    <input type="text" id="q6-sentence" placeholder="Write the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer6()">
                                    <button class="check-button" onclick="checkAnswer6()">Check Answer</button>
                                    <div id="feedback6" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Build Sentences</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Arrange these words to create a correct sentence:</p>
                                    <p><strong>reads / books / my friend</strong></p>
                                    <input type="text" id="q7-sentence" placeholder="Write the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer7()">
                                    <button class="check-button" onclick="checkAnswer7()">Check Answer</button>
                                    <div id="feedback7" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Build Sentences</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Arrange these words to create a correct sentence:</p>
                                    <p><strong>grammar rules / the teacher / explains</strong></p>
                                    <input type="text" id="q8-sentence" placeholder="Write the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer8()">
                                    <button class="check-button" onclick="checkAnswer8()">Check Answer</button>
                                    <div id="feedback8" class="feedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="practice-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                        <span class="indicator-dot" onclick="goToSlide(7)"></span>
                        <span class="indicator-dot" onclick="goToSlide(8)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="reading">
                            <h2>Reading Practice</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.2rem; margin-bottom: 25px;">Read the text and identify the Subject, Verb, and Object in each sentence.</p>
                                <div class="example-box" style="background: white; padding: 30px;">
                                    <h3 style="color: #667eea; margin-bottom: 20px;">My Daily Routine</h3>
                                    <p style="font-size: 1.15rem; line-height: 2;">
                                        My name is Sarah. I live in London. Every morning, I drink coffee. I eat breakfast at 7 o'clock. I take the bus to work. At work, I help customers. My colleague teaches new employees. We finish work at 5 PM.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="reading">
                            <h2>Reading: Identify SVO</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.15rem; margin-bottom: 20px;">Let's break down the sentences:</p>
                                <div class="example-box">
                                    <p><span class="sentence-part subject">I</span> <span class="sentence-part verb">live</span> in <span class="sentence-part object">London</span>.</p>
                                    <p><span class="sentence-part subject">I</span> <span class="sentence-part verb">drink</span> <span class="sentence-part object">coffee</span>.</p>
                                    <p><span class="sentence-part subject">I</span> <span class="sentence-part verb">eat</span> <span class="sentence-part object">breakfast</span>.</p>
                                    <p><span class="sentence-part subject">I</span> <span class="sentence-part verb">take</span> <span class="sentence-part object">the bus</span>.</p>
                                    <p><span class="sentence-part subject">I</span> <span class="sentence-part verb">help</span> <span class="sentence-part object">customers</span>.</p>
                                    <p><span class="sentence-part subject">My colleague</span> <span class="sentence-part verb">teaches</span> <span class="sentence-part object">new employees</span>.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="reading">
                            <h2>Another Reading</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.2rem; margin-bottom: 25px;">Read this short story:</p>
                                <div class="example-box" style="background: white; padding: 30px;">
                                    <h3 style="color: #667eea; margin-bottom: 20px;">A Day at the Park</h3>
                                    <p style="font-size: 1.15rem; line-height: 2;">
                                        Tom visits the park every Sunday. He brings his dog Max. Max loves the park. They play games together. Tom throws a ball. Max catches the ball quickly. Other dogs join the fun. Everyone enjoys the sunny day.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="reading-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                    </div>
                </div>
            </div>

            <!-- Media Section -->
            <div class="section" id="media">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="media">
                            <div class="explanation-box" style="overflow-y: auto; max-height: 100%;">
                                <p style="font-size: 1.15rem; margin-bottom: 20px;">Listen to the audio:</p>
                                <div style="text-align: center; margin: 20px 0;">
                                    <audio controls style="width: 100%; max-width: 600px; margin: 10px 0;">
                                        <source src="https://static.wixstatic.com/mp3/593d03_177d7747ac924336ac114de0a36f0db3.wav" type="audio/wav">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>

                                <div class="question-box" style="margin-top: 20px;">
                                    <h3 style="color: #667eea; margin-bottom: 12px;">Listening Exercise</h3>
                                    <p style="font-weight: 600; margin-bottom: 12px;">What is the SUBJECT of the sentence you heard?</p>
                                    <input type="text" id="audio-answer" placeholder="Type the subject here" onkeypress="if(event.key==='Enter') checkAudioAnswer()">
                                    <button class="check-button" onclick="checkAudioAnswer()">Check Answer</button>
                                    <div id="audio-feedback" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="media">
                            <div class="explanation-box" style="overflow-y: auto; max-height: 100%;">
                                <p style="font-size: 1.15rem; margin-bottom: 20px;">Listen to the audio:</p>
                                <div style="text-align: center; margin: 20px 0;">
                                    <audio controls style="width: 100%; max-width: 600px; margin: 10px 0;">
                                        <source src="https://static.wixstatic.com/mp3/593d03_177d7747ac924336ac114de0a36f0db3.wav" type="audio/wav">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>

                                <div class="question-box" style="margin-top: 20px;">
                                    <h3 style="color: #667eea; margin-bottom: 12px;">Listening Exercise</h3>
                                    <p style="font-weight: 600; margin-bottom: 12px;">What is the OBJECT of the sentence you heard?</p>
                                    <input type="text" id="audio-answer-object" placeholder="Type the object here" onkeypress="if(event.key==='Enter') checkAudioAnswerObject()">
                                    <button class="check-button" onclick="checkAudioAnswerObject()">Check Answer</button>
                                    <div id="audio-feedback-object" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="media">
                            <h2>Interactive Video Examples</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.15rem; margin-bottom: 25px;">Watch examples of SVO sentences in real conversations:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <div class="example-box" style="margin-top: 30px;">
                                    <h3 style="color: #667eea;">Key Sentences from Video:</h3>
                                    <p><span class="sentence-part subject">The girl</span> <span class="sentence-part verb">writes</span> <span class="sentence-part object">a letter</span>.</p>
                                    <p><span class="sentence-part subject">The boy</span> <span class="sentence-part verb">reads</span> <span class="sentence-part object">a book</span>.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="media-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        let currentSection = 'explanation';

        function showSection(sectionName, element) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            document.getElementById(sectionName).classList.add('active');

            if (element) {
                element.classList.add('active');
            }

            currentSection = sectionName;
            currentSlide = 1;

            // Auto-focus input field when opening practice section
            setTimeout(() => {
                const activeSection = document.querySelector('.section.active');
                const inputField = activeSection.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                }
            }, 100);
        }

        function changeSlide(direction) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            if (slides.length === 1) return; // No navigation needed for single slide

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > slides.length) {
                currentSlide = 1;
            }
            if (currentSlide < 1) {
                currentSlide = slides.length;
            }

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');

            // Auto-focus input field in practice section
            setTimeout(() => {
                const activeSlide = slides[currentSlide - 1];
                const inputField = activeSlide.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                    inputField.value = ''; // Clear previous answer
                }
            }, 100);
        }

        function goToSlide(slideNum) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide = slideNum;

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        function checkAnswer1() {
            const sentence = document.getElementById('q1-sentence').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback1');

            if (sentence === 'the children play video games' ||
                sentence === 'the children play video games.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great job! "The children play video games." is correct!';
                setTimeout(() => {
                    changeSlide(1);
                }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Remember SVO: The children (subject) play (verb) video games (object).';
            }
        }

        function checkAnswer2() {
            const sentence = document.getElementById('q2-sentence').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback2');

            if (sentence === 'my sister cooks dinner' ||
                sentence === 'my sister cooks dinner.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "My sister cooks dinner." is perfect!';
                setTimeout(() => {
                    changeSlide(1);
                }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Remember SVO: My sister (subject) cooks (verb) dinner (object).';
            }
        }

        function checkAnswer3() {
            const sentence = document.getElementById('q3-sentence').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback3');

            if (sentence === 'the musician performs beautiful songs' ||
                sentence === 'the musician performs beautiful songs.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "The musician performs beautiful songs." is correct!';
                setTimeout(() => {
                    changeSlide(1);
                }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Remember SVO: The musician (subject) performs (verb) beautiful songs (object).';
            }
        }

        function checkAnswer4() {
            const sentence = document.getElementById('q4-sentence').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback4');

            if (sentence === 'the students study mathematics' ||
                sentence === 'the students study mathematics.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "The students study mathematics." is correct!';
                setTimeout(() => {
                    changeSlide(1);
                }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Remember SVO: The students (subject) study (verb) mathematics (object).';
            }
        }

        function checkAnswer5() {
            const sentence = document.getElementById('q5-sentence').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback5');

            if (sentence === 'the neighbors grow vegetables' ||
                sentence === 'the neighbors grow vegetables.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great work! "The neighbors grow vegetables." is correct!';
                setTimeout(() => {
                    changeSlide(1);
                }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Remember SVO: The neighbors (subject) grow (verb) vegetables (object).';
            }
        }

        function checkAudioAnswer() {
            const answer = document.getElementById('audio-answer').value.trim().toLowerCase();
            const feedback = document.getElementById('audio-feedback');

            if (answer === 'david') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "David" is the subject of the sentence!';

                // Play success sound
                const successSound = new Audio('https://static.wixstatic.com/mp3/593d03_4391e836785b44ddba85840f97312533.mp3');
                successSound.volume = 0.3;
                successSound.play().catch(e => console.log('Audio play failed:', e));
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Listen carefully to identify who is doing the action.';
            }
        }

        function checkAudioAnswerObject() {
            const answer = document.getElementById('audio-answer-object').value.trim().toLowerCase();
            const feedback = document.getElementById('audio-feedback-object');

            if (answer === 'fish') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "Fish" is the object of the sentence!';

                // Play success sound
                const successSound = new Audio('https://static.wixstatic.com/mp3/593d03_4391e836785b44ddba85840f97312533.mp3');
                successSound.volume = 0.3;
                successSound.play().catch(e => console.log('Audio play failed:', e));
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Listen carefully to identify what is receiving the action.';
            }
        }

        function checkAnswer6() {
            const sentence = document.getElementById('q6-sentence').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback6');

            if (sentence === 'the photographer takes pictures' ||
                sentence === 'the photographer takes pictures.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "The photographer takes pictures." is correct!';
                setTimeout(() => {
                    changeSlide(1);
                }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Remember SVO: The photographer (subject) takes (verb) pictures (object).';
            }
        }

        function checkAnswer7() {
            const sentence = document.getElementById('q7-sentence').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback7');

            if (sentence === 'my friend reads books' ||
                sentence === 'my friend reads books.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "My friend reads books." is correct!';
                setTimeout(() => {
                    changeSlide(1);
                }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Remember SVO: My friend (subject) reads (verb) books (object).';
            }
        }

        function checkAnswer8() {
            const sentence = document.getElementById('q8-sentence').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback8');

            if (sentence === 'the teacher explains grammar rules' ||
                sentence === 'the teacher explains grammar rules.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Outstanding! "The teacher explains grammar rules." is correct!';
                setTimeout(() => {
                    changeSlide(1);
                }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Remember SVO: The teacher (subject) explains (verb) grammar rules (object).';
            }
        }

        async function checkGrammar() {
            const text = document.getElementById('writing1').value;
            const feedbackDiv = document.getElementById('grammar-feedback');
            const textarea = document.getElementById('writing1');

            if (!text.trim()) {
                feedbackDiv.style.display = 'block';
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Please write some sentences first!';
                return;
            }

            // Hide textarea when checking grammar
            textarea.style.display = 'none';

            // Store corrected text globally for email
            window.grammarCheckResult = { original: text, corrected: '' };

            feedbackDiv.style.display = 'block';
            feedbackDiv.style.background = 'rgba(102, 126, 234, 0.1)';
            feedbackDiv.style.border = '1px solid rgba(102, 126, 234, 0.3)';
            feedbackDiv.style.color = '#667eea';
            feedbackDiv.innerHTML = '⏳ Checking your grammar and spelling, please wait, this may take up to 30 seconds depending on length of text...';

            try {
                // Google Gemini API - Accurate grammar checking (optimized for speed)
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyBTH0NmDb3cqjrY6p7YROPIJel-iCxSxzs`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `You are a strict grammar checker. Fix grammar and spelling errors. Do not change the meaning, style, or add punctuation unless absolutely necessary. Profanities are acceptable, but don't use shortened informal words like "cuz" or "wanna"

Text: "${text}"

Return only the corrected text with minimal changes.`
                            }]
                        }]
                    })
                });

                const data = await response.json();
                const correctedText = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || text;

                if (correctedText !== text && correctedText.toLowerCase() !== text.toLowerCase()) {
                    // Simple word-by-word comparison for highlighting
                    const originalWords = text.split(/(\s+)/); // Keep spaces
                    const correctedWords = correctedText.split(/(\s+)/);
                    let highlightedText = '';

                    originalWords.forEach((word, i) => {
                        if (word.match(/\s+/)) {
                            highlightedText += word; // Keep spaces as-is
                        } else if (correctedWords[i] && word.toLowerCase() !== correctedWords[i].toLowerCase()) {
                            highlightedText += `<span style="color: #e53e3e; font-weight: 600; background: rgba(245, 101, 101, 0.15); padding: 2px 4px; border-radius: 3px;">${word}</span>`;
                        } else {
                            highlightedText += word;
                        }
                    });

                    let html = `
                        <div style="margin-bottom: 20px;">
                            <strong style="color: #c53030;">Your Text (errors highlighted):</strong>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(245, 101, 101, 0.3); line-height: 1.8;">
                                ${highlightedText}
                            </div>
                        </div>
                        <div>
                            <strong style="color: #2f855a;">Corrected Text:</strong>
                            <div style="background: rgba(72, 187, 120, 0.1); padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(72, 187, 120, 0.3); color: #2d3748; line-height: 1.8;">
                                ${correctedText}
                            </div>
                        </div>
                    `;

                    feedbackDiv.style.background = 'rgba(245, 101, 101, 0.05)';
                    feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                    feedbackDiv.style.color = '#2d3748';
                    feedbackDiv.innerHTML = html;

                    // Store corrected text and enable Send to Teacher button
                    window.grammarCheckResult.corrected = correctedText;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                } else {
                    feedbackDiv.style.background = 'rgba(72, 187, 120, 0.1)';
                    feedbackDiv.style.border = '1px solid rgba(72, 187, 120, 0.3)';
                    feedbackDiv.style.color = '#2f855a';
                    feedbackDiv.innerHTML = '✓ Perfect! No grammar or spelling errors detected. Your sentences follow the SVO pattern correctly!';

                    // Store same text and enable Send to Teacher button
                    window.grammarCheckResult.corrected = text;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                }

            } catch (error) {
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Unable to check grammar. Please check your internet connection and try again.<br><small>Error: ' + error.message + '</small>';
            }
        }

        function sendToTeacher() {
            const essayTitle = "A1-01: Write 5 Sentences About What You Do Every Day";
            const originalText = window.grammarCheckResult.original;
            const correctedText = window.grammarCheckResult.corrected;

            const emailBody = `Essay Title: ${essayTitle}

Original Essay:
${originalText}

We made some changes:

Corrected Text:
${correctedText}`;

            const mailtoLink = `mailto:?subject=${encodeURIComponent(essayTitle)}&body=${encodeURIComponent(emailBody)}`;
            window.location.href = mailtoLink;
        }
    </script>
</body>
</html>