<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A1-07: Pronouns - Subject & Object - Grammar Lesson</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }
        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 0;
            overflow: hidden;
            height: 100%;
            background: white;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 30px 80px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 25px 35px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -70px;
        }

        .slide-arrow.next {
            right: -70px;
        }

        .slide-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            z-index: 10;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        .slide h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        .explanation-box {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 0;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .explanation-box h3 {
            color: #667eea;
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .explanation-box p {
            color: #2d3748;
            line-height: 1.5;
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .rule-box {
            background: #e3f2fd;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }

        .rule-box h4 {
            color: #667eea;
            font-size: 1.2rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .rule-box p {
            font-size: 1rem;
            color: #2d3748;
            margin: 5px 0;
        }

        .subject-pronoun {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #4299e1;
            color: white;
        }

        .object-pronoun {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #f6ad55;
            color: white;
        }

        .correct {
            background: #48bb78;
            color: white;
        }

        .wrong {
            background: #f56565;
            color: white;
            text-decoration: line-through;
        }

        .example-box {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
        }

        .example-box p {
            margin: 5px 0;
            font-size: 1rem;
            color: #2d3748;
        }

        .note-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
        }

        .note-box strong {
            color: #856404;
            font-size: 1rem;
        }

        .note-box p {
            color: #856404;
            margin-top: 5px;
            line-height: 1.4;
            font-size: 0.95rem;
        }

        .exercise-container {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 10px;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .exercise-container h3 {
            color: #764ba2;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .question-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 12px;
            margin: 0;
        }

        .question-box p {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 18px;
            margin: 8px 0;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            font-size: 1.05rem;
            font-family: 'Inter', sans-serif;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 15px 5px 10px 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .feedback {
            padding: 15px 20px;
            border-radius: 12px;
            margin: 15px 0;
            font-weight: 500;
            font-size: 1.05rem;
            display: none;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
            display: block;
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
            display: block;
        }

        ul {
            margin-left: 25px;
            line-height: 1.6;
        }

        li {
            margin: 6px 0;
            font-size: 1.05rem;
            color: #2d3748;
        }

        li strong {
            color: #667eea;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 10px;
            font-size: 1.05rem;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 10px;
            border: 1px solid #e2e8f0;
            font-size: 1rem;
            text-align: center;
        }

        .comparison-table tr:nth-child(even) {
            background: #f7fafc;
        }

        .pronoun-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }

        .pronoun-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .pronoun-card h4 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .pronoun-card p {
            font-size: 1rem;
            line-height: 1.6;
        }

        .sentence-diagram {
            background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
            text-align: center;
        }

        .sentence-diagram p {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2d3748;
            margin: 8px 0;
        }

        /* Custom scrollbar for explanation-box */
        .explanation-box::-webkit-scrollbar {
            width: 8px;
        }

        .explanation-box::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb:hover {
            background: #5568d3;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>A1-07: Subject & Object Pronouns</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">mimlanguageservices</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="ESL Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('explanation', this)">Explanation</div>
            <div class="nav-item" onclick="showSection('examples', this)">Examples</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('media', this)">Media</div>
            <div class="nav-item" onclick="showSection('practice', this)">Practice</div>
            <div class="nav-item" onclick="showSection('writing', this)">Writing</div>
        </div>

        <div class="content">
            <!-- Explanation Section -->
            <div class="section active" id="explanation">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="explanation">
                            <h2>What are Pronouns?</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 15px;">Pronouns replace nouns so we don't repeat the same words!</p>
                                <div class="example-box">
                                    <p><span class="wrong">John is my friend. John is nice. I like John.</span> ✗ (too repetitive!)</p>
                                    <p><span class="correct">John is my friend. He is nice. I like him.</span> ✓</p>
                                </div>
                                <div class="pronoun-grid">
                                    <div class="pronoun-card" style="border-left: 4px solid #4299e1;">
                                        <h4 style="color: #4299e1;"><span class="subject-pronoun">Subject Pronouns</span></h4>
                                        <p><strong>DO the action</strong></p>
                                        <p style="margin-top: 10px; font-size: 1.1rem;">I, you, he, she, it, we, they</p>
                                        <p style="margin-top: 8px;"><strong>Example:</strong> <strong>I</strong> play football.</p>
                                    </div>
                                    <div class="pronoun-card" style="border-left: 4px solid #f6ad55;">
                                        <h4 style="color: #f6ad55;"><span class="object-pronoun">Object Pronouns</span></h4>
                                        <p><strong>RECEIVE the action</strong></p>
                                        <p style="margin-top: 10px; font-size: 1.1rem;">me, you, him, her, it, us, them</p>
                                        <p style="margin-top: 8px;"><strong>Example:</strong> He likes <strong>me</strong>.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Subject Pronouns</h2>
                            <div class="explanation-box">
                                <h3>Subject pronouns DO the action (they are the subject)</h3>
                                <table class="comparison-table">
                                    <tr>
                                        <th>Subject Pronoun</th>
                                        <th>Replaces</th>
                                        <th>Example</th>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">I</span></td>
                                        <td>myself</td>
                                        <td><strong>I</strong> am happy.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">you</span></td>
                                        <td>the person you talk to</td>
                                        <td><strong>You</strong> are nice.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">he</span></td>
                                        <td>a man/boy</td>
                                        <td><strong>He</strong> is my brother.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">she</span></td>
                                        <td>a woman/girl</td>
                                        <td><strong>She</strong> is my sister.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">it</span></td>
                                        <td>a thing/animal</td>
                                        <td><strong>It</strong> is a cat.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">we</span></td>
                                        <td>me + other people</td>
                                        <td><strong>We</strong> are students.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">they</span></td>
                                        <td>multiple people/things</td>
                                        <td><strong>They</strong> are my friends.</td>
                                    </tr>
                                </table>
                                <div class="note-box">
                                    <strong>Position:</strong>
                                    <p>Subject pronouns come BEFORE the verb!</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Object Pronouns</h2>
                            <div class="explanation-box">
                                <h3>Object pronouns RECEIVE the action (they are the object)</h3>
                                <table class="comparison-table">
                                    <tr>
                                        <th>Object Pronoun</th>
                                        <th>Replaces</th>
                                        <th>Example</th>
                                    </tr>
                                    <tr>
                                        <td><span class="object-pronoun">me</span></td>
                                        <td>myself</td>
                                        <td>She likes <strong>me</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="object-pronoun">you</span></td>
                                        <td>the person you talk to</td>
                                        <td>I see <strong>you</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="object-pronoun">him</span></td>
                                        <td>a man/boy</td>
                                        <td>I know <strong>him</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="object-pronoun">her</span></td>
                                        <td>a woman/girl</td>
                                        <td>We love <strong>her</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="object-pronoun">it</span></td>
                                        <td>a thing/animal</td>
                                        <td>I have <strong>it</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="object-pronoun">us</span></td>
                                        <td>me + other people</td>
                                        <td>He helps <strong>us</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="object-pronoun">them</span></td>
                                        <td>multiple people/things</td>
                                        <td>She teaches <strong>them</strong>.</td>
                                    </tr>
                                </table>
                                <div class="note-box">
                                    <strong>Position:</strong>
                                    <p>Object pronouns come AFTER the verb or after prepositions (with, for, to, etc.)</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Subject vs. Object - The Complete Chart</h2>
                            <div class="explanation-box">
                                <table class="comparison-table">
                                    <tr>
                                        <th>Subject Pronoun</th>
                                        <th>Object Pronoun</th>
                                        <th>Example Sentence</th>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">I</span></td>
                                        <td><span class="object-pronoun">me</span></td>
                                        <td><strong>I</strong> see you. You see <strong>me</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">you</span></td>
                                        <td><span class="object-pronoun">you</span></td>
                                        <td><strong>You</strong> are nice. I like <strong>you</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">he</span></td>
                                        <td><span class="object-pronoun">him</span></td>
                                        <td><strong>He</strong> is tall. I know <strong>him</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">she</span></td>
                                        <td><span class="object-pronoun">her</span></td>
                                        <td><strong>She</strong> is smart. We love <strong>her</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">it</span></td>
                                        <td><span class="object-pronoun">it</span></td>
                                        <td><strong>It</strong> is big. I want <strong>it</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">we</span></td>
                                        <td><span class="object-pronoun">us</span></td>
                                        <td><strong>We</strong> are ready. Help <strong>us</strong>!</td>
                                    </tr>
                                    <tr>
                                        <td><span class="subject-pronoun">they</span></td>
                                        <td><span class="object-pronoun">them</span></td>
                                        <td><strong>They</strong> are here. I see <strong>them</strong>.</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>When to Use Each Type</h2>
                            <div class="explanation-box">
                                <div class="rule-box">
                                    <h4>Use SUBJECT pronouns:</h4>
                                    <p>1. <strong>Before the verb</strong> (doing the action)</p>
                                    <p style="margin-left: 20px;">→ <strong>I</strong> play. <strong>She</strong> runs. <strong>They</strong> work.</p>
                                    <p style="margin-top: 10px;">2. <strong>After verb "to be"</strong> (it is <strong>I/he/she</strong>, not me/him/her)</p>
                                    <p style="margin-left: 20px;">→ It is <strong>I</strong>. (formal) / It's <strong>me</strong>. (informal/common)</p>
                                </div>
                                <div class="rule-box">
                                    <h4>Use OBJECT pronouns:</h4>
                                    <p>1. <strong>After the verb</strong> (receiving the action)</p>
                                    <p style="margin-left: 20px;">→ He likes <strong>me</strong>. I see <strong>her</strong>. They know <strong>us</strong>.</p>
                                    <p style="margin-top: 10px;">2. <strong>After prepositions</strong> (with, for, to, about, etc.)</p>
                                    <p style="margin-left: 20px;">→ Come with <strong>me</strong>. This is for <strong>you</strong>. Talk to <strong>him</strong>.</p>
                                </div>
                                <div class="sentence-diagram">
                                    <p><span class="subject-pronoun">Subject</span> + Verb + <span class="object-pronoun">Object</span></p>
                                    <p><span class="subject-pronoun">I</span> love <span class="object-pronoun">you</span></p>
                                    <p><span class="subject-pronoun">She</span> helps <span class="object-pronoun">us</span></p>
                                    <p><span class="subject-pronoun">They</span> see <span class="object-pronoun">him</span></p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Common Mistakes</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><span class="wrong">Me like pizza.</span> ✗</p>
                                    <p><span class="correct"><strong>I</strong> like pizza.</span> ✓ (subject, before verb)</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="wrong">She loves I.</span> ✗</p>
                                    <p><span class="correct">She loves <strong>me</strong>.</span> ✓ (object, after verb)</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="wrong">Him is my friend.</span> ✗</p>
                                    <p><span class="correct"><strong>He</strong> is my friend.</span> ✓ (subject, before verb)</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="wrong">Come with I.</span> ✗</p>
                                    <p><span class="correct">Come with <strong>me</strong>.</span> ✓ (object, after preposition)</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="wrong">Us are students.</span> ✗</p>
                                    <p><span class="correct"><strong>We</strong> are students.</span> ✓ (subject, before verb)</p>
                                </div>
                                <div class="note-box">
                                    <strong>Quick tip:</strong>
                                    <p>Before verb = Subject (I, he, she, we, they)</p>
                                    <p>After verb/preposition = Object (me, him, her, us, them)</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="explanation-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div class="section" id="examples">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="examples">
                            <h2>Examples: Subject Pronouns</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><strong>I</strong> am a student. <strong>I</strong> study English.</p>
                                </div>
                                <div class="example-box">
                                    <p><strong>You</strong> are my friend. <strong>You</strong> are kind.</p>
                                </div>
                                <div class="example-box">
                                    <p>Tom is my brother. <strong>He</strong> is 15 years old.</p>
                                </div>
                                <div class="example-box">
                                    <p>Mary is a teacher. <strong>She</strong> teaches math.</p>
                                </div>
                                <div class="example-box">
                                    <p>This is my dog. <strong>It</strong> is very cute.</p>
                                </div>
                                <div class="example-box">
                                    <p>My family and I live here. <strong>We</strong> are happy.</p>
                                </div>
                                <div class="example-box">
                                    <p>John and Sarah are my friends. <strong>They</strong> are nice.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Examples: Object Pronouns</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p>She knows <strong>me</strong> very well.</p>
                                </div>
                                <div class="example-box">
                                    <p>I like <strong>you</strong>. Can I help <strong>you</strong>?</p>
                                </div>
                                <div class="example-box">
                                    <p>Tom is my friend. I see <strong>him</strong> every day.</p>
                                </div>
                                <div class="example-box">
                                    <p>Sarah is kind. Everyone loves <strong>her</strong>.</p>
                                </div>
                                <div class="example-box">
                                    <p>This is my phone. I need <strong>it</strong>.</p>
                                </div>
                                <div class="example-box">
                                    <p>My friends and I are here. Can you see <strong>us</strong>?</p>
                                </div>
                                <div class="example-box">
                                    <p>My parents are at home. I miss <strong>them</strong>.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Examples: After Prepositions</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p>Come with <strong>me</strong>!</p>
                                </div>
                                <div class="example-box">
                                    <p>This gift is for <strong>you</strong>.</p>
                                </div>
                                <div class="example-box">
                                    <p>I'm sitting next to <strong>him</strong>.</p>
                                </div>
                                <div class="example-box">
                                    <p>Talk to <strong>her</strong> about it.</p>
                                </div>
                                <div class="example-box">
                                    <p>Look at <strong>it</strong>!</p>
                                </div>
                                <div class="example-box">
                                    <p>They are waiting for <strong>us</strong>.</p>
                                </div>
                                <div class="example-box">
                                    <p>I'm thinking about <strong>them</strong>.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Examples: Complete Sentences</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><span class="subject-pronoun">I</span> love my mom. She loves <span class="object-pronoun">me</span> too.</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="subject-pronoun">He</span> is my teacher. I respect <span class="object-pronoun">him</span>.</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="subject-pronoun">She</span> is very talented. Everyone admires <span class="object-pronoun">her</span>.</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="subject-pronoun">We</span> are a team. Please help <span class="object-pronoun">us</span>.</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="subject-pronoun">They</span> are my neighbors. I know <span class="object-pronoun">them</span> well.</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="subject-pronoun">You</span> are my best friend. I can trust <span class="object-pronoun">you</span>.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="examples-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="reading">
                            <h2>Reading Practice</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 20px;">Read this story. Notice the subject and object pronouns:</p>
                                <div class="example-box" style="background: white; padding: 25px;">
                                    <h3 style="color: #667eea; margin-bottom: 20px;">My Best Friend</h3>
                                    <p style="font-size: 1.05rem; line-height: 1.8;">
                                        <strong>I</strong> have a best friend. <strong>Her</strong> name is Lisa. <strong>She</strong> is very kind and funny. <strong>I</strong> like <strong>her</strong> very much.
                                        <br><br>
                                        Lisa and <strong>I</strong> go to the same school. <strong>We</strong> are in the same class. Our teacher likes <strong>us</strong> because <strong>we</strong> study hard.
                                        <br><br>
                                        Lisa has a younger brother. <strong>He</strong> is only 5 years old. <strong>He</strong> is very cute! Lisa loves <strong>him</strong> so much. Sometimes <strong>she</strong> plays with <strong>him</strong> in the park.
                                        <br><br>
                                        Yesterday, Lisa came to my house. My parents met <strong>her</strong>. <strong>They</strong> said <strong>she</strong> is very polite. <strong>I</strong> told <strong>them</strong> that Lisa is the best friend anyone could have.
                                        <br><br>
                                        Lisa and <strong>I</strong> help each other. When <strong>she</strong> needs help, <strong>I</strong> help <strong>her</strong>. When <strong>I</strong> need help, <strong>she</strong> helps <strong>me</strong>. That's what friends do!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="reading">
                            <h2>Find the Pronouns</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.05rem; margin-bottom: 15px;">From the story "My Best Friend":</p>
                                <div class="example-box">
                                    <p><span class="subject-pronoun">Subject Pronouns</span> (doing the action):</p>
                                    <p>• <strong>I</strong> (appears many times - the narrator)</p>
                                    <p>• <strong>She</strong> (Lisa)</p>
                                    <p>• <strong>He</strong> (Lisa's brother)</p>
                                    <p>• <strong>We</strong> (I and Lisa)</p>
                                    <p>• <strong>They</strong> (my parents)</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="object-pronoun">Object Pronouns</span> (receiving the action):</p>
                                    <p>• <strong>her</strong> (Lisa) - "I like her", "My parents met her"</p>
                                    <p>• <strong>him</strong> (Lisa's brother) - "Lisa loves him", "plays with him"</p>
                                    <p>• <strong>us</strong> (me and Lisa) - "Our teacher likes us"</p>
                                    <p>• <strong>them</strong> (my parents) - "I told them"</p>
                                    <p>• <strong>me</strong> (myself) - "she helps me"</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="reading-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Media Section -->
            <div class="section" id="media">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="media">
                            <h2>Video: Subject & Object Pronouns</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 20px;">Watch this video to learn about pronouns:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/5Y-v2JIjGWo"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p style="font-size: 1rem; color: #666; text-align: center; font-style: italic;">
                                    Educational video about subject and object pronouns
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="media-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                    </div>
                </div>
            </div>

            <!-- Practice Section -->
            <div class="section" id="practice">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="practice">
                            <h2>Practice: Choose the Pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fill in the blank with the correct pronoun:</p>
                                    <p><strong>___ am a student.</strong></p>
                                    <input type="text" id="q1" placeholder="Type the correct pronoun" onkeypress="if(event.key==='Enter') checkAnswer1()">
                                    <button class="check-button" onclick="checkAnswer1()">Check Answer</button>
                                    <div id="feedback1" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Choose the Pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fill in the blank:</p>
                                    <p><strong>She likes ___. (me/I)</strong></p>
                                    <input type="text" id="q2" placeholder="Type: me or I" onkeypress="if(event.key==='Enter') checkAnswer2()">
                                    <button class="check-button" onclick="checkAnswer2()">Check Answer</button>
                                    <div id="feedback2" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Choose the Pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fill in the blank:</p>
                                    <p><strong>___ is my brother. (He/Him)</strong></p>
                                    <input type="text" id="q3" placeholder="Type: He or Him" onkeypress="if(event.key==='Enter') checkAnswer3()">
                                    <button class="check-button" onclick="checkAnswer3()">Check Answer</button>
                                    <div id="feedback3" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Choose the Pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fill in the blank:</p>
                                    <p><strong>Come with ___. (I/me)</strong></p>
                                    <input type="text" id="q4" placeholder="Type: I or me" onkeypress="if(event.key==='Enter') checkAnswer4()">
                                    <button class="check-button" onclick="checkAnswer4()">Check Answer</button>
                                    <div id="feedback4" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Choose the Pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fill in the blank:</p>
                                    <p><strong>___ are students. (We/Us)</strong></p>
                                    <input type="text" id="q5" placeholder="Type: We or Us" onkeypress="if(event.key==='Enter') checkAnswer5()">
                                    <button class="check-button" onclick="checkAnswer5()">Check Answer</button>
                                    <div id="feedback5" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Choose the Pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fill in the blank:</p>
                                    <p><strong>I know ___. (they/them)</strong></p>
                                    <input type="text" id="q6" placeholder="Type: they or them" onkeypress="if(event.key==='Enter') checkAnswer6()">
                                    <button class="check-button" onclick="checkAnswer6()">Check Answer</button>
                                    <div id="feedback6" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Choose the Pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fill in the blank:</p>
                                    <p><strong>This is for ___. (she/her)</strong></p>
                                    <input type="text" id="q7" placeholder="Type: she or her" onkeypress="if(event.key==='Enter') checkAnswer7()">
                                    <button class="check-button" onclick="checkAnswer7()">Check Answer</button>
                                    <div id="feedback7" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Choose the Pronoun</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fill in the blank:</p>
                                    <p><strong>___ helps me. (She/Her)</strong></p>
                                    <input type="text" id="q8" placeholder="Type: She or Her" onkeypress="if(event.key==='Enter') checkAnswer8()">
                                    <button class="check-button" onclick="checkAnswer8()">Check Answer</button>
                                    <div id="feedback8" class="feedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="practice-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                        <span class="indicator-dot" onclick="goToSlide(7)"></span>
                        <span class="indicator-dot" onclick="goToSlide(8)"></span>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="writing" style="overflow-y: auto;">
                            <h2>Writing Practice</h2>
                            <div class="explanation-box">
                                <h3>Write about your family or friends</h3>
                                <p style="margin-bottom: 15px;">Write 6-8 sentences about your family or friends. Use both subject and object pronouns.</p>
                                <div class="question-box">
                                    <textarea id="writing1" rows="8" style="width: 100%; padding: 12px; border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 8px; font-size: 1.05rem; font-family: 'Inter', sans-serif; resize: vertical;" spellcheck="true" placeholder="I have a sister. She is very nice. I love her. She helps me with homework..."></textarea>
                                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                                        <button class="check-button" onclick="checkGrammar()">Check Grammar</button>
                                        <button id="send-teacher-btn" class="check-button" onclick="sendToTeacher()" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); opacity: 0.5; cursor: not-allowed;" disabled>Send to Teacher</button>
                                    </div>
                                    <div id="grammar-feedback" style="margin-top: 15px; padding: 15px; border-radius: 8px; display: none;"></div>
                                    <p style="font-size: 0.95rem; color: #666; margin-top: 10px;">Example: My brother is tall. He plays basketball. I watch him play. We are close.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="writing-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        let currentSection = 'explanation';

        function showSection(sectionName, element) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            document.getElementById(sectionName).classList.add('active');

            if (element) {
                element.classList.add('active');
            }

            currentSection = sectionName;
            currentSlide = 1;

            setTimeout(() => {
                const activeSection = document.querySelector('.section.active');
                const inputField = activeSection.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                }
            }, 100);
        }

        function changeSlide(direction) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            if (slides.length === 1) return;

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > slides.length) {
                currentSlide = 1;
            }
            if (currentSlide < 1) {
                currentSlide = slides.length;
            }

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');

            setTimeout(() => {
                const activeSlide = slides[currentSlide - 1];
                const inputField = activeSlide.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                    inputField.value = '';
                }
            }, 100);
        }

        function goToSlide(slideNum) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide = slideNum;

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        function checkAnswer1() {
            const answer = document.getElementById('q1').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback1');

            if (answer === 'i') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "I" - subject pronoun before the verb';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Which pronoun means "myself" as the subject?';
            }
        }

        function checkAnswer2() {
            const answer = document.getElementById('q2').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback2');

            if (answer === 'me') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "me" - object pronoun after the verb';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. After the verb, use object pronoun!';
            }
        }

        function checkAnswer3() {
            const answer = document.getElementById('q3').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback3');

            if (answer === 'he') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great! "He" - subject pronoun before "is"';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Before the verb, use subject pronoun!';
            }
        }

        function checkAnswer4() {
            const answer = document.getElementById('q4').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback4');

            if (answer === 'me') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "me" - object pronoun after preposition "with"';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. After prepositions (with, for, to), use object pronouns!';
            }
        }

        function checkAnswer5() {
            const answer = document.getElementById('q5').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback5');

            if (answer === 'we') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "We" - subject pronoun before "are"';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Before the verb, use subject pronoun!';
            }
        }

        function checkAnswer6() {
            const answer = document.getElementById('q6').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback6');

            if (answer === 'them') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great! "them" - object pronoun after the verb "know"';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. After the verb, use object pronoun!';
            }
        }

        function checkAnswer7() {
            const answer = document.getElementById('q7').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback7');

            if (answer === 'her') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "her" - object pronoun after preposition "for"';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. After preposition "for", use object pronoun!';
            }
        }

        function checkAnswer8() {
            const answer = document.getElementById('q8').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback8');

            if (answer === 'she') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "She" - subject pronoun before the verb "helps"';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Before the verb, use subject pronoun!';
            }
        }

        async function checkGrammar() {
            const text = document.getElementById('writing1').value;
            const feedbackDiv = document.getElementById('grammar-feedback');
            const textarea = document.getElementById('writing1');

            if (!text.trim()) {
                feedbackDiv.style.display = 'block';
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Please write some sentences first!';
                return;
            }

            textarea.style.display = 'none';
            window.grammarCheckResult = { original: text, corrected: '' };

            feedbackDiv.style.display = 'block';
            feedbackDiv.style.background = 'rgba(102, 126, 234, 0.1)';
            feedbackDiv.style.border = '1px solid rgba(102, 126, 234, 0.3)';
            feedbackDiv.style.color = '#667eea';
            feedbackDiv.innerHTML = '⏳ Checking your grammar and spelling...';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyBTH0NmDb3cqjrY6p7YROPIJel-iCxSxzs`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `You are a strict grammar checker. Fix grammar and spelling errors. Do not change the meaning, style, or add punctuation unless absolutely necessary. Profanities are acceptable, but don't use shortened informal words like "cuz" or "wanna"\n\nText: "${text}"\n\nReturn only the corrected text with minimal changes.`
                            }]
                        }]
                    })
                });

                const data = await response.json();
                const correctedText = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || text;

                if (correctedText !== text && correctedText.toLowerCase() !== text.toLowerCase()) {
                    const originalWords = text.split(/(\s+)/);
                    const correctedWords = correctedText.split(/(\s+)/);
                    let highlightedText = '';

                    originalWords.forEach((word, i) => {
                        if (word.match(/\s+/)) {
                            highlightedText += word;
                        } else if (correctedWords[i] && word.toLowerCase() !== correctedWords[i].toLowerCase()) {
                            highlightedText += `<span style="color: #e53e3e; font-weight: 600; background: rgba(245, 101, 101, 0.15); padding: 2px 4px; border-radius: 3px;">${word}</span>`;
                        } else {
                            highlightedText += word;
                        }
                    });

                    let html = `
                        <div style="margin-bottom: 20px;">
                            <strong style="color: #c53030;">Your Text (errors highlighted):</strong>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(245, 101, 101, 0.3); line-height: 1.8;">
                                ${highlightedText}
                            </div>
                        </div>
                        <div>
                            <strong style="color: #2f855a;">Corrected Text:</strong>
                            <div style="background: rgba(72, 187, 120, 0.1); padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(72, 187, 120, 0.3); color: #2d3748; line-height: 1.8;">
                                ${correctedText}
                            </div>
                        </div>
                    `;

                    feedbackDiv.style.background = 'rgba(245, 101, 101, 0.05)';
                    feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                    feedbackDiv.style.color = '#2d3748';
                    feedbackDiv.innerHTML = html;

                    window.grammarCheckResult.corrected = correctedText;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                } else {
                    feedbackDiv.style.background = 'rgba(72, 187, 120, 0.1)';
                    feedbackDiv.style.border = '1px solid rgba(72, 187, 120, 0.3)';
                    feedbackDiv.style.color = '#2f855a';
                    feedbackDiv.innerHTML = '✓ Perfect! No grammar or spelling errors detected!';

                    window.grammarCheckResult.corrected = text;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                }
            } catch (error) {
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Unable to check grammar. Error: ' + error.message;
            }
        }

        function sendToTeacher() {
            const essayTitle = "A1-07: Subject & Object Pronouns";
            const originalText = window.grammarCheckResult.original;
            const correctedText = window.grammarCheckResult.corrected;

            const emailBody = `Essay Title: ${essayTitle}\n\nOriginal Essay:\n${originalText}\n\nWe made some changes:\n\nCorrected Text:\n${correctedText}`;
            const mailtoLink = `mailto:?subject=${encodeURIComponent(essayTitle)}&body=${encodeURIComponent(emailBody)}`;
            window.location.href = mailtoLink;
        }
    </script>
</body>
</html>
