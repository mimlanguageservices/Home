<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A1-04: Nouns - Singular & Plural Forms - Grammar Lesson</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }
        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 0;
            overflow: hidden;
            height: 100%;
            background: white;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 30px 80px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 25px 35px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -70px;
        }

        .slide-arrow.next {
            right: -70px;
        }

        .slide-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            z-index: 10;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        .slide h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        .explanation-box {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 0;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .explanation-box h3 {
            color: #667eea;
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .explanation-box p {
            color: #2d3748;
            line-height: 1.5;
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .rule-box {
            background: #e3f2fd;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }

        .rule-box h4 {
            color: #667eea;
            font-size: 1.2rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .rule-box p {
            font-size: 1rem;
            color: #2d3748;
            margin: 5px 0;
        }

        .singular {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            background: #4299e1;
            color: white;
        }

        .plural {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            background: #f6ad55;
            color: white;
        }

        .correct {
            background: #48bb78;
            color: white;
        }

        .wrong {
            background: #f56565;
            color: white;
            text-decoration: line-through;
        }

        .example-box {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
        }

        .example-box p {
            margin: 5px 0;
            font-size: 1rem;
            color: #2d3748;
        }

        .note-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
        }

        .note-box strong {
            color: #856404;
            font-size: 1rem;
        }

        .note-box p {
            color: #856404;
            margin-top: 5px;
            line-height: 1.4;
            font-size: 0.95rem;
        }

        .exercise-container {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 10px;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .exercise-container h3 {
            color: #764ba2;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .question-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 12px;
            margin: 0;
        }

        .question-box p {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 18px;
            margin: 8px 0;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            font-size: 1.05rem;
            font-family: 'Inter', sans-serif;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 15px 5px 10px 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .feedback {
            padding: 15px 20px;
            border-radius: 12px;
            margin: 15px 0;
            font-weight: 500;
            font-size: 1.05rem;
            display: none;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
            display: block;
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
            display: block;
        }

        ul {
            margin-left: 25px;
            line-height: 1.6;
        }

        li {
            margin: 6px 0;
            font-size: 1.05rem;
            color: #2d3748;
        }

        li strong {
            color: #667eea;
        }

        .plural-rules-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }

        .rule-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .rule-card h4 {
            color: #667eea;
            margin-bottom: 8px;
            font-size: 1.05rem;
        }

        .rule-card p {
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 10px;
            font-size: 1.05rem;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 10px;
            border: 1px solid #e2e8f0;
            font-size: 1rem;
            text-align: center;
        }

        .comparison-table tr:nth-child(even) {
            background: #f7fafc;
        }

        /* Custom scrollbar for explanation-box */
        .explanation-box::-webkit-scrollbar {
            width: 8px;
        }

        .explanation-box::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb:hover {
            background: #5568d3;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>A1-04: Singular & Plural Nouns</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">mimlanguageservices</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="ESL Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('explanation', this)">Explanation</div>
            <div class="nav-item" onclick="showSection('examples', this)">Examples</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('media', this)">Media</div>
            <div class="nav-item" onclick="showSection('practice', this)">Practice</div>
            <div class="nav-item" onclick="showSection('writing', this)">Writing</div>
        </div>

        <div class="content">
            <!-- Explanation Section -->
            <div class="section active" id="explanation">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="explanation">
                            <h2>What are Singular and Plural Nouns?</h2>
                            <div class="explanation-box">
                                <div class="rule-box">
                                    <h4>Singular</h4>
                                    <p>A singular noun means ONE thing, person, or place.</p>
                                    <p style="font-size: 1.2rem; margin-top: 10px;"><span class="singular">one cat</span> <span class="singular">one book</span> <span class="singular">one student</span></p>
                                </div>
                                <div class="rule-box">
                                    <h4>Plural</h4>
                                    <p>A plural noun means TWO OR MORE things, people, or places.</p>
                                    <p style="font-size: 1.2rem; margin-top: 10px;"><span class="plural">two cats</span> <span class="plural">three books</span> <span class="plural">many students</span></p>
                                </div>
                                <div class="note-box">
                                    <strong>Remember:</strong>
                                    <p>Most plural nouns end in -s or -es</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Rule 1: Add -s</h2>
                            <div class="explanation-box">
                                <h3>For most nouns, just add -s</h3>
                                <table class="comparison-table">
                                    <tr>
                                        <th>Singular (One)</th>
                                        <th>Plural (More than one)</th>
                                    </tr>
                                    <tr>
                                        <td>cat</td>
                                        <td>cats</td>
                                    </tr>
                                    <tr>
                                        <td>dog</td>
                                        <td>dogs</td>
                                    </tr>
                                    <tr>
                                        <td>book</td>
                                        <td>books</td>
                                    </tr>
                                    <tr>
                                        <td>car</td>
                                        <td>cars</td>
                                    </tr>
                                    <tr>
                                        <td>teacher</td>
                                        <td>teachers</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Rule 2: Add -es (after s, x, ch, sh)</h2>
                            <div class="explanation-box">
                                <h3>When a noun ends in s, x, ch, or sh, add -es</h3>
                                <table class="comparison-table">
                                    <tr>
                                        <th>Singular</th>
                                        <th>Plural</th>
                                        <th>Ending</th>
                                    </tr>
                                    <tr>
                                        <td>bus</td>
                                        <td>buses</td>
                                        <td>-s → -es</td>
                                    </tr>
                                    <tr>
                                        <td>box</td>
                                        <td>boxes</td>
                                        <td>-x → -es</td>
                                    </tr>
                                    <tr>
                                        <td>church</td>
                                        <td>churches</td>
                                        <td>-ch → -es</td>
                                    </tr>
                                    <tr>
                                        <td>dish</td>
                                        <td>dishes</td>
                                        <td>-sh → -es</td>
                                    </tr>
                                </table>
                                <div class="note-box">
                                    <strong>Why -es?</strong>
                                    <p>It's easier to pronounce! Try saying "boxs" - it's hard! "Boxes" is much easier.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Rule 3: Consonant + y → -ies</h2>
                            <div class="explanation-box">
                                <h3>When a noun ends in consonant + y, change y to i and add -es</h3>
                                <table class="comparison-table">
                                    <tr>
                                        <th>Singular</th>
                                        <th>Plural</th>
                                        <th>Rule</th>
                                    </tr>
                                    <tr>
                                        <td>baby</td>
                                        <td>babies</td>
                                        <td>y → ies</td>
                                    </tr>
                                    <tr>
                                        <td>city</td>
                                        <td>cities</td>
                                        <td>y → ies</td>
                                    </tr>
                                    <tr>
                                        <td>lady</td>
                                        <td>ladies</td>
                                        <td>y → ies</td>
                                    </tr>
                                    <tr>
                                        <td>party</td>
                                        <td>parties</td>
                                        <td>y → ies</td>
                                    </tr>
                                </table>
                                <div class="note-box">
                                    <strong>But wait!</strong>
                                    <p>If there's a vowel before the y (a, e, i, o, u + y), just add -s:</p>
                                    <p><strong>boy → boys</strong> | <strong>key → keys</strong> | <strong>day → days</strong></p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Rule 4: -f or -fe → -ves</h2>
                            <div class="explanation-box">
                                <h3>For many nouns ending in -f or -fe, change to -ves</h3>
                                <table class="comparison-table">
                                    <tr>
                                        <th>Singular</th>
                                        <th>Plural</th>
                                        <th>Rule</th>
                                    </tr>
                                    <tr>
                                        <td>knife</td>
                                        <td>knives</td>
                                        <td>-fe → -ves</td>
                                    </tr>
                                    <tr>
                                        <td>wife</td>
                                        <td>wives</td>
                                        <td>-fe → -ves</td>
                                    </tr>
                                    <tr>
                                        <td>leaf</td>
                                        <td>leaves</td>
                                        <td>-f → -ves</td>
                                    </tr>
                                    <tr>
                                        <td>life</td>
                                        <td>lives</td>
                                        <td>-fe → -ves</td>
                                    </tr>
                                </table>
                                <div class="note-box">
                                    <strong>Watch out!</strong>
                                    <p>Some words just add -s: <strong>roof → roofs</strong> | <strong>chief → chiefs</strong></p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Summary: Regular Plural Rules</h2>
                            <div class="explanation-box">
                                <div class="plural-rules-grid">
                                    <div class="rule-card">
                                        <h4>Rule 1: Most nouns</h4>
                                        <p>Add <strong>-s</strong></p>
                                        <p>cat → cats</p>
                                        <p>dog → dogs</p>
                                    </div>
                                    <div class="rule-card">
                                        <h4>Rule 2: s, x, ch, sh</h4>
                                        <p>Add <strong>-es</strong></p>
                                        <p>box → boxes</p>
                                        <p>church → churches</p>
                                    </div>
                                    <div class="rule-card">
                                        <h4>Rule 3: consonant + y</h4>
                                        <p>Change to <strong>-ies</strong></p>
                                        <p>baby → babies</p>
                                        <p>city → cities</p>
                                    </div>
                                    <div class="rule-card">
                                        <h4>Rule 4: -f or -fe</h4>
                                        <p>Change to <strong>-ves</strong></p>
                                        <p>knife → knives</p>
                                        <p>leaf → leaves</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="explanation-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div class="section" id="examples">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="examples">
                            <h2>Examples: Regular Plurals (-s)</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><span class="singular">I have one pen.</span></p>
                                    <p><span class="plural">I have three pens.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">She has a friend.</span></p>
                                    <p><span class="plural">She has many friends.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">There is one apple on the table.</span></p>
                                    <p><span class="plural">There are five apples on the table.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">The student is studying.</span></p>
                                    <p><span class="plural">The students are studying.</span></p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Examples: Plurals with -es</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><span class="singular">The bus is late.</span></p>
                                    <p><span class="plural">The buses are late.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">I bought a box.</span></p>
                                    <p><span class="plural">I bought three boxes.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">She washed the dish.</span></p>
                                    <p><span class="plural">She washed the dishes.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">The church is beautiful.</span></p>
                                    <p><span class="plural">The churches are beautiful.</span></p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Examples: Consonant + y → -ies</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><span class="singular">The baby is sleeping.</span></p>
                                    <p><span class="plural">The babies are sleeping.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">London is a big city.</span></p>
                                    <p><span class="plural">London and Paris are big cities.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">We're having a party tonight.</span></p>
                                    <p><span class="plural">We have two parties this week.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">That lady is my teacher.</span></p>
                                    <p><span class="plural">Those ladies are my teachers.</span></p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Examples: Vowel + y → -s</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><span class="singular">The boy is playing.</span></p>
                                    <p><span class="plural">The boys are playing.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">I lost my key.</span></p>
                                    <p><span class="plural">I lost my keys.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">Monday is a busy day.</span></p>
                                    <p><span class="plural">All my days are busy.</span></p>
                                </div>
                                <div class="note-box">
                                    <strong>Notice:</strong>
                                    <p>When there's a vowel (a, e, i, o, u) before the y, we just add -s!</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Examples: -f/-fe → -ves</h2>
                            <div class="explanation-box">
                                <div class="example-box">
                                    <p><span class="singular">She used a knife to cut the bread.</span></p>
                                    <p><span class="plural">She used two knives to cut the bread.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">The leaf is green.</span></p>
                                    <p><span class="plural">The leaves are green.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">He has one life.</span></p>
                                    <p><span class="plural">Cats have nine lives.</span></p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">His wife is a doctor.</span></p>
                                    <p><span class="plural">Their wives are doctors.</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="examples-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="reading">
                            <h2>Reading Practice</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.2rem; margin-bottom: 25px;">Read this story. Notice the singular and plural nouns:</p>
                                <div class="example-box" style="background: white; padding: 30px;">
                                    <h3 style="color: #667eea; margin-bottom: 20px;">My Classroom</h3>
                                    <p style="font-size: 1.15rem; line-height: 2;">
                                        I am a student. There are twenty-five <strong>students</strong> in my class. We have one <strong>teacher</strong>. Her name is Ms. Johnson.
                                        <br><br>
                                        In our classroom, there are many <strong>desks</strong> and <strong>chairs</strong>. We have three <strong>windows</strong> and two <strong>doors</strong>. On the wall, there are five <strong>posters</strong> and one big <strong>clock</strong>.
                                        <br><br>
                                        Every day, we use our <strong>books</strong> and <strong>pens</strong>. Sometimes we watch <strong>videos</strong> on the computer. We also have two <strong>boxes</strong> of art supplies. I love my classroom!
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="reading">
                            <h2>Find the Plural Nouns</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.15rem; margin-bottom: 20px;">From the story "My Classroom":</p>
                                <div class="example-box">
                                    <p><span class="plural">Regular plurals with -s:</span></p>
                                    <p>• students • desks • chairs • windows • doors • posters • books • pens • videos</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="plural">Plurals with -es:</span></p>
                                    <p>• boxes (box + es)</p>
                                </div>
                                <div class="example-box">
                                    <p><span class="singular">Singular nouns:</span></p>
                                    <p>• student • teacher • clock • computer • classroom</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="reading-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Media Section -->
            <div class="section" id="media">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="media">
                            <h2>Video: Singular and Plural Nouns</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.15rem; margin-bottom: 25px;">Watch this video to learn about singular and plural nouns:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/GHC2m7aRCmQ"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p style="font-size: 1rem; color: #666; text-align: center; font-style: italic;">
                                    Educational video about plural nouns
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="media-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                    </div>
                </div>
            </div>

            <!-- Practice Section -->
            <div class="section" id="practice">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="practice">
                            <h2>Practice: Make it Plural</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write the plural form:</p>
                                    <p><strong>cat → _______</strong></p>
                                    <input type="text" id="q1" placeholder="Type the plural form" onkeypress="if(event.key==='Enter') checkAnswer1()">
                                    <button class="check-button" onclick="checkAnswer1()">Check Answer</button>
                                    <div id="feedback1" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Make it Plural</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write the plural form:</p>
                                    <p><strong>box → _______</strong></p>
                                    <input type="text" id="q2" placeholder="Type the plural form" onkeypress="if(event.key==='Enter') checkAnswer2()">
                                    <button class="check-button" onclick="checkAnswer2()">Check Answer</button>
                                    <div id="feedback2" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Make it Plural</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write the plural form:</p>
                                    <p><strong>baby → _______</strong></p>
                                    <input type="text" id="q3" placeholder="Type the plural form" onkeypress="if(event.key==='Enter') checkAnswer3()">
                                    <button class="check-button" onclick="checkAnswer3()">Check Answer</button>
                                    <div id="feedback3" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Make it Plural</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write the plural form:</p>
                                    <p><strong>knife → _______</strong></p>
                                    <input type="text" id="q4" placeholder="Type the plural form" onkeypress="if(event.key==='Enter') checkAnswer4()">
                                    <button class="check-button" onclick="checkAnswer4()">Check Answer</button>
                                    <div id="feedback4" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Make it Plural</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write the plural form:</p>
                                    <p><strong>church → _______</strong></p>
                                    <input type="text" id="q5" placeholder="Type the plural form" onkeypress="if(event.key==='Enter') checkAnswer5()">
                                    <button class="check-button" onclick="checkAnswer5()">Check Answer</button>
                                    <div id="feedback5" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Make it Plural</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write the plural form:</p>
                                    <p><strong>boy → _______</strong></p>
                                    <input type="text" id="q6" placeholder="Type the plural form" onkeypress="if(event.key==='Enter') checkAnswer6()">
                                    <button class="check-button" onclick="checkAnswer6()">Check Answer</button>
                                    <div id="feedback6" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Make it Plural</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write the plural form:</p>
                                    <p><strong>city → _______</strong></p>
                                    <input type="text" id="q7" placeholder="Type the plural form" onkeypress="if(event.key==='Enter') checkAnswer7()">
                                    <button class="check-button" onclick="checkAnswer7()">Check Answer</button>
                                    <div id="feedback7" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice: Make it Plural</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write the plural form:</p>
                                    <p><strong>dish → _______</strong></p>
                                    <input type="text" id="q8" placeholder="Type the plural form" onkeypress="if(event.key==='Enter') checkAnswer8()">
                                    <button class="check-button" onclick="checkAnswer8()">Check Answer</button>
                                    <div id="feedback8" class="feedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="practice-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                        <span class="indicator-dot" onclick="goToSlide(7)"></span>
                        <span class="indicator-dot" onclick="goToSlide(8)"></span>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="writing" style="overflow-y: auto;">
                            <h2>Writing Practice</h2>
                            <div class="explanation-box">
                                <h3>Write about things you have</h3>
                                <p style="margin-bottom: 20px;">Write sentences using both singular and plural nouns. Tell us what you have!</p>
                                <div class="question-box">
                                    <textarea id="writing1" rows="8" style="width: 100%; padding: 12px; border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 8px; font-size: 1.05rem; font-family: 'Inter', sans-serif; resize: vertical;" spellcheck="true" placeholder="I have one computer. I have three books. I have two pens."></textarea>
                                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                                        <button class="check-button" onclick="checkGrammar()">Check Grammar</button>
                                        <button id="send-teacher-btn" class="check-button" onclick="sendToTeacher()" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); opacity: 0.5; cursor: not-allowed;" disabled>Send to Teacher</button>
                                    </div>
                                    <div id="grammar-feedback" style="margin-top: 15px; padding: 15px; border-radius: 8px; display: none;"></div>
                                    <p style="font-size: 0.95rem; color: #666; margin-top: 10px;">Example: I have one cat and two dogs. I have many books. I have three boxes of toys.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="writing-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        let currentSection = 'explanation';

        function showSection(sectionName, element) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            document.getElementById(sectionName).classList.add('active');

            if (element) {
                element.classList.add('active');
            }

            currentSection = sectionName;
            currentSlide = 1;

            setTimeout(() => {
                const activeSection = document.querySelector('.section.active');
                const inputField = activeSection.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                }
            }, 100);
        }

        function changeSlide(direction) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            if (slides.length === 1) return;

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > slides.length) {
                currentSlide = 1;
            }
            if (currentSlide < 1) {
                currentSlide = slides.length;
            }

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');

            setTimeout(() => {
                const activeSlide = slides[currentSlide - 1];
                const inputField = activeSlide.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                    inputField.value = '';
                }
            }, 100);
        }

        function goToSlide(slideNum) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide = slideNum;

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        function checkAnswer1() {
            const answer = document.getElementById('q1').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback1');

            if (answer === 'cats') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "cats" is correct! (cat + s)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. For most nouns, just add -s';
            }
        }

        function checkAnswer2() {
            const answer = document.getElementById('q2').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback2');

            if (answer === 'boxes') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "boxes" is correct! (box ends in x, so add -es)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Words ending in x need -es';
            }
        }

        function checkAnswer3() {
            const answer = document.getElementById('q3').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback3');

            if (answer === 'babies') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great! "babies" is correct! (consonant + y → ies)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Consonant + y changes to -ies';
            }
        }

        function checkAnswer4() {
            const answer = document.getElementById('q4').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback4');

            if (answer === 'knives') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "knives" is correct! (-fe → -ves)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Words ending in -fe change to -ves';
            }
        }

        function checkAnswer5() {
            const answer = document.getElementById('q5').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback5');

            if (answer === 'churches') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "churches" is correct! (ch → -es)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Words ending in -ch need -es';
            }
        }

        function checkAnswer6() {
            const answer = document.getElementById('q6').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback6');

            if (answer === 'boys') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "boys" is correct! (vowel + y, just add -s)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Vowel + y just adds -s (not -ies)';
            }
        }

        function checkAnswer7() {
            const answer = document.getElementById('q7').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback7');

            if (answer === 'cities') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great! "cities" is correct! (consonant + y → -ies)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Consonant + y changes to -ies';
            }
        }

        function checkAnswer8() {
            const answer = document.getElementById('q8').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback8');

            if (answer === 'dishes') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "dishes" is correct! (sh → -es)';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try again. Words ending in -sh need -es';
            }
        }

        async function checkGrammar() {
            const text = document.getElementById('writing1').value;
            const feedbackDiv = document.getElementById('grammar-feedback');
            const textarea = document.getElementById('writing1');

            if (!text.trim()) {
                feedbackDiv.style.display = 'block';
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Please write some sentences first!';
                return;
            }

            textarea.style.display = 'none';
            window.grammarCheckResult = { original: text, corrected: '' };

            feedbackDiv.style.display = 'block';
            feedbackDiv.style.background = 'rgba(102, 126, 234, 0.1)';
            feedbackDiv.style.border = '1px solid rgba(102, 126, 234, 0.3)';
            feedbackDiv.style.color = '#667eea';
            feedbackDiv.innerHTML = '⏳ Checking your grammar and spelling...';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyBTH0NmDb3cqjrY6p7YROPIJel-iCxSxzs`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `You are a strict grammar checker. Fix grammar and spelling errors. Do not change the meaning, style, or add punctuation unless absolutely necessary. Profanities are acceptable, but don't use shortened informal words like "cuz" or "wanna"\n\nText: "${text}"\n\nReturn only the corrected text with minimal changes.`
                            }]
                        }]
                    })
                });

                const data = await response.json();
                const correctedText = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || text;

                if (correctedText !== text && correctedText.toLowerCase() !== text.toLowerCase()) {
                    const originalWords = text.split(/(\s+)/);
                    const correctedWords = correctedText.split(/(\s+)/);
                    let highlightedText = '';

                    originalWords.forEach((word, i) => {
                        if (word.match(/\s+/)) {
                            highlightedText += word;
                        } else if (correctedWords[i] && word.toLowerCase() !== correctedWords[i].toLowerCase()) {
                            highlightedText += `<span style="color: #e53e3e; font-weight: 600; background: rgba(245, 101, 101, 0.15); padding: 2px 4px; border-radius: 3px;">${word}</span>`;
                        } else {
                            highlightedText += word;
                        }
                    });

                    let html = `
                        <div style="margin-bottom: 20px;">
                            <strong style="color: #c53030;">Your Text (errors highlighted):</strong>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(245, 101, 101, 0.3); line-height: 1.8;">
                                ${highlightedText}
                            </div>
                        </div>
                        <div>
                            <strong style="color: #2f855a;">Corrected Text:</strong>
                            <div style="background: rgba(72, 187, 120, 0.1); padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(72, 187, 120, 0.3); color: #2d3748; line-height: 1.8;">
                                ${correctedText}
                            </div>
                        </div>
                    `;

                    feedbackDiv.style.background = 'rgba(245, 101, 101, 0.05)';
                    feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                    feedbackDiv.style.color = '#2d3748';
                    feedbackDiv.innerHTML = html;

                    window.grammarCheckResult.corrected = correctedText;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                } else {
                    feedbackDiv.style.background = 'rgba(72, 187, 120, 0.1)';
                    feedbackDiv.style.border = '1px solid rgba(72, 187, 120, 0.3)';
                    feedbackDiv.style.color = '#2f855a';
                    feedbackDiv.innerHTML = '✓ Perfect! No grammar or spelling errors detected!';

                    window.grammarCheckResult.corrected = text;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                }
            } catch (error) {
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Unable to check grammar. Error: ' + error.message;
            }
        }

        function sendToTeacher() {
            const essayTitle = "A1-04: Singular & Plural Nouns";
            const originalText = window.grammarCheckResult.original;
            const correctedText = window.grammarCheckResult.corrected;

            const emailBody = `Essay Title: ${essayTitle}\n\nOriginal Essay:\n${originalText}\n\nWe made some changes:\n\nCorrected Text:\n${correctedText}`;
            const mailtoLink = `mailto:?subject=${encodeURIComponent(essayTitle)}&body=${encodeURIComponent(emailBody)}`;
            window.location.href = mailtoLink;
        }
    </script>
</body>
</html>
