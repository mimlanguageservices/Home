<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A1-15: Imperatives (Commands, Instructions)</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }

        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 0;
            overflow: hidden;
            height: 100%;
            background: white;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 30px 80px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 25px 35px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -70px;
        }

        .slide-arrow.next {
            right: -70px;
        }

        .slide-indicators {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            z-index: 10;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        .slide h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        .explanation-box {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 0;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .explanation-box h3 {
            color: #667eea;
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .explanation-box p {
            color: #2d3748;
            line-height: 1.5;
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .rule-box {
            background: #e3f2fd;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }

        .rule-box h4 {
            color: #667eea;
            font-size: 1.2rem;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .rule-box p {
            font-size: 1rem;
            color: #2d3748;
            margin: 5px 0;
        }

        .yes-no {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #4299e1;
            color: white;
        }

        .auxiliary {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #48bb78;
            color: white;
        }

        .subject {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #9f7aea;
            color: white;
        }

        .verb {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px;
            border-radius: 6px;
            font-weight: 600;
            font-size: 1rem;
            background: #ed64a6;
            color: white;
        }

        .example-box {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
        }

        .example-box p {
            margin: 5px 0;
            font-size: 1rem;
            color: #2d3748;
        }

        .note-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 12px;
            margin: 10px 0;
            border-radius: 8px;
        }

        .note-box strong {
            color: #856404;
            font-size: 1rem;
        }

        .note-box p {
            color: #856404;
            margin-top: 5px;
            line-height: 1.4;
            font-size: 0.95rem;
        }

        .exercise-container {
            background: transparent;
            border: none;
            border-radius: 0;
            padding: 0;
            margin-bottom: 10px;
            backdrop-filter: none;
            box-shadow: none;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .exercise-container h3 {
            color: #764ba2;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .question-box {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 12px;
            margin: 0;
        }

        .question-box p {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        input[type="text"] {
            width: 100%;
            padding: 12px 18px;
            margin: 8px 0;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            font-size: 1.05rem;
            font-family: 'Inter', sans-serif;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            margin: 15px 5px 10px 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .feedback {
            padding: 15px 20px;
            border-radius: 12px;
            margin: 15px 0;
            font-weight: 500;
            font-size: 1.05rem;
            display: none;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
            display: block;
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
            display: block;
        }

        ul {
            margin-left: 25px;
            line-height: 1.6;
        }

        li {
            margin: 6px 0;
            font-size: 1.05rem;
            color: #2d3748;
        }

        li strong {
            color: #667eea;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 10px;
            font-size: 1.05rem;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 10px;
            border: 1px solid #e2e8f0;
            font-size: 1rem;
            text-align: center;
        }

        .comparison-table tr:nth-child(even) {
            background: #f7fafc;
        }

        .explanation-box::-webkit-scrollbar {
            width: 8px;
        }

        .explanation-box::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 10px;
        }

        .explanation-box::-webkit-scrollbar-thumb:hover {
            background: #5568d3;
        }

        .formula-box {
            background: #e6fffa;
            border: 2px solid #319795;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 1.3rem;
        }

        .grid-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .grid-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .grid-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .reading-text {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            line-height: 1.9;
            margin: 15px 0;
            border: 2px solid #e2e8f0;
        }

        .reading-text p {
            margin: 12px 0;
        }

        .highlight-question {
            background: #bee3f8;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .highlight-answer {
            background: #c6f6d5;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
        }

        .example-sentence {
            font-size: 1.1rem;
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border-left: 3px solid #667eea;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-left">
            <h1>A1-15: Imperatives (Commands, Instructions)</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">mimlanguageservices</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="ESL Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('explanation', this)">Explanation</div>
            <div class="nav-item" onclick="showSection('examples', this)">Examples</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('media', this)">Media</div>
            <div class="nav-item" onclick="showSection('practice', this)">Practice</div>
            <div class="nav-item" onclick="showSection('writing', this)">Writing</div>
        </div>

        <div class="content">
            <!-- Explanation Section -->
            <div class="section active" id="explanation">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="explanation">
                            <h2>Welcome to Imperatives!</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.2rem; text-align: center; margin: 20px 0;">
                                    Today we will learn how to give <span class="verb">COMMANDS</span> and <span class="auxiliary">INSTRUCTIONS</span> in English!
                                </p>
                                <p style="font-size: 1.1rem; text-align: center;">
                                    Imperatives are used to tell someone to do something.
                                </p>
                                <div class="formula-box">
                                    <span class="verb">Base Verb</span> + Object/Complement
                                </div>
                                <p style="text-align: center; font-size: 1.1rem;">
                                    Examples: <strong>Open</strong> the door. / <strong>Sit</strong> down. / <strong>Be</strong> quiet.
                                </p>
                                <div class="rule-box">
                                    <h4>When to use imperatives:</h4>
                                    <p>• Giving commands or orders<br>
                                    • Giving instructions or directions<br>
                                    • Making requests<br>
                                    • Giving advice or warnings</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Affirmative Imperatives</h2>
                            <div class="explanation-box">
                                <h3>Structure: Base verb + complement</h3>

                                <div class="formula-box">
                                    <span class="verb">Base Verb</span> + rest of sentence
                                </div>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Base Verb</th>
                                        <th>Imperative</th>
                                        <th>Usage</th>
                                    </tr>
                                    <tr>
                                        <td>open</td>
                                        <td><strong>Open</strong> the window.</td>
                                        <td>Command</td>
                                    </tr>
                                    <tr>
                                        <td>sit</td>
                                        <td><strong>Sit</strong> down, please.</td>
                                        <td>Request</td>
                                    </tr>
                                    <tr>
                                        <td>turn</td>
                                        <td><strong>Turn</strong> left at the corner.</td>
                                        <td>Direction</td>
                                    </tr>
                                    <tr>
                                        <td>be</td>
                                        <td><strong>Be</strong> careful!</td>
                                        <td>Warning</td>
                                    </tr>
                                </table>

                                <div class="rule-box">
                                    <h4>Important Rules:</h4>
                                    <p>• No subject (you is understood)<br>
                                    • Always use the base form of the verb<br>
                                    • Can end with a period (.) or exclamation mark (!)</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Negative Imperatives</h2>
                            <div class="explanation-box">
                                <h3>Structure: Don't + base verb</h3>

                                <div class="formula-box">
                                    <span class="auxiliary">Don't</span> + <span class="verb">base verb</span> + rest of sentence
                                </div>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Affirmative</th>
                                        <th>Negative</th>
                                        <th>Meaning</th>
                                    </tr>
                                    <tr>
                                        <td>Run!</td>
                                        <td><strong>Don't run!</strong></td>
                                        <td>Stop running / Do not run</td>
                                    </tr>
                                    <tr>
                                        <td>Touch that.</td>
                                        <td><strong>Don't touch</strong> that.</td>
                                        <td>Do not touch that</td>
                                    </tr>
                                    <tr>
                                        <td>Be late.</td>
                                        <td><strong>Don't be</strong> late.</td>
                                        <td>Do not be late</td>
                                    </tr>
                                    <tr>
                                        <td>Forget your keys.</td>
                                        <td><strong>Don't forget</strong> your keys.</td>
                                        <td>Remember your keys</td>
                                    </tr>
                                </table>

                                <div class="rule-box">
                                    <h4>Note:</h4>
                                    <p>Use "Don't" (do not) for negative imperatives. Never use "doesn't" or other forms!</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Polite Imperatives</h2>
                            <div class="explanation-box">
                                <h3>Making imperatives more polite with "Please"</h3>

                                <div class="formula-box">
                                    <span class="subject">Please</span> + <span class="verb">imperative</span><br>
                                    OR<br>
                                    <span class="verb">Imperative</span> + <span class="subject">please</span>
                                </div>

                                <table class="comparison-table">
                                    <tr>
                                        <th>Direct (Less Polite)</th>
                                        <th>Polite (with Please)</th>
                                    </tr>
                                    <tr>
                                        <td>Close the door.</td>
                                        <td><strong>Please close</strong> the door. / Close the door, <strong>please</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td>Wait here.</td>
                                        <td><strong>Please wait</strong> here. / Wait here, <strong>please</strong>.</td>
                                    </tr>
                                    <tr>
                                        <td>Don't smoke here.</td>
                                        <td><strong>Please don't</strong> smoke here.</td>
                                    </tr>
                                </table>

                                <div class="note-box">
                                    <strong>Tip:</strong>
                                    <p>Adding "please" makes commands sound like polite requests rather than orders. Use it in formal situations or when speaking to strangers.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Imperatives for Instructions</h2>
                            <div class="explanation-box">
                                <h3>Using imperatives to give step-by-step instructions</h3>

                                <div class="example-box">
                                    <p><strong>How to Make Tea:</strong></p>
                                    <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px;">
                                        <p>1. <span class="verb">Boil</span> the water.</p>
                                        <p>2. <span class="verb">Put</span> a tea bag in a cup.</p>
                                        <p>3. <span class="verb">Pour</span> hot water over the tea bag.</p>
                                        <p>4. <span class="verb">Wait</span> for 3-5 minutes.</p>
                                        <p>5. <span class="verb">Remove</span> the tea bag.</p>
                                        <p>6. <span class="verb">Add</span> milk and sugar if you like.</p>
                                    </div>
                                </div>

                                <div class="example-box">
                                    <p><strong>Giving Directions:</strong></p>
                                    <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px;">
                                        <p>• <span class="verb">Go</span> straight ahead.</p>
                                        <p>• <span class="verb">Turn</span> right at the traffic lights.</p>
                                        <p>• <span class="verb">Walk</span> for about 5 minutes.</p>
                                        <p>• <span class="verb">Cross</span> the street.</p>
                                        <p>• <span class="verb">Take</span> the second left.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="explanation">
                            <h2>Common Mistakes with Imperatives</h2>
                            <div class="explanation-box">
                                <h3>❌ Mistake 1: Adding a subject</h3>
                                <div class="example-box">
                                    <p>❌ <del>You sit down.</del> → ✅ <strong>Sit</strong> down.</p>
                                    <p>❌ <del>You don't run!</del> → ✅ <strong>Don't</strong> run!</p>
                                </div>

                                <h3>❌ Mistake 2: Using "doesn't" instead of "don't"</h3>
                                <div class="example-box">
                                    <p>❌ <del>Doesn't touch that!</del> → ✅ <strong>Don't</strong> touch that!</p>
                                    <p>❌ <del>Doesn't be late!</del> → ✅ <strong>Don't</strong> be late!</p>
                                </div>

                                <h3>❌ Mistake 3: Adding -s or -ing to the verb</h3>
                                <div class="example-box">
                                    <p>❌ <del>Opens the window.</del> → ✅ <strong>Open</strong> the window.</p>
                                    <p>❌ <del>Waiting here.</del> → ✅ <strong>Wait</strong> here.</p>
                                </div>

                                <h3>❌ Mistake 4: Using "to" before the verb</h3>
                                <div class="example-box">
                                    <p>❌ <del>To close the door.</del> → ✅ <strong>Close</strong> the door.</p>
                                    <p>❌ <del>Please to help me.</del> → ✅ <strong>Please help</strong> me.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="explanation-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                    </div>
                </div>
            </div>

            <!-- Examples Section -->
            <div class="section" id="examples">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="examples">
                            <h2>Everyday Commands</h2>
                            <div class="explanation-box">
                                <h3>Common imperatives you'll hear every day:</h3>

                                <div class="grid-examples">
                                    <div class="grid-card">
                                        <strong>At Home:</strong><br><br>
                                        Close the door.<br>
                                        Turn off the lights.<br>
                                        Make your bed.<br>
                                        Clean your room.<br>
                                        Do your homework.
                                    </div>
                                    <div class="grid-card">
                                        <strong>In Class:</strong><br><br>
                                        Open your books.<br>
                                        Listen carefully.<br>
                                        Write this down.<br>
                                        Repeat after me.<br>
                                        Don't talk in class.
                                    </div>
                                </div>

                                <div class="grid-examples">
                                    <div class="grid-card">
                                        <strong>At Work:</strong><br><br>
                                        Send me the report.<br>
                                        Check your email.<br>
                                        Call the client.<br>
                                        Finish this by Friday.<br>
                                        Don't be late.
                                    </div>
                                    <div class="grid-card">
                                        <strong>In Public:</strong><br><br>
                                        Wait in line.<br>
                                        Keep quiet.<br>
                                        Don't touch that.<br>
                                        Stay back.<br>
                                        Watch your step.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Polite Requests</h2>
                            <div class="explanation-box">
                                <h3>Using imperatives politely in different situations:</h3>

                                <div class="example-box">
                                    <p><strong>At a Restaurant:</strong></p>
                                    <div class="example-sentence">Please bring me the menu.</div>
                                    <div class="example-sentence">Give me a glass of water, please.</div>
                                    <div class="example-sentence">Please don't put ice in my drink.</div>
                                </div>

                                <div class="example-box">
                                    <p><strong>In a Store:</strong></p>
                                    <div class="example-sentence">Please show me that shirt.</div>
                                    <div class="example-sentence">Tell me the price, please.</div>
                                    <div class="example-sentence">Please wrap it as a gift.</div>
                                </div>

                                <div class="example-box">
                                    <p><strong>Asking for Help:</strong></p>
                                    <div class="example-sentence">Please help me with this.</div>
                                    <div class="example-sentence">Explain it again, please.</div>
                                    <div class="example-sentence">Please don't tell anyone.</div>
                                </div>

                                <div class="note-box">
                                    <strong>Remember:</strong>
                                    <p>"Please" can go at the beginning or end of the sentence. Both are correct!</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="examples">
                            <h2>Warnings and Advice</h2>
                            <div class="explanation-box">
                                <h3>Using imperatives to warn or give advice:</h3>

                                <div class="example-box">
                                    <p><strong>Warnings (Be careful!):</strong></p>
                                    <div class="grid-examples">
                                        <div class="grid-card">
                                            Watch out!<br>
                                            Be careful!<br>
                                            Don't touch that!<br>
                                            Look out!<br>
                                            Stop!
                                        </div>
                                        <div class="grid-card">
                                            Don't go there!<br>
                                            Mind the gap!<br>
                                            Stay away!<br>
                                            Don't move!<br>
                                            Watch your head!
                                        </div>
                                    </div>
                                </div>

                                <div class="example-box">
                                    <p><strong>Giving Advice:</strong></p>
                                    <div class="grid-examples">
                                        <div class="grid-card">
                                            Take an umbrella.<br>
                                            Get some rest.<br>
                                            Drink plenty of water.<br>
                                            Don't worry about it.<br>
                                            Be positive!
                                        </div>
                                        <div class="grid-card">
                                            Study hard.<br>
                                            Don't give up.<br>
                                            Believe in yourself.<br>
                                            Try your best.<br>
                                            Don't be afraid.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="examples-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="reading">
                            <h2>Reading: Recipe Instructions</h2>
                            <div class="explanation-box">
                                <div class="reading-text">
                                    <p><strong>How to Make a Perfect Sandwich</strong></p>

                                    <p><strong>Ingredients needed:</strong> bread, butter, cheese, lettuce, tomato, ham</p>

                                    <p><strong>Instructions:</strong></p>

                                    <p>1. <span class="highlight-question">Take</span> two slices of bread.</p>

                                    <p>2. <span class="highlight-question">Spread</span> butter on both slices.</p>

                                    <p>3. <span class="highlight-question">Put</span> cheese on one slice.</p>

                                    <p>4. <span class="highlight-question">Add</span> lettuce and tomato on top of the cheese.</p>

                                    <p>5. <span class="highlight-question">Place</span> ham on the vegetables.</p>

                                    <p>6. <span class="highlight-question">Cover</span> with the other slice of bread.</p>

                                    <p>7. <span class="highlight-question">Cut</span> the sandwich in half.</p>

                                    <p>8. <span class="highlight-question">Enjoy</span> your sandwich!</p>

                                    <p><strong>Important Tips:</strong></p>
                                    <p>• <span class="highlight-answer">Don't use</span> too much butter.<br>
                                    • <span class="highlight-answer">Don't forget</span> to wash the vegetables.<br>
                                    • <span class="highlight-answer">Keep</span> the sandwich in the fridge if you're not eating it right away.</p>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="reading">
                            <h2>Analysis of Imperatives</h2>
                            <div class="explanation-box">
                                <h3>Affirmative Imperatives in the Recipe:</h3>
                                <div class="example-box">
                                    <p>• <strong>Take</strong> two slices of bread. (command)</p>
                                    <p>• <strong>Spread</strong> butter on both slices. (instruction)</p>
                                    <p>• <strong>Put</strong> cheese on one slice. (instruction)</p>
                                    <p>• <strong>Add</strong> lettuce and tomato. (instruction)</p>
                                    <p>• <strong>Place</strong> ham on the vegetables. (instruction)</p>
                                    <p>• <strong>Cover</strong> with the other slice. (instruction)</p>
                                    <p>• <strong>Cut</strong> the sandwich in half. (instruction)</p>
                                    <p>• <strong>Enjoy</strong> your sandwich! (friendly command)</p>
                                </div>

                                <h3>Negative Imperatives (Tips):</h3>
                                <div class="example-box">
                                    <p>• <strong>Don't use</strong> too much butter. (advice)</p>
                                    <p>• <strong>Don't forget</strong> to wash the vegetables. (warning/reminder)</p>
                                    <p>• <strong>Keep</strong> the sandwich in the fridge... (advice)</p>
                                </div>

                                <div class="rule-box">
                                    <h4>Notice:</h4>
                                    <p>All verbs are in the base form. No subjects are used. This is the standard format for instructions and recipes!</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="reading-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Media Section -->
            <div class="section" id="media">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="media">
                            <h2>Video: Imperatives - Commands and Instructions</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 20px;">Watch this video about imperatives in English:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/gkfnjW_2j8g"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p style="font-size: 1rem; color: #666; text-align: center; font-style: italic;">
                                    Learn how to give commands and instructions in English
                                </p>
                            </div>
                        </div>

                        <div class="slide" data-section="media">
                            <h2>Video: Using Imperatives</h2>
                            <div class="explanation-box">
                                <p style="font-size: 1.1rem; margin-bottom: 20px;">Watch this video about using imperatives:</p>
                                <div style="text-align: center; margin: 30px 0;">
                                    <iframe width="800" height="450"
                                        src="https://www.youtube.com/embed/bXL4Q_Vwkv8"
                                        style="border-radius: 15px; box-shadow: 0 8px 30px rgba(0,0,0,0.2);"
                                        frameborder="0"
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                        allowfullscreen>
                                    </iframe>
                                </div>
                                <p style="font-size: 1rem; color: #666; text-align: center; font-style: italic;">
                                    More examples of imperatives in everyday English
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="media-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                    </div>
                </div>
            </div>

            <!-- Practice Section -->
            <div class="section" id="practice">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="practice">
                            <h2>Practice 1: Identify the Imperative</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Which sentence is an imperative? Type: A, B, or C</p>
                                    <p>A) You close the door.<br>
                                    B) Close the door.<br>
                                    C) You are closing the door.</p>
                                    <input type="text" id="q1" placeholder="Type: A, B, or C" onkeypress="if(event.key==='Enter') checkAnswer1()">
                                    <button class="check-button" onclick="checkAnswer1()">Check Answer</button>
                                    <div id="feedback1" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 2: Make an Imperative</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Turn this into an imperative command:</p>
                                    <p>"You should open the window." → "___"</p>
                                    <input type="text" id="q2" placeholder="Type the imperative" onkeypress="if(event.key==='Enter') checkAnswer2()">
                                    <button class="check-button" onclick="checkAnswer2()">Check Answer</button>
                                    <div id="feedback2" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 3: Negative Imperative</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Make this negative:</p>
                                    <p>"Run in the classroom." → "___"</p>
                                    <input type="text" id="q3" placeholder="Type: Don't run..." onkeypress="if(event.key==='Enter') checkAnswer3()">
                                    <button class="check-button" onclick="checkAnswer3()">Check Answer</button>
                                    <div id="feedback3" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 4: Add "Please"</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Make this more polite by adding "please":</p>
                                    <p>"Wait here." → "___"</p>
                                    <input type="text" id="q4" placeholder="Type the polite imperative" onkeypress="if(event.key==='Enter') checkAnswer4()">
                                    <button class="check-button" onclick="checkAnswer4()">Check Answer</button>
                                    <div id="feedback4" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 5: Fix the Mistake</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fix this incorrect imperative:</p>
                                    <p>"You sit down!" → "___"</p>
                                    <input type="text" id="q5" placeholder="Type the correct imperative" onkeypress="if(event.key==='Enter') checkAnswer5()">
                                    <button class="check-button" onclick="checkAnswer5()">Check Answer</button>
                                    <div id="feedback5" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 6: Fix the Negative</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Fix this incorrect negative imperative:</p>
                                    <p>"Doesn't touch that!" → "___"</p>
                                    <input type="text" id="q6" placeholder="Type the correct form" onkeypress="if(event.key==='Enter') checkAnswer6()">
                                    <button class="check-button" onclick="checkAnswer6()">Check Answer</button>
                                    <div id="feedback6" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 7: Complete the Instruction</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Complete this instruction with the correct verb form:</p>
                                    <p>"___ (turn) right at the corner."</p>
                                    <input type="text" id="q7" placeholder="Type the complete sentence" onkeypress="if(event.key==='Enter') checkAnswer7()">
                                    <button class="check-button" onclick="checkAnswer7()">Check Answer</button>
                                    <div id="feedback7" class="feedback"></div>
                                </div>
                            </div>
                        </div>

                        <div class="slide" data-section="practice">
                            <h2>Practice 8: Warning or Advice</h2>
                            <div class="exercise-container">
                                <div class="question-box">
                                    <p>Write an imperative to warn someone about danger:</p>
                                    <p>"Warning: hot surface!" → "___"</p>
                                    <input type="text" id="q8" placeholder="e.g., Don't touch that!" onkeypress="if(event.key==='Enter') checkAnswer8()">
                                    <button class="check-button" onclick="checkAnswer8()">Check Answer</button>
                                    <div id="feedback8" class="feedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="practice-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                        <span class="indicator-dot" onclick="goToSlide(6)"></span>
                        <span class="indicator-dot" onclick="goToSlide(7)"></span>
                        <span class="indicator-dot" onclick="goToSlide(8)"></span>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <div class="slideshow-container">
                    <div class="slide-content-wrapper">
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <div class="slide active" data-section="writing" style="overflow-y: auto;">
                            <h2>Writing Practice</h2>
                            <div class="explanation-box">
                                <h3>Write instructions for making your favorite food or drink</h3>
                                <p style="margin-bottom: 15px;">Use imperatives to give clear step-by-step instructions. Include at least 6-8 steps.</p>
                                <div class="question-box">
                                    <textarea id="writing1" rows="8" style="width: 100%; padding: 12px; border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 8px; font-size: 1.05rem; font-family: 'Inter', sans-serif; resize: vertical;" spellcheck="true" placeholder="Example: How to Make Coffee - First, boil water. Put coffee in a cup. Pour hot water over the coffee..."></textarea>
                                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                                        <button class="check-button" onclick="checkGrammar()">Check Grammar</button>
                                        <button id="send-teacher-btn" class="check-button" onclick="sendToTeacher()" style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); opacity: 0.5; cursor: not-allowed;" disabled>Send to Teacher</button>
                                    </div>
                                    <div id="grammar-feedback" style="margin-top: 15px; padding: 15px; border-radius: 8px; display: none;"></div>
                                    <p style="font-size: 0.95rem; color: #666; margin-top: 10px;">Tips: Start each instruction with a verb. Use "Don't" for things to avoid. You can add "please" to be polite.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slide-indicators" id="writing-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        let currentSection = 'explanation';

        function showSection(sectionName, element) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            document.getElementById(sectionName).classList.add('active');

            if (element) {
                element.classList.add('active');
            }

            currentSection = sectionName;
            currentSlide = 1;

            setTimeout(() => {
                const activeSection = document.querySelector('.section.active');
                const inputField = activeSection.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                }
            }, 100);
        }

        function changeSlide(direction) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            if (slides.length === 1) return;

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > slides.length) {
                currentSlide = 1;
            }
            if (currentSlide < 1) {
                currentSlide = slides.length;
            }

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');

            setTimeout(() => {
                const activeSlide = slides[currentSlide - 1];
                const inputField = activeSlide.querySelector('input[type="text"]');
                if (inputField) {
                    inputField.focus();
                    inputField.value = '';
                }
            }, 100);
        }

        function goToSlide(slideNum) {
            const activeSection = document.querySelector('.section.active');
            const slides = activeSection.querySelectorAll('.slide');
            const dots = activeSection.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            dots[currentSlide - 1].classList.remove('active');

            currentSlide = slideNum;

            slides[currentSlide - 1].classList.add('active');
            dots[currentSlide - 1].classList.add('active');
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                changeSlide(-1);
            } else if (e.key === 'ArrowRight') {
                changeSlide(1);
            }
        });

        function checkAnswer1() {
            const answer = document.getElementById('q1').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback1');

            if (answer === 'b') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "B) Close the door." is an imperative - it gives a command.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Not quite. An imperative starts with the base verb, no subject. The answer is B.';
            }
        }

        function checkAnswer2() {
            const answer = document.getElementById('q2').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback2');

            if (answer === 'open the window' || answer === 'open the window.' || answer === 'open the window!') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! "Open the window." - Simple imperative using base verb.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Remove "you should" and use just the base verb: Open the window.';
            }
        }

        function checkAnswer3() {
            const answer = document.getElementById('q3').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback3');

            if (answer === "don't run in the classroom" || answer === "don't run in the classroom." || answer === "don't run in the classroom!" || answer === "do not run in the classroom" || answer === "do not run in the classroom." || answer === "do not run in the classroom!") {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Correct! "Don\'t run in the classroom." - Negative imperative.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use "Don\'t" + base verb: Don\'t run in the classroom.';
            }
        }

        function checkAnswer4() {
            const answer = document.getElementById('q4').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback4');

            if (answer === 'please wait here' || answer === 'please wait here.' || answer === 'wait here, please' || answer === 'wait here, please.' || answer === 'wait here please' || answer === 'wait here please.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! Adding "please" makes it polite: "Please wait here." or "Wait here, please."';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Add "please" at the beginning or end: Please wait here. / Wait here, please.';
            }
        }

        function checkAnswer5() {
            const answer = document.getElementById('q5').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback5');

            if (answer === 'sit down' || answer === 'sit down!' || answer === 'sit down.') {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Correct! "Sit down!" - Remove the subject "you" from imperatives.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Remove "you" - imperatives don\'t have subjects: Sit down!';
            }
        }

        function checkAnswer6() {
            const answer = document.getElementById('q6').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback6');

            if (answer === "don't touch that" || answer === "don't touch that!" || answer === "don't touch that." || answer === "do not touch that" || answer === "do not touch that!" || answer === "do not touch that.") {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Great! "Don\'t touch that!" - Use "don\'t" not "doesn\'t" for negative imperatives.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use "Don\'t" (not "Doesn\'t") for negative imperatives: Don\'t touch that!';
            }
        }

        function checkAnswer7() {
            const answer = document.getElementById('q7').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback7');

            if (answer === "turn right at the corner" || answer === "turn right at the corner." || answer === "turn right at the corner!") {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Perfect! "Turn right at the corner." - Base form of the verb.';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Use the base form "turn": Turn right at the corner.';
            }
        }

        function checkAnswer8() {
            const answer = document.getElementById('q8').value.trim().toLowerCase();
            const feedback = document.getElementById('feedback8');

            if (answer.includes("don't touch") || answer.includes("do not touch") || answer.includes("be careful") || answer.includes("watch out") || answer.includes("stay away") || answer.includes("don't go near")) {
                feedback.className = 'feedback correct';
                feedback.textContent = '✓ Excellent! Good warning using an imperative!';
                setTimeout(() => { changeSlide(1); }, 1500);
            } else {
                feedback.className = 'feedback incorrect';
                feedback.textContent = '✗ Try: "Don\'t touch that!" or "Be careful!" or "Watch out!"';
            }
        }

        async function checkGrammar() {
            const text = document.getElementById('writing1').value;
            const feedbackDiv = document.getElementById('grammar-feedback');
            const textarea = document.getElementById('writing1');

            if (!text.trim()) {
                feedbackDiv.style.display = 'block';
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Please write some sentences first!';
                return;
            }

            textarea.style.display = 'none';
            window.grammarCheckResult = { original: text, corrected: '' };

            feedbackDiv.style.display = 'block';
            feedbackDiv.style.background = 'rgba(102, 126, 234, 0.1)';
            feedbackDiv.style.border = '1px solid rgba(102, 126, 234, 0.3)';
            feedbackDiv.style.color = '#667eea';
            feedbackDiv.innerHTML = '⏳ Checking your grammar and spelling...';

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyBTH0NmDb3cqjrY6p7YROPIJel-iCxSxzs`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: `You are a strict grammar checker. Fix grammar and spelling errors. Do not change the meaning, style, or add punctuation unless absolutely necessary. Profanities are acceptable, but don't use shortened informal words like "cuz" or "wanna"\n\nText: "${text}"\n\nReturn only the corrected text with minimal changes.`
                            }]
                        }]
                    })
                });

                const data = await response.json();
                const correctedText = data.candidates?.[0]?.content?.parts?.[0]?.text?.trim() || text;

                if (correctedText !== text && correctedText.toLowerCase() !== text.toLowerCase()) {
                    const originalWords = text.split(/(\s+)/);
                    const correctedWords = correctedText.split(/(\s+)/);
                    let highlightedText = '';

                    originalWords.forEach((word, i) => {
                        if (word.match(/\s+/)) {
                            highlightedText += word;
                        } else if (correctedWords[i] && word.toLowerCase() !== correctedWords[i].toLowerCase()) {
                            highlightedText += `<span style="color: #e53e3e; font-weight: 600; background: rgba(245, 101, 101, 0.15); padding: 2px 4px; border-radius: 3px;">${word}</span>`;
                        } else {
                            highlightedText += word;
                        }
                    });

                    let html = `
                        <div style="margin-bottom: 20px;">
                            <strong style="color: #c53030;">Your Text (errors highlighted):</strong>
                            <div style="background: white; padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(245, 101, 101, 0.3); line-height: 1.8;">
                                ${highlightedText}
                            </div>
                        </div>
                        <div>
                            <strong style="color: #2f855a;">Corrected Text:</strong>
                            <div style="background: rgba(72, 187, 120, 0.1); padding: 15px; border-radius: 8px; margin-top: 10px; border: 2px solid rgba(72, 187, 120, 0.3); color: #2d3748; line-height: 1.8;">
                                ${correctedText}
                            </div>
                        </div>
                    `;

                    feedbackDiv.style.background = 'rgba(245, 101, 101, 0.05)';
                    feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                    feedbackDiv.style.color = '#2d3748';
                    feedbackDiv.innerHTML = html;

                    window.grammarCheckResult.corrected = correctedText;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                } else {
                    feedbackDiv.style.background = 'rgba(72, 187, 120, 0.1)';
                    feedbackDiv.style.border = '1px solid rgba(72, 187, 120, 0.3)';
                    feedbackDiv.style.color = '#2f855a';
                    feedbackDiv.innerHTML = '✓ Perfect! No grammar or spelling errors detected!';

                    window.grammarCheckResult.corrected = text;
                    const sendBtn = document.getElementById('send-teacher-btn');
                    sendBtn.disabled = false;
                    sendBtn.style.opacity = '1';
                    sendBtn.style.cursor = 'pointer';
                }
            } catch (error) {
                feedbackDiv.style.background = 'rgba(245, 101, 101, 0.1)';
                feedbackDiv.style.border = '1px solid rgba(245, 101, 101, 0.3)';
                feedbackDiv.style.color = '#c53030';
                feedbackDiv.innerHTML = '✗ Unable to check grammar. Error: ' + error.message;
            }
        }

        function sendToTeacher() {
            const essayTitle = "A1-15: Imperatives (Commands, Instructions)";
            const originalText = window.grammarCheckResult.original;
            const correctedText = window.grammarCheckResult.corrected;

            const emailBody = `Essay Title: ${essayTitle}\n\nOriginal Essay:\n${originalText}\n\nWe made some changes:\n\nCorrected Text:\n${correctedText}`;
            const mailtoLink = `mailto:?subject=${encodeURIComponent(essayTitle)}&body=${encodeURIComponent(emailBody)}`;
            window.location.href = mailtoLink;
        }
    </script>
</body>
</html>
