<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Superstitions - MIM Language Services</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .header-left {
            display: flex;
            flex-direction: column;
        }

        .header h1 {
            color: #2d3748;
            font-size: 2.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .header-image {
            width: 120px;
            height: 80px;
            border-radius: 12px;
            object-fit: cover;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .header .website {
            text-align: center;
            margin-top: 8px;
        }

        .header .website a {
            color: #4c51bf;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .header .website a:hover {
            color: #553c9a;
        }

        .container {
            display: flex;
            height: calc(100vh - 120px);
        }

        .navigation {
            width: 280px;
            background: rgba(45, 55, 72, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-item {
            padding: 16px 24px;
            margin: 8px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-weight: 500;
            font-size: 1.1rem;
            backdrop-filter: blur(5px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .nav-item.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .section {
            display: none;
            flex: 1;
            padding: 40px;
            overflow: hidden;
            height: 100%;
        }

        .section.active {
            display: flex;
            flex-direction: column;
        }

        .section h2 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            letter-spacing: -0.5px;
        }

        /* Discussion Slideshow Styles */
        #discussion {
            padding: 0;
            background: white;
        }

        .slideshow-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 40px 100px;
        }

        .slide-content-wrapper {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 85%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .discussion-slide {
            display: none;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .discussion-slide.active {
            display: flex;
            flex-direction: column;
            animation: slideIn 0.5s ease-in-out;
        }

        /* Image-only slide (Slide 1) */
        .slide-image-only {
            padding: 0;
        }

        /* Horizontal layout slides (Slides 2-5) */
        .slide-horizontal {
            flex-direction: row !important;
            gap: 30px;
        }

        .slide-text-section-left {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-right: 20px;
            max-width: 50%;
        }

        .slide-text-section-left h3 {
            font-size: 1.6rem;
            color: #2d3748;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .slide-text-section-left p {
            font-size: 1.05rem;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .slide-text-section-left ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .slide-text-section-left li {
            font-size: 1rem;
            color: #4a5568;
            line-height: 1.6;
            margin-bottom: 8px;
            padding-left: 22px;
            position: relative;
        }

        .slide-text-section-left li:before {
            content: "â€¢";
            color: #667eea;
            font-weight: bold;
            position: absolute;
            left: 8px;
        }

        .slide-image-section-right {
            width: 45%;
            max-width: 50%;
            height: 100%;
            position: relative;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 16px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide-image-section-right img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 14px;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Navigation Arrows - Outside the white box */
        .slide-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #8B7EC8;
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .slide-arrow:hover {
            background: #7366B0;
            transform: translateY(-50%) scale(1.1);
        }

        .slide-arrow.prev {
            left: -60px;
        }

        .slide-arrow.next {
            right: -60px;
        }

        /* Slide Indicators */
        .slide-indicators {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
        }

        .indicator-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #D1D5DB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .indicator-dot:hover {
            background: #9CA3AF;
        }

        /* Reading Section */
        .reading-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 80px);
        }

        .reading-nav {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .reading-subnav {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 30px;
        }

        .reading-level {
            flex: 1;
            position: relative;
            height: 100%;
            min-height: 500px;
        }

        .page-btn {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(102, 126, 234, 0.3);
            color: #4c51bf;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .page-btn.active, .page-btn:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .reading-page {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            overflow-y: auto;
            overflow-x: hidden;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
            scrollbar-width: auto;
            scrollbar-color: #c1c1c1 #f1f1f1;
        }

        .reading-page.active {
            display: block !important;
        }

        /* Force scrollbar to always be visible */
        .reading-page {
            -webkit-overflow-scrolling: touch;
        }

        .reading-page * {
            box-sizing: border-box;
        }

        /* Simplified scrollbar styling for reading pages */
        .reading-page::-webkit-scrollbar {
            width: 14px;
        }

        .reading-page::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 7px;
        }

        .reading-page::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 7px;
        }

        .reading-page::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

        .reading-page p {
            color: #2d3748;
            line-height: 1.8;
            margin-bottom: 25px;
            font-size: 1.15rem;
            font-weight: 400;
        }

        .reading-page h3 {
            color: #2d3748;
            margin-bottom: 20px;
            margin-top: 35px;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .vocab-link {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            padding: 3px 8px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            font-size: 1.15rem;
        }

        .vocab-link:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .popup-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 35px;
            max-width: 450px;
            margin: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
        }

        .popup-word {
            color: #2d3748;
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
        }

        .popup-definition {
            color: #4a5568;
            font-size: 1.2rem;
            line-height: 1.6;
            text-align: center;
        }

        .popup-close {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1.1rem;
            margin-top: 20px;
            display: block;
            width: 100%;
            transition: all 0.3s ease;
        }

        .popup-close:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        /* Vocabulary Section */
        .vocab-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
        }

        .vocab-nav {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .vocab-page {
            display: none;
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .vocab-page.active {
            display: block;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            height: auto;
            padding: 20px 0;
        }

        .flashcard {
            background: transparent;
            width: 100%;
            height: 220px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .flashcard-front {
            background: rgba(255, 255, 255, 0.9);
            color: #2d3748;
        }

        .flashcard-back {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            transform: rotateY(180deg);
        }

        .flashcard-term {
            font-weight: 700;
            font-size: 2rem;
            text-align: center;
        }

        .flashcard-definition {
            font-weight: 500;
            line-height: 1.5;
            text-align: center;
            font-size: 1.5rem;
        }

        .flashcard-hint {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.1rem;
            color: #a0aec0;
            opacity: 0.8;
        }

        .flashcard:hover .flashcard-inner {
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        /* Quiz Styles */
        .quiz-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            height: calc(100vh - 100px);
            overflow-y: auto;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1000px;
            margin-bottom: 30px;
            padding: 0 20px;
        }

        .question-counter {
            color: #4a5568;
            font-size: 1.2rem;
            font-weight: 500;
        }

        .quiz-nav {
            display: flex;
            gap: 15px;
        }

        .quiz-content {
            width: 100%;
            max-width: 1000px;
            position: relative;
            min-height: 400px;
        }

        .quiz-question {
            display: none;
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 40px;
            margin: 0 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .quiz-question.active {
            display: block;
        }

        .quiz-question h3 {
            color: #2d3748;
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 30px;
            text-align: center;
        }

        .multiple-choice {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .choice {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 25px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 500;
            color: #2d3748;
        }

        .choice:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .choice.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border-color: transparent;
        }

        .choice.correct {
            background: rgba(72, 187, 120, 0.2);
            border-color: #48bb78;
        }

        .choice.incorrect {
            background: rgba(245, 101, 101, 0.2);
            border-color: #f56565;
        }

        .quiz-input {
            width: 100%;
            max-width: 600px;
            margin: 0 auto 30px;
            padding: 20px 25px;
            font-size: 1.4rem;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 25px;
            text-align: center;
            font-family: inherit;
            background: rgba(255, 255, 255, 0.8);
            display: block;
            transition: all 0.3s ease;
        }

        .quiz-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
        }

        .check-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #ffffff;
            border: none;
            padding: 18px 35px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.5rem;
            font-weight: 600;
            margin: 25px auto;
            display: block;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .check-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .check-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .nav-btn {
            padding: 12px 25px;
            background: rgba(45, 55, 72, 0.9);
            color: #ffffff;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(102, 126, 234, 0.9);
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: rgba(160, 174, 192, 0.5);
            cursor: not-allowed;
            transform: none;
        }

        .feedback {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            font-weight: 500;
            text-align: center;
            font-size: 1.1rem;
        }

        .feedback.correct {
            background: rgba(72, 187, 120, 0.1);
            color: #2f855a;
            border: 1px solid rgba(72, 187, 120, 0.3);
        }

        .feedback.incorrect {
            background: rgba(245, 101, 101, 0.1);
            color: #c53030;
            border: 1px solid rgba(245, 101, 101, 0.3);
        }

        .results-summary {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            max-width: 700px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .results-summary h3 {
            color: #2d3748;
            font-size: 2.2rem;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .score {
            font-size: 4rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 25px 0;
        }

        /* Video Section */
        .video-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
            padding: 15px;
            justify-content: center;
        }

        /* Video Discussions Section */
        .video-discussions-container {
            display: flex;
            flex-direction: column;
            height: calc(100% - 120px);
            padding: 30px;
            overflow-y: auto;
        }

        /* Writing Section */
        .writing-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 100px);
            padding: 10px;
            overflow: hidden;
            justify-content: center;
            align-items: center;
        }

        .writing-content {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            max-width: 95%;
            width: 95%;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            max-height: calc(100vh - 140px);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .writing-objective {
            color: #4a5568;
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .writing-question {
            color: #2d3748;
            font-size: 1.8rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 30px;
        }

        .writing-form .form-group {
            margin-bottom: 20px;
        }

        .writing-form .form-group label {
            display: block;
            color: #2d3748;
            font-weight: 500;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .writing-form .form-group input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            font-size: 1rem;
            font-family: inherit;
            background: rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
        }

        .writing-form .form-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.2);
            background: rgba(255, 255, 255, 1);
        }

        .writing-form .button-container {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }

        .writing-form .check-button {
            flex: 1;
            max-width: 150px;
        }

        .tips-box {
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
        }

        .tips-box h4 {
            color: #2d3748;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            text-align: center;
        }

        .vocab-category {
            margin-bottom: 12px;
            line-height: 1.6;
        }

        .vocab-category strong {
            color: #2d3748;
            font-weight: 600;
            display: block;
            margin-bottom: 5px;
        }

        .vocab-items {
            color: #4a5568;
            font-style: italic;
        }

        /* Mobile Responsive Styles */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                height: auto;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }

            .header {
                flex-direction: column;
                text-align: center;
                padding: 20px 15px;
                background: rgba(255, 255, 255, 0.95);
            }

            .header h1 {
                font-size: 2rem;
                margin-bottom: 15px;
            }

            .header .website a {
                font-size: 1rem;
            }

            .header-image {
                width: 80px;
                height: 60px;
                margin-top: 15px;
            }

            .container {
                flex-direction: column;
                height: auto;
            }

            .navigation {
                width: 100%;
                padding: 20px 15px;
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                justify-content: center;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                background: rgba(45, 55, 72, 0.95);
            }

            .nav-item {
                flex: 1;
                min-width: 120px;
                margin: 5px;
                font-size: 0.95rem;
                padding: 12px 16px;
                border-radius: 20px;
            }

            .content {
                height: auto;
                overflow: visible;
                background: rgba(255, 255, 255, 0.95);
            }

            .section {
                padding: 25px 15px;
                height: auto;
                overflow: visible;
            }

            .section h2 {
                font-size: 1.7rem;
                text-align: center;
                margin-bottom: 15px;
            }

            .discussion-grid {
                display: flex;
                flex-direction: column;
                gap: 20px;
                height: auto;
            }

            .discussion-header {
                order: -1;
                padding: 20px;
            }

            .actual-image {
                width: 250px;
                height: 150px;
                margin: 0 auto 15px;
                border-radius: 12px;
            }

            .discussion-question {
                padding: 20px;
                border-radius: 12px;
            }

            .discussion-question h3 {
                font-size: 1.3rem;
            }

            /* Mobile styles for slideshow */
            .slideshow-container {
                padding: 20px 15px;
                height: auto;
                min-height: 100vh;
            }

            .slide-content-wrapper {
                height: auto;
                min-height: 80vh;
                max-width: 100%;
                padding: 0;
            }

            .discussion-slide {
                padding: 20px 15px;
                height: auto;
                min-height: 80vh;
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            }

            .slide-horizontal {
                flex-direction: column !important;
                gap: 20px;
            }

            .slide-text-section-left {
                max-width: 100%;
                padding-right: 0;
                margin-bottom: 20px;
            }

            .slide-text-section-left h3 {
                font-size: 1.4rem;
                margin-bottom: 15px;
                text-align: center;
            }

            .slide-text-section-left p {
                font-size: 1rem;
                line-height: 1.6;
                margin-bottom: 15px;
                text-align: center;
            }

            .slide-text-section-left ul {
                margin-top: 15px;
            }

            .slide-text-section-left li {
                font-size: 0.95rem;
                margin-bottom: 10px;
                padding-left: 25px;
            }

            .slide-image-section-right {
                width: 100%;
                max-width: 100%;
                height: 250px;
                margin-top: 20px;
                border-radius: 12px;
            }

            .slide-image-section-right img {
                border-radius: 10px;
            }

            .slide-arrow {
                width: 40px;
                height: 40px;
            }

            .slide-arrow.prev {
                left: -20px;
            }

            .slide-arrow.next {
                right: -20px;
            }

            .slide-indicators {
                bottom: 20px;
            }

            .indicator-dot {
                width: 10px;
                height: 10px;
            }

            .reading-nav, .reading-subnav {
                flex-wrap: wrap;
                gap: 8px;
                margin-bottom: 20px;
            }

            .page-btn {
                font-size: 1rem;
                padding: 10px 18px;
                border-radius: 20px;
            }

            .reading-page {
                padding: 25px 18px;
            }

            .reading-page p {
                font-size: 1.05rem;
                margin-bottom: 20px;
            }

            .reading-page h3 {
                font-size: 1.5rem;
                margin-top: 25px;
            }

            .video-container {
                padding: 20px 10px;
                height: auto;
            }

            .video-discussions-container {
                padding: 20px 15px;
                height: auto;
            }

            .quiz-container {
                height: auto;
            }

            .quiz-header {
                flex-direction: column;
                gap: 20px;
            }

            .quiz-nav {
                justify-content: center;
            }

            .nav-btn {
                font-size: 1rem;
                padding: 10px 20px;
                border-radius: 20px;
            }

            .quiz-question {
                padding: 30px 20px;
                margin: 0 10px;
                border-radius: 16px;
            }

            .quiz-question h3 {
                font-size: 1.6rem;
                margin-bottom: 25px;
            }

            .multiple-choice {
                grid-template-columns: 1fr;
                gap: 15px;
                max-width: 100%;
            }

            .choice {
                font-size: 1.1rem;
                padding: 20px;
                border-radius: 12px;
            }

            .quiz-input {
                font-size: 1.3rem;
                max-width: 100%;
                padding: 15px 20px;
                border-radius: 20px;
            }

            .check-button {
                font-size: 1.3rem;
                padding: 15px 30px;
                margin: 20px auto;
                border-radius: 20px;
            }

            .feedback {
                font-size: 1rem;
                margin: 20px 10px;
                border-radius: 10px;
            }

            .results-summary {
                padding: 30px 20px;
                margin: 0 10px;
                border-radius: 16px;
            }

            .results-summary h3 {
                font-size: 1.8rem;
            }

            .score {
                font-size: 3rem;
            }

            .vocab-container {
                height: auto;
            }

            .vocab-nav {
                gap: 8px;
            }

            .vocab-grid {
                grid-template-columns: 1fr;
                gap: 20px;
                height: auto;
            }

            .flashcard {
                height: 200px;
            }

            .flashcard-front, .flashcard-back {
                border-radius: 16px;
            }

            .flashcard-term {
                font-size: 1.7rem;
            }

            .flashcard-definition {
                font-size: 1.3rem;
            }

            .flashcard-hint {
                font-size: 1rem;
            }

            .popup-content {
                margin: 15px;
                padding: 30px 25px;
                max-width: 90%;
                border-radius: 16px;
            }

            .popup-word {
                font-size: 1.6rem;
            }

            .popup-definition {
                font-size: 1.1rem;
            }

            .popup-close {
                border-radius: 20px;
            }

            .vocab-link {
                font-size: 1rem;
                padding: 3px 8px;
                display: inline-block;
                margin: 1px;
                border-radius: 5px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 1.6rem;
            }

            .nav-item {
                font-size: 0.85rem;
                padding: 10px 12px;
                min-width: 100px;
            }

            .section {
                padding: 20px 12px;
            }

            .section h2 {
                font-size: 1.4rem;
                margin-bottom: 10px;
            }

            .quiz-question h3 {
                font-size: 1.4rem;
            }

            .flashcard {
                height: 180px;
            }

            .flashcard-term {
                font-size: 1.5rem;
            }

            .flashcard-definition {
                font-size: 1.2rem;
            }

            .reading-page {
                padding: 20px 15px;
            }

            .discussion-question {
                padding: 18px;
            }

            .actual-image {
                width: 200px;
                height: 120px;
            }

            .quiz-input {
                font-size: 1.2rem;
                padding: 12px 16px;
            }

            .check-button {
                font-size: 1.2rem;
                padding: 12px 25px;
            }

            /* Writing form mobile styles */
            .writing-content {
                padding: 30px 20px;
                margin: 0 10px;
            }

            .writing-question {
                font-size: 1.5rem;
            }

            .writing-form .button-container {
                flex-direction: column;
                gap: 10px;
            }

            .writing-form .check-button {
                max-width: none;
            }

            .tips-box {
                padding: 15px;
                margin: 20px 0;
            }

            .tips-box h4 {
                font-size: 1.1rem;
            }
        }

        @media (hover: none) and (pointer: coarse) {
            .nav-item,
            .choice,
            .flashcard,
            .vocab-link,
            .check-button,
            .page-btn {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .vocab-link {
                min-height: 32px;
                line-height: 1.2;
            }
        }
    </style>
</head>
<body>
    <!-- Audio elements for sound effects -->
    <audio id="flipSound" preload="auto">
        <source src="https://static.wixstatic.com/mp3/593d03_f6267363dcfb42e49efc4d6a65189d09.mp3" type="audio/mpeg">
    </audio>
    <audio id="correctSound" preload="auto">
        <source src="https://static.wixstatic.com/mp3/593d03_4391e836785b44ddba85840f97312533.mp3" type="audio/mpeg">
    </audio>

    <div class="header">
        <div class="header-left">
            <h1>Superstitions</h1>
            <div class="website">
                <a href="https://www.mimlanguageservices.com/" target="_blank">www.mimlanguageservices.com</a>
            </div>
        </div>
        <a href="https://www.mimlanguageservices.com/" target="_blank">
            <img src="https://static.wixstatic.com/media/593d03_8958d96b0f6d4d1ea9dffa7f89bffe8b~mv2.png" alt="MIM Logo" class="header-image">
        </a>
    </div>

    <div class="container">
        <div class="navigation">
            <div class="nav-item active" onclick="showSection('discussion', this)">Discussion</div>
            <div class="nav-item" onclick="showSection('reading', this)">Reading</div>
            <div class="nav-item" onclick="showSection('video', this)">Video</div>
            <div class="nav-item" onclick="showSection('video-discussions', this)">Video Discussions</div>
            <div class="nav-item" onclick="showSection('vocabulary', this)">Vocabulary</div>
            <div class="nav-item" onclick="showSection('quiz', this)">Interactive Quiz</div>
            <div class="nav-item" onclick="openWritingForm(this)">Writing</div>
        </div>

        <div class="content">
            <!-- Discussion Section with Slideshow -->
            <div class="section active" id="discussion">
                <div class="slideshow-container">

                    <div class="slide-content-wrapper">
                        <!-- Navigation Arrows - Outside the white box -->
                        <button class="slide-arrow prev" onclick="changeSlide(-1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                        </button>
                        <button class="slide-arrow next" onclick="changeSlide(1)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>

                        <!-- Slide 1 - Image Only -->
                        <div class="discussion-slide active slide-image-only">
                            <img src="https://images.unsplash.com/photo-1518709268805-4e9042af9f23?ixlib=rb-4.0.3&auto=format&fit=crop&w=1400&q=80" alt="Knocking on wood" style="width: 100%; height: 100%; object-fit: cover; border-radius: 16px;">
                        </div>

                        <!-- Slide 2 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>What Are Superstitions?</h3>
                                <p>Are you afraid of black cats? Would you open an umbrella indoors? And how do you feel about the number thirteen? Superstitions are beliefs about being lucky or unlucky that don't seem to be based on scientific thinking.</p>
                                <ul>
                                    <li><span class="vocab-link" onclick="showPopup('superstition', 'a belief that certain actions or events can bring good or bad luck')">Superstitions</span> exist in every culture around the world</li>
                                    <li>Many involve <span class="vocab-link" onclick="showPopup('supernatural', 'beyond what can be explained by nature or science')">supernatural</span> causes and effects</li>
                                    <li>They often survive long after their origins are forgotten</li>
                                    <li>People follow them out of cultural <span class="vocab-link" onclick="showPopup('habit', 'a regular tendency or practice')">habit</span> rather than conscious belief</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Black cat" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 3 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Religious Origins</h3>
                                <p>How superstitious are you? Many superstitions come from religious traditions that few people believe in or even remember today.</p>
                                <ul>
                                    <li>The number 13 is associated with the biblical Last Supper - Jesus and his 12 disciples</li>
                                    <li>Many buildings skip the 13th floor due to <span class="vocab-link" onclick="showPopup('triskaidekaphobia', 'fear of the number thirteen')">triskaidekaphobia</span></li>
                                    <li>Knocking on wood comes from <span class="vocab-link" onclick="showPopup('folklore', 'traditional stories and beliefs of a group of people')">folklore</span> about tree spirits</li>
                                    <li>Some superstitions are <span class="vocab-link" onclick="showPopup('remnants', 'small remaining parts of something that once existed')">remnants</span> of <span class="vocab-link" onclick="showPopup('pagan', 'relating to religions before or outside of Christianity')">pagan</span> religions</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Old tree" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 4 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Coincidences and Practical Origins</h3>
                                <p>Do you know anything about superstitions involving ladders, mirrors, or umbrellas? Some superstitions are based on unfortunate coincidences, while others once had practical purposes.</p>
                                <ul>
                                    <li>Walking under a ladder was dangerous - you could knock off the person at the top or they could drop something on you</li>
                                    <li>Opening umbrellas indoors was risky because 19th-century umbrellas had pointy metal spokes</li>
                                    <li>Breaking a mirror meant 7 years of bad luck - but also you could cut yourself on the glass</li>
                                    <li>These superstitions survive even though the original dangers are mostly gone</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1519710164239-da123dc03ef4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Ladder against wall" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>

                        <!-- Slide 5 -->
                        <div class="discussion-slide slide-horizontal">
                            <div class="slide-text-section-left">
                                <h3>Why Do People Believe?</h3>
                                <p>Why do people cling to these bits of forgotten religions and outdated advice? Are they being totally irrational?</p>
                                <ul>
                                    <li>Most people follow superstitions out of cultural <span class="vocab-link" onclick="showPopup('habit', 'a regular practice or tendency')">habit</span> rather than <span class="vocab-link" onclick="showPopup('conscious', 'aware and intentional')">conscious</span> belief</li>
                                    <li>If you grow up being told to avoid certain things, they make you uncomfortable even if you know they're <span class="vocab-link" onclick="showPopup('irrational', 'not based on logic or reason')">irrational</span></li>
                                    <li>Superstitions often seem to work due to psychological <span class="vocab-link" onclick="showPopup('bias', 'a tendency to favor certain ideas over others')">bias</span> - we remember the hits and forget the misses</li>
                                    <li>They can give us an <span class="vocab-link" onclick="showPopup('illusion', 'a false idea or belief')">illusion</span> of control over events</li>
                                </ul>
                            </div>
                            <div class="slide-image-section-right">
                                <img src="https://images.unsplash.com/photo-1516981442399-a91139e20143?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Lucky charm" style="width: 100%; height: 100%; object-fit: cover; border-radius: 14px;">
                            </div>
                        </div>
                    </div>

                    <!-- Slide Indicators -->
                    <div class="slide-indicators">
                        <span class="indicator-dot active" onclick="goToSlide(1)"></span>
                        <span class="indicator-dot" onclick="goToSlide(2)"></span>
                        <span class="indicator-dot" onclick="goToSlide(3)"></span>
                        <span class="indicator-dot" onclick="goToSlide(4)"></span>
                        <span class="indicator-dot" onclick="goToSlide(5)"></span>
                    </div>
                </div>
            </div>

            <!-- Reading Section -->
            <div class="section" id="reading">
                <h2>Reading: The Origins of Superstitions</h2>
                <div class="reading-container">
                    <div class="reading-nav">
                        <button class="page-btn active" onclick="showPage(1)">Page 1</button>
                        <button class="page-btn" onclick="showPage(2)">Page 2</button>
                        <button class="page-btn" onclick="showPage(3)">Page 3</button>
                    </div>
                    <div class="reading-level">
                        <div class="reading-page active" id="page1">
                            <h3>Knocking on Wood and Ancient Spirits</h3>
                            <p>How did it happen that people all over the world knock on wood or avoid stepping on sidewalk cracks? Well, although they have no basis in science, many of these weirdly specific beliefs and practices do have equally weird and specific origins.</p>

                            <p>Knocking on wood is thought to come from the <span class="vocab-link" onclick="showPopup('folklore', 'traditional stories and beliefs of a group of people')">folklore</span> of the ancient Indo-Europeans, or possibly people who pre-dated them, who believed that trees were home to various spirits. Touching a tree would invoke the protection or <span class="vocab-link" onclick="showPopup('blessing', 'a prayer or good wish, or divine favor')">blessing</span> of the spirit within. And <span class="vocab-link" onclick="showPopup('somehow', 'in a way that is not known or specified')">somehow</span>, this tradition survived long after belief in these spirits had faded away.</p>

                            <p>Many superstitions common today in countries from Russia to Ireland are thought to be <span class="vocab-link" onclick="showPopup('remnants', 'small remaining parts of something')">remnants</span> of the <span class="vocab-link" onclick="showPopup('pagan', 'relating to religions before or outside of Christianity')">pagan</span> religions that Christianity replaced. But not all superstitions are religious. Some are just based on unfortunate <span class="vocab-link" onclick="showPopup('coincidences', 'occasions when things happen at the same time by chance')">coincidences</span> and <span class="vocab-link" onclick="showPopup('associations', 'mental connections between ideas or things')">associations</span>.</p>
                        </div>

                        <div class="reading-page" id="page2">
                            <h3>The Number 13 and Other Unlucky Numbers</h3>
                            <p>Because they involve <span class="vocab-link" onclick="showPopup('supernatural', 'beyond what can be explained by nature or science')">supernatural</span> causes, it's no surprise that many superstitions are based in religion. For example, the number thirteen was associated with the biblical Last Supper, where Jesus Christ dined with his twelve disciples just before being arrested and crucified. The resulting idea that having thirteen people at a table was bad luck eventually expanded into thirteen being an unlucky number in general.</p>

                            <p>Now, this fear of the number thirteen, called <span class="vocab-link" onclick="showPopup('triskaidekaphobia', 'fear of the number thirteen')">triskaidekaphobia</span>, is so common that many buildings around the world skip the thirteenth floor, with the numbers going straight from twelve to fourteen. Of course, many people consider the story of the Last Supper to be true, but other superstitions come from religious traditions that few people believe in or even remember.</p>

                            <p>For example, many Italians fear the number 17 because the Roman numeral XVII can be rearranged to form the word <span class="vocab-link" onclick="showPopup('vixi', 'Latin for my life had ended')">vixi</span>, meaning "my life had ended." Similarly, the word for the number four sounds almost identical to the word for death in Cantonese, as well as languages like Japanese and Korean that have borrowed Chinese numerals. And since the number one also sounds like the word for "must," the number fourteen sounds like the phrase "must die."</p>
                        </div>

                        <div class="reading-page" id="page3">
                            <h3>Practical Origins and Psychological Reasons</h3>
                            <p>And believe it or not, some superstitions actually make senseâ€”or at least they did until we forgot their original purpose. For example, walking under a ladder could be dangerous because you might knock off the person at the top of the ladder or make them drop something on you. Opening an umbrella indoors was risky in the 19th century because umbrellas had pointy and dangerous metal spokes that could hurt someone.</p>

                            <p>So why do people <span class="vocab-link" onclick="showPopup('cling to', 'hold tightly to something, refusing to let go')">cling to</span> these bits of forgotten religions, <span class="vocab-link" onclick="showPopup('coincidences', 'occasions when things happen at the same time by chance')">coincidences</span>, and outdated advice? Aren't they being totally <span class="vocab-link" onclick="showPopup('irrational', 'not based on logic or reason')">irrational</span>? Well, yes, but for many people, superstitions are based more on cultural <span class="vocab-link" onclick="showPopup('habit', 'a regular practice or tendency')">habit</span> than <span class="vocab-link" onclick="showPopup('conscious', 'aware and intentional')">conscious</span> belief.</p>

                            <p>After all, no one is born knowing to avoid walking under ladders or whistling indoors, but if you grow up being told by your family to avoid these things, chances are they'll make you uncomfortable, even after you logically understand that nothing bad will happen. Besides, superstitions often do seem to work. Maybe you remember hitting a home run while wearing your lucky socks. This is just our psychological <span class="vocab-link" onclick="showPopup('bias', 'a tendency to favor certain ideas over others')">bias</span> at work. Believing that they work could actually make you perform better by giving you the <span class="vocab-link" onclick="showPopup('illusion', 'a false idea or belief')">illusion</span> of having greater control over events.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Section -->
            <div class="section" id="video">
                <h2>Watch & Learn</h2>
                <div class="video-container">
                    <iframe width="100%" height="100%" style="border-radius: 15px; box-shadow: 0 8px 32px rgba(0,0,0,0.1);"
                            src="https://www.youtube.com/embed/quOdF1CAPXs"
                            title="YouTube video player"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen>
                    </iframe>
                </div>
            </div>

            <!-- Video Discussions Section -->
            <div class="section" id="video-discussions">
                <h2>Video Discussion Questions</h2>
                <div class="video-discussions-container">
                    <div style="background: rgba(255, 255, 255, 0.9); border-radius: 20px; padding: 35px; box-shadow: 0 8px 32px rgba(0,0,0,0.1); backdrop-filter: blur(10px);">
                        <h3 style="color: #2d3748; font-size: 1.6rem; margin-bottom: 25px; text-align: center;">Discussion Questions</h3>

                        <div style="margin-bottom: 30px; padding: 25px; background: rgba(102, 126, 234, 0.05); border-left: 4px solid #667eea; border-radius: 10px;">
                            <h4 style="color: #2d3748; font-size: 1.3rem; margin-bottom: 15px;">Question 1: Types of Theft</h4>
                            <p style="color: #4a5568; line-height: 1.8; font-size: 1.1rem;">According to the video, what are the most common types of theft in urban areas? Which type do you think would be most difficult to prevent?</p>
                        </div>

                        <div style="margin-bottom: 30px; padding: 25px; background: rgba(102, 126, 234, 0.05); border-left: 4px solid #667eea; border-radius: 10px;">
                            <h4 style="color: #2d3748; font-size: 1.3rem; margin-bottom: 15px;">Question 2: Security Measures</h4>
                            <p style="color: #4a5568; line-height: 1.8; font-size: 1.1rem;">What security measures were discussed in the video? Have you implemented any of these in your own home or workplace?</p>
                        </div>

                        <div style="margin-bottom: 30px; padding: 25px; background: rgba(102, 126, 234, 0.05); border-left: 4px solid #667eea; border-radius: 10px;">
                            <h4 style="color: #2d3748; font-size: 1.3rem; margin-bottom: 15px;">Question 3: Psychology of Theft</h4>
                            <p style="color: #4a5568; line-height: 1.8; font-size: 1.1rem;">The video mentioned various motivations for stealing. In your opinion, what drives most people to commit theft? Is it desperation, greed, or something else?</p>
                        </div>

                        <div style="margin-bottom: 30px; padding: 25px; background: rgba(102, 126, 234, 0.05); border-left: 4px solid #667eea; border-radius: 10px;">
                            <h4 style="color: #2d3748; font-size: 1.3rem; margin-bottom: 15px;">Question 4: Personal Experience</h4>
                            <p style="color: #4a5568; line-height: 1.8; font-size: 1.1rem;">Have you or someone you know ever been the victim of theft? How did it make you feel, and did it change your behavior regarding security?</p>
                        </div>

                        <div style="padding: 25px; background: rgba(102, 126, 234, 0.05); border-left: 4px solid #667eea; border-radius: 10px;">
                            <h4 style="color: #2d3748; font-size: 1.3rem; margin-bottom: 15px;">Question 5: Modern Solutions</h4>
                            <p style="color: #4a5568; line-height: 1.8; font-size: 1.1rem;">How has technology changed the way we protect ourselves from thieves? Do you think modern security systems are effective, or do thieves always find new ways to adapt?</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Vocabulary Section -->
            <div class="section" id="vocabulary">
                <h2>Thief Vocabulary</h2>
                <div class="vocab-container">
                    <div class="vocab-nav">
                        <button class="page-btn active" onclick="showVocabPage(1, this)">Types of Thieves</button>
                        <button class="page-btn" onclick="showVocabPage(2, this)">Tools & Methods</button>
                        <button class="page-btn" onclick="showVocabPage(3, this)">Rob vs Steal</button>
                    </div>

                    <div class="vocab-page active" id="vocab-page-1">
                        <div class="vocab-grid">
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Pickpocket</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A thief who steals from people's pockets or bags in crowded places</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Mugger</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A thief who attacks and robs people using force or threats</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Burglar</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A thief who breaks into buildings to steal things</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Shoplifter</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A person who steals items from stores</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Con Artist</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A person who tricks others into giving them money or valuables</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Cat Burglar</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A skilled thief who enters buildings by climbing</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="vocab-page" id="vocab-page-2">
                        <div class="vocab-grid">
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Lockpicks</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Tools used to open locks without a key</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Crowbar</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A metal bar used to force open doors and windows</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Getaway Car</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A vehicle used to escape after committing a crime</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Accomplice</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A person who helps another commit a crime</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Heist</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A carefully planned robbery, especially of money or valuables</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Loot</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">Stolen money or goods</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="vocab-page" id="vocab-page-3">
                        <div class="vocab-grid">
                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">ROB</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">To steal from a PERSON or PLACE (rob someone, rob a bank)</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">STEAL</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">To take an OBJECT without permission (steal money, steal a car)</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Fence</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A person who buys and sells stolen goods</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Safecracker</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A thief who specializes in opening safes</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Bandit</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">An armed robber who attacks travelers or isolated places</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flashcard" onclick="flipCard(this)">
                                <div class="flashcard-inner">
                                    <div class="flashcard-front">
                                        <div class="flashcard-term">Thief</div>
                                        <div class="flashcard-hint">Click to see definition</div>
                                    </div>
                                    <div class="flashcard-back">
                                        <div class="flashcard-definition">A person who steals - general term for all types</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Interactive Quiz Section -->
            <div class="section" id="quiz">
                <h2>Interactive Quiz</h2>
                <div class="quiz-container">
                    <div class="quiz-header">
                        <div class="question-counter">
                            Question <span id="currentQuestion">1</span> of <span id="totalQuestions">10</span>
                        </div>
                        <div class="quiz-nav">
                            <button class="nav-btn" id="prevBtn" onclick="changeQuestion(-1)" disabled>Previous</button>
                            <button class="nav-btn" id="nextBtn" onclick="changeQuestion(1)">Next</button>
                        </div>
                    </div>

                    <div class="quiz-content">
                        <!-- Question 1 -->
                        <div class="quiz-question active" data-question="1">
                            <h3>What do you call a thief who steals from people's pockets in crowded places?</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'pickpocket')">Pickpocket</div>
                                <div class="choice" onclick="selectChoice(this, 'mugger')">Mugger</div>
                                <div class="choice" onclick="selectChoice(this, 'burglar')">Burglar</div>
                                <div class="choice" onclick="selectChoice(this, 'shoplifter')">Shoplifter</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('pickpocket', 1)">Check Answer</button>
                            <div class="feedback" id="feedback1" style="display: none;"></div>
                        </div>

                        <!-- Question 2 -->
                        <div class="quiz-question" data-question="2">
                            <h3>Which verb is correct? "Someone _____ the bank last night."</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'robbed')">robbed</div>
                                <div class="choice" onclick="selectChoice(this, 'stole')">stole</div>
                                <div class="choice" onclick="selectChoice(this, 'burgled')">burgled</div>
                                <div class="choice" onclick="selectChoice(this, 'mugged')">mugged</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('robbed', 2)">Check Answer</button>
                            <div class="feedback" id="feedback2" style="display: none;"></div>
                        </div>

                        <!-- Question 3 -->
                        <div class="quiz-question" data-question="3">
                            <h3>What tool is used to force open doors and windows?</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'lockpicks')">Lockpicks</div>
                                <div class="choice" onclick="selectChoice(this, 'crowbar')">Crowbar</div>
                                <div class="choice" onclick="selectChoice(this, 'screwdriver')">Screwdriver</div>
                                <div class="choice" onclick="selectChoice(this, 'hammer')">Hammer</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('crowbar', 3)">Check Answer</button>
                            <div class="feedback" id="feedback3" style="display: none;"></div>
                        </div>

                        <!-- Question 4 -->
                        <div class="quiz-question" data-question="4">
                            <h3>A person who buys and sells stolen goods is called a _____.</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'dealer')">Dealer</div>
                                <div class="choice" onclick="selectChoice(this, 'fence')">Fence</div>
                                <div class="choice" onclick="selectChoice(this, 'merchant')">Merchant</div>
                                <div class="choice" onclick="selectChoice(this, 'broker')">Broker</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('fence', 4)">Check Answer</button>
                            <div class="feedback" id="feedback4" style="display: none;"></div>
                        </div>

                        <!-- Question 5 -->
                        <div class="quiz-question" data-question="5">
                            <h3>Which is correct? "A thief _____ my wallet while I was on the bus."</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'robbed')">robbed</div>
                                <div class="choice" onclick="selectChoice(this, 'stole')">stole</div>
                                <div class="choice" onclick="selectChoice(this, 'burgled')">burgled</div>
                                <div class="choice" onclick="selectChoice(this, 'mugged')">mugged</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('stole', 5)">Check Answer</button>
                            <div class="feedback" id="feedback5" style="display: none;"></div>
                        </div>

                        <!-- Question 6 -->
                        <div class="quiz-question" data-question="6">
                            <h3>What do you call a carefully planned major robbery?</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'theft')">Theft</div>
                                <div class="choice" onclick="selectChoice(this, 'heist')">Heist</div>
                                <div class="choice" onclick="selectChoice(this, 'burglary')">Burglary</div>
                                <div class="choice" onclick="selectChoice(this, 'mugging')">Mugging</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('heist', 6)">Check Answer</button>
                            <div class="feedback" id="feedback6" style="display: none;"></div>
                        </div>

                        <!-- Question 7 -->
                        <div class="quiz-question" data-question="7">
                            <h3>A thief who uses deception and trickery rather than force is called a _____.</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'mugger')">Mugger</div>
                                <div class="choice" onclick="selectChoice(this, 'burglar')">Burglar</div>
                                <div class="choice" onclick="selectChoice(this, 'con artist')">Con artist</div>
                                <div class="choice" onclick="selectChoice(this, 'pickpocket')">Pickpocket</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('con artist', 7)">Check Answer</button>
                            <div class="feedback" id="feedback7" style="display: none;"></div>
                        </div>

                        <!-- Question 8 -->
                        <div class="quiz-question" data-question="8">
                            <h3>Which is correct? "They _____ me on the street and took my phone."</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'stole')">stole</div>
                                <div class="choice" onclick="selectChoice(this, 'robbed')">robbed</div>
                                <div class="choice" onclick="selectChoice(this, 'burgled')">burgled</div>
                                <div class="choice" onclick="selectChoice(this, 'shoplifted')">shoplifted</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('robbed', 8)">Check Answer</button>
                            <div class="feedback" id="feedback8" style="display: none;"></div>
                        </div>

                        <!-- Question 9 -->
                        <div class="quiz-question" data-question="9">
                            <h3>A thief who breaks into buildings to steal is called a _____.</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'mugger')">Mugger</div>
                                <div class="choice" onclick="selectChoice(this, 'burglar')">Burglar</div>
                                <div class="choice" onclick="selectChoice(this, 'pickpocket')">Pickpocket</div>
                                <div class="choice" onclick="selectChoice(this, 'shoplifter')">Shoplifter</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('burglar', 9)">Check Answer</button>
                            <div class="feedback" id="feedback9" style="display: none;"></div>
                        </div>

                        <!-- Question 10 -->
                        <div class="quiz-question" data-question="10">
                            <h3>Stolen money or goods are called _____.</h3>
                            <div class="multiple-choice">
                                <div class="choice" onclick="selectChoice(this, 'treasure')">Treasure</div>
                                <div class="choice" onclick="selectChoice(this, 'loot')">Loot</div>
                                <div class="choice" onclick="selectChoice(this, 'booty')">Booty</div>
                                <div class="choice" onclick="selectChoice(this, 'goods')">Goods</div>
                            </div>
                            <button class="check-button" onclick="checkAnswer('loot', 10)">Check Answer</button>
                            <div class="feedback" id="feedback10" style="display: none;"></div>
                        </div>

                        <!-- Results Screen -->
                        <div class="quiz-question" id="results-screen" style="display: none;">
                            <div class="results-summary">
                                <h3>Quiz Complete!</h3>
                                <div class="score" id="final-score">0/10</div>
                                <p style="color: #4a5568; font-size: 1.2rem; margin-bottom: 20px;">Great job completing the quiz!</p>
                                <button class="check-button" onclick="restartQuiz()">Restart Quiz</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Writing Section -->
            <div class="section" id="writing">
                <div class="writing-container">
                    <div class="writing-content">
                        <h2 style="color: #2d3748; font-size: 2.2rem; margin-bottom: 20px; text-align: center;">Writing Exercise</h2>

                        <p class="writing-objective">
                            Write a short story or paragraph using the vocabulary you've learned about thieves and theft. Practice using "rob" and "steal" correctly!
                        </p>

                        <h3 class="writing-question">Describe a fictional heist or theft scenario.</h3>

                        <div class="tips-box">
                            <h4>Remember to use:</h4>
                            <div class="vocab-category">
                                <strong>Types of Thieves:</strong>
                                <span class="vocab-items">pickpocket, mugger, burglar, shoplifter, con artist, cat burglar, safecracker</span>
                            </div>
                            <div class="vocab-category">
                                <strong>Tools & Methods:</strong>
                                <span class="vocab-items">lockpicks, crowbar, getaway car, accomplice</span>
                            </div>
                            <div class="vocab-category">
                                <strong>Related Terms:</strong>
                                <span class="vocab-items">heist, loot, fence</span>
                            </div>
                            <div class="vocab-category" style="margin-top: 15px; padding-top: 15px; border-top: 2px solid rgba(102, 126, 234, 0.3);">
                                <strong style="color: #d97706;">ROB = person/place:</strong>
                                <span class="vocab-items">rob a bank, rob someone, rob a store</span>
                            </div>
                            <div class="vocab-category">
                                <strong style="color: #059669;">STEAL = object:</strong>
                                <span class="vocab-items">steal money, steal a car, steal jewelry</span>
                            </div>
                        </div>

                        <form class="writing-form" onsubmit="submitWriting(event)">
                            <div class="form-group">
                                <label for="studentName">Your Name:</label>
                                <input type="text" id="studentName" name="studentName" required placeholder="Enter your name">
                            </div>

                            <div class="form-group">
                                <label for="writingResponse">Your Story (minimum 100 words):</label>
                                <textarea id="writingResponse" name="writingResponse" required
                                    style="width: 100%; min-height: 250px; padding: 20px; border: 2px solid rgba(102, 126, 234, 0.3); border-radius: 15px; font-size: 1.05rem; font-family: inherit; background: rgba(255, 255, 255, 0.8); line-height: 1.7; resize: vertical;"
                                    placeholder="Write your story here... Try to include different types of thieves, their tools, and use 'rob' and 'steal' correctly!"></textarea>
                            </div>

                            <div class="button-container">
                                <button type="submit" class="check-button">Submit Writing</button>
                                <button type="reset" class="check-button" style="background: rgba(160, 174, 192, 0.7);">Clear</button>
                            </div>
                        </form>

                        <div id="writingFeedback" style="display: none; margin-top: 25px; padding: 25px; border-radius: 15px; background: rgba(72, 187, 120, 0.1); border: 2px solid rgba(72, 187, 120, 0.3);">
                            <h4 style="color: #2f855a; font-size: 1.4rem; margin-bottom: 15px; text-align: center;">Submission Received!</h4>
                            <p style="color: #2d3748; font-size: 1.1rem; text-align: center;">Great work! Your teacher will review your writing.</p>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Popup for vocabulary definitions -->
    <div class="popup-overlay" id="popupOverlay" onclick="closePopup()">
        <div class="popup-content" onclick="event.stopPropagation()">
            <div class="popup-word" id="popupWord"></div>
            <div class="popup-definition" id="popupDefinition"></div>
            <button class="popup-close" onclick="closePopup()">Close</button>
        </div>
    </div>

    <script>
        // Navigation between sections
        function showSection(sectionId, navItem) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));

            // Show selected section
            document.getElementById(sectionId).classList.add('active');

            // Update navigation
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            navItem.classList.add('active');
        }

        // Flashcard flip function
        function flipCard(card) {
            card.classList.toggle('flipped');

            // Play sound effect
            const flipSound = document.getElementById('flipSound');
            if (flipSound) {
                flipSound.currentTime = 0;
                flipSound.play().catch(e => {
                    console.log('Audio playback failed:', e);
                });
            }
        }

        // Discussion Slideshow
        let currentSlide = 1;

        function changeSlide(direction) {
            const slides = document.querySelectorAll('.discussion-slide');
            const indicators = document.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            indicators[currentSlide - 1].classList.remove('active');

            currentSlide += direction;

            if (currentSlide > slides.length) currentSlide = 1;
            if (currentSlide < 1) currentSlide = slides.length;

            slides[currentSlide - 1].classList.add('active');
            indicators[currentSlide - 1].classList.add('active');
        }

        function goToSlide(slideNumber) {
            const slides = document.querySelectorAll('.discussion-slide');
            const indicators = document.querySelectorAll('.indicator-dot');

            slides[currentSlide - 1].classList.remove('active');
            indicators[currentSlide - 1].classList.remove('active');

            currentSlide = slideNumber;

            slides[currentSlide - 1].classList.add('active');
            indicators[currentSlide - 1].classList.add('active');
        }

        // Reading Pages
        function showPage(pageNumber) {
            const pages = document.querySelectorAll('.reading-page');
            const buttons = document.querySelectorAll('.reading-nav .page-btn');

            pages.forEach(page => page.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));

            document.getElementById('page' + pageNumber).classList.add('active');
            buttons[pageNumber - 1].classList.add('active');
        }

        // Vocabulary Pages
        function showVocabPage(pageNum, element) {
            // Hide all vocab pages
            const pages = document.querySelectorAll('.vocab-page');
            pages.forEach(page => page.classList.remove('active'));

            // Remove active class from all page buttons
            const buttons = document.querySelectorAll('.vocab-nav .page-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            // Show selected page
            document.getElementById('vocab-page-' + pageNum).classList.add('active');

            // Add active class to clicked button
            element.classList.add('active');
        }

        // Vocabulary Popup
        function showPopup(word, definition) {
            document.getElementById('popupWord').textContent = word.charAt(0).toUpperCase() + word.slice(1);
            document.getElementById('popupDefinition').textContent = definition;
            document.getElementById('popupOverlay').style.display = 'flex';
        }

        function closePopup() {
            document.getElementById('popupOverlay').style.display = 'none';
        }

        // Quiz Functionality
        let currentQuestionIndex = 1;
        let score = 0;
        let answeredQuestions = new Set();
        const totalQuestions = 10;

        function selectChoice(element, value) {
            const choices = element.parentElement.querySelectorAll('.choice');
            choices.forEach(choice => choice.classList.remove('selected'));
            element.classList.add('selected');
            element.dataset.value = value;
        }

        function checkAnswer(correctAnswer, questionNumber) {
            const question = document.querySelector(`[data-question="${questionNumber}"]`);
            const selected = question.querySelector('.choice.selected');
            const feedback = document.getElementById('feedback' + questionNumber);
            const checkButton = question.querySelector('.check-button');

            if (!selected) {
                alert('Please select an answer!');
                return;
            }

            checkButton.disabled = true;
            const choices = question.querySelectorAll('.choice');
            choices.forEach(choice => {
                choice.style.pointerEvents = 'none';
                if (choice.textContent.trim().toLowerCase() === correctAnswer.toLowerCase()) {
                    choice.classList.add('correct');
                }
            });

            if (selected.textContent.trim().toLowerCase() === correctAnswer.toLowerCase()) {
                feedback.textContent = 'âœ“ Correct! Well done!';
                feedback.className = 'feedback correct';
                if (!answeredQuestions.has(questionNumber)) {
                    score++;
                    answeredQuestions.add(questionNumber);
                }
                playSound('correctSound');
            } else {
                selected.classList.add('incorrect');
                feedback.textContent = 'âœ— Incorrect. The correct answer is: ' + correctAnswer;
                feedback.className = 'feedback incorrect';
                if (!answeredQuestions.has(questionNumber)) {
                    answeredQuestions.add(questionNumber);
                }
            }

            feedback.style.display = 'block';
        }

        function changeQuestion(direction) {
            const questions = document.querySelectorAll('.quiz-question:not(#results-screen)');

            if (currentQuestionIndex + direction < 1 || currentQuestionIndex + direction > totalQuestions) {
                if (currentQuestionIndex === totalQuestions && direction === 1) {
                    showResults();
                }
                return;
            }

            questions[currentQuestionIndex - 1].classList.remove('active');
            currentQuestionIndex += direction;
            questions[currentQuestionIndex - 1].classList.add('active');

            document.getElementById('currentQuestion').textContent = currentQuestionIndex;

            document.getElementById('prevBtn').disabled = currentQuestionIndex === 1;
            document.getElementById('nextBtn').textContent = currentQuestionIndex === totalQuestions ? 'Finish' : 'Next';
        }

        function showResults() {
            const questions = document.querySelectorAll('.quiz-question:not(#results-screen)');
            questions.forEach(q => q.classList.remove('active'));

            const resultsScreen = document.getElementById('results-screen');
            resultsScreen.style.display = 'block';

            document.getElementById('final-score').textContent = score + '/' + totalQuestions;

            document.querySelector('.quiz-header').style.display = 'none';
        }

        function restartQuiz() {
            currentQuestionIndex = 1;
            score = 0;
            answeredQuestions.clear();

            document.querySelectorAll('.quiz-question').forEach(question => {
                question.classList.remove('active');
                const choices = question.querySelectorAll('.choice');
                choices.forEach(choice => {
                    choice.classList.remove('selected', 'correct', 'incorrect');
                    choice.style.pointerEvents = 'auto';
                });
                const feedback = question.querySelector('.feedback');
                if (feedback) feedback.style.display = 'none';
                const checkButton = question.querySelector('.check-button');
                if (checkButton) checkButton.disabled = false;
            });

            document.querySelector('.quiz-question[data-question="1"]').classList.add('active');
            document.getElementById('results-screen').style.display = 'none';
            document.querySelector('.quiz-header').style.display = 'flex';

            document.getElementById('currentQuestion').textContent = '1';
            document.getElementById('prevBtn').disabled = true;
            document.getElementById('nextBtn').textContent = 'Next';
        }

        // Writing Form
        function openWritingForm(navItem) {
            showSection('writing', navItem);
        }

        function submitWriting(event) {
            event.preventDefault();

            const name = document.getElementById('studentName').value;
            const response = document.getElementById('writingResponse').value;

            if (response.split(/\s+/).length < 100) {
                alert('Please write at least 100 words.');
                return;
            }

            console.log('Student:', name);
            console.log('Response:', response);

            document.getElementById('writingFeedback').style.display = 'block';
            document.querySelector('.writing-form').reset();

            setTimeout(() => {
                document.getElementById('writingFeedback').style.display = 'none';
            }, 5000);
        }

        // Sound effects
        function playSound(soundId) {
            const sound = document.getElementById(soundId);
            if (sound) {
                sound.currentTime = 0;
                sound.play().catch(e => console.log('Sound play failed:', e));
            }
        }

        // Initialize quiz counter
        document.getElementById('totalQuestions').textContent = totalQuestions;
        document.getElementById('currentQuestion').textContent = '1';
    </script>
</body>
</html>